(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?s:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return cn}),n.d(e,"b",function(){return il}),n.d(e,"c",function(){return Zc}),n.d(e,"d",function(){return Jc}),n.d(e,"e",function(){return Xc}),n.d(e,"f",function(){return Jl}),n.d(e,"g",function(){return ql}),n.d(e,"h",function(){return Bu}),n.d(e,"i",function(){return gl}),n.d(e,"j",function(){return fu}),n.d(e,"k",function(){return al}),n.d(e,"l",function(){return mu}),n.d(e,"m",function(){return Cr}),n.d(e,"n",function(){return kc}),n.d(e,"o",function(){return To}),n.d(e,"p",function(){return An}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return un}),n.d(e,"s",function(){return Bo}),n.d(e,"t",function(){return Pu}),n.d(e,"u",function(){return Lu}),n.d(e,"v",function(){return sl}),n.d(e,"w",function(){return Zu}),n.d(e,"x",function(){return Hl}),n.d(e,"y",function(){return Xu}),n.d(e,"z",function(){return Ml}),n.d(e,"A",function(){return bl}),n.d(e,"B",function(){return kn}),n.d(e,"C",function(){return rl}),n.d(e,"D",function(){return nl}),n.d(e,"E",function(){return vu}),n.d(e,"F",function(){return bu}),n.d(e,"G",function(){return Rr}),n.d(e,"H",function(){return _u}),n.d(e,"I",function(){return vr}),n.d(e,"J",function(){return Rn}),n.d(e,"K",function(){return Ql}),n.d(e,"L",function(){return Wu}),n.d(e,"M",function(){return Sl}),n.d(e,"N",function(){return ln}),n.d(e,"O",function(){return Ou}),n.d(e,"P",function(){return Eu}),n.d(e,"Q",function(){return ec}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return Ll}),n.d(e,"T",function(){return Dl}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return Nl}),n.d(e,"W",function(){return Kl}),n.d(e,"X",function(){return xl}),n.d(e,"Y",function(){return ol}),n.d(e,"Z",function(){return xo}),n.d(e,"ab",function(){return ua}),n.d(e,"bb",function(){return yr}),n.d(e,"cb",function(){return Zn}),n.d(e,"db",function(){return qn}),n.d(e,"eb",function(){return Hn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Gn}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return Qn}),n.d(e,"jb",function(){return ia}),n.d(e,"kb",function(){return Wl}),n.d(e,"lb",function(){return oa}),n.d(e,"mb",function(){return sa}),n.d(e,"nb",function(){return Bn}),n.d(e,"ob",function(){return q}),n.d(e,"pb",function(){return Xo}),n.d(e,"qb",function(){return bs}),n.d(e,"rb",function(){return ms}),n.d(e,"sb",function(){return ys}),n.d(e,"tb",function(){return ra}),n.d(e,"ub",function(){return Tt}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Un}),n.d(e,"xb",function(){return zo}),n.d(e,"yb",function(){return wt}),n.d(e,"zb",function(){return cu}),n.d(e,"Ab",function(){return Ii}),n.d(e,"Bb",function(){return rs}),n.d(e,"Cb",function(){return Ms}),n.d(e,"Db",function(){return Xs}),n.d(e,"Eb",function(){return Ps}),n.d(e,"Fb",function(){return zc}),n.d(e,"Gb",function(){return Z}),n.d(e,"Hb",function(){return st}),n.d(e,"Ib",function(){return _}),n.d(e,"Jb",function(){return E}),n.d(e,"Kb",function(){return rt}),n.d(e,"Lb",function(){return at}),n.d(e,"Mb",function(){return as}),n.d(e,"Nb",function(){return fs}),n.d(e,"Ob",function(){return ps}),n.d(e,"Pb",function(){return ds}),n.d(e,"Qb",function(){return hs}),n.d(e,"Rb",function(){return ls}),n.d(e,"Sb",function(){return gs}),n.d(e,"Tb",function(){return nn}),n.d(e,"Ub",function(){return Zs}),n.d(e,"Vb",function(){return Za}),n.d(e,"Wb",function(){return eu}),n.d(e,"Xb",function(){return tu}),n.d(e,"Yb",function(){return Tn}),n.d(e,"Zb",function(){return on}),n.d(e,"ac",function(){return Yc}),n.d(e,"bc",function(){return vs}),n.d(e,"cc",function(){return Gc}),n.d(e,"dc",function(){return Es}),n.d(e,"ec",function(){return Cc}),n.d(e,"fc",function(){return Sc}),n.d(e,"gc",function(){return Tc}),n.d(e,"hc",function(){return Ic}),n.d(e,"ic",function(){return Ss}),n.d(e,"jc",function(){return Cs}),n.d(e,"kc",function(){return us}),n.d(e,"lc",function(){return Ts}),n.d(e,"mc",function(){return Is}),n.d(e,"nc",function(){return mc}),n.d(e,"oc",function(){return yc}),n.d(e,"pc",function(){return bc}),n.d(e,"qc",function(){return vc}),n.d(e,"rc",function(){return Bc}),n.d(e,"sc",function(){return ss}),n.d(e,"tc",function(){return Ar}),n.d(e,"uc",function(){return Qt}),n.d(e,"vc",function(){return wr}),n.d(e,"wc",function(){return it}),n.d(e,"xc",function(){return Ds}),n.d(e,"yc",function(){return os}),n.d(e,"zc",function(){return Kc}),n.d(e,"Ac",function(){return Ws}),n.d(e,"Bc",function(){return Ks}),n.d(e,"Cc",function(){return Ys}),n.d(e,"Dc",function(){return Js}),n.d(e,"Ec",function(){return Hc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${b(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return C(t,T)||C(t,x)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(A))?t[I]:null}const T=u({"\u0275prov":u}),I=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function j(t){const e=R;return R=t,e}function N(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function D(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,q=L||U||F||V,B={},H=[],z=[],G=u({"\u0275cmp":u}),Q=u({"\u0275dir":u}),$=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),K=u({"\u0275loc":u}),Y=u({"\u0275fac":u}),J=u({__NG_ELEMENT_ID__:u});let X=0;function Z(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[Q]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{nt[t.id]=t.type}),e}function it(t,e){return D(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=Z;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[G]||null}function ct(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Et}function Et(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new vt(u&&u.currentValue,e,s===B),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let St;function Tt(t){St=t}function It(){return void 0!==St?St:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}wt.ngInherit=!0;const At={createRenderer:(t,e)=>It()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return kt(e[t])}function jt(t,e){return kt(e[t.index])}function Nt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Pt(t,e){const n=e[t];return ft(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function Gt(){return Bt.lFrame.tView}function Qt(t){Bt.lFrame.contextLView=t}function $t(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Bt.lFrame.currentTNode}function Kt(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Bt.lFrame.isParent}function Xt(){Bt.lFrame.isParent=!1}function Zt(){return Bt.isInCheckNoChangesMode}function te(t){Bt.isInCheckNoChangesMode=t}function ee(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return Bt.lFrame.bindingIndex}function re(){return Bt.lFrame.bindingIndex++}function ie(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){Bt.lFrame.inI18n=t}function se(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){Bt.lFrame.currentDirectiveIndex=t}function ue(){return Bt.lFrame.currentQueryIndex}function ce(t){Bt.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=de();return r.currentTNode=e,r.lView=t,!0}function fe(t){const e=de(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function de(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?pe(t):e}function pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const me=ge;function ye(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return Bt.lFrame.selectedIndex}function ve(t){Bt.lFrame.selectedIndex=t}function we(){const t=Bt.lFrame;return Nt(t.tView,t.selectedIndex)}function _e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ee(t,e,n){Se(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ie=-1;class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ae(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Re(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ke(t){return 3===t||4===t||6===t}function Re(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ne(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ne(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function De(t){return t!==Ie}function Pe(t){return 32767&t}function Me(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Ve=0;function Ue(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=He(t,e),o=t.injectorIndex;if(De(i)){const t=Pe(i),n=Me(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ie;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ie}function ze(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Ve++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ge(t,e,n){if(n&k.Optional)return t;v(e,"NodeInjector")}function Qe(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=j(void 0);try{return i?i.get(e,r,n&k.Optional):N(e,r,n&k.Optional)}finally{j(o)}}return Ge(r,e,n)}function $e(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!he(e,t,r))return r&k.Host?Ge(i,n,r):Qe(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;v(n)}finally{me()}}else if("number"==typeof o){let i=null,s=Be(t,e),a=Ie,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?He(t,e):e[s+8],a!==Ie&&tn(r,!1)?(i=e[1],s=Pe(a),e=Me(a,e)):s=-1);-1!==s;){const t=e[1];if(Ze(o,s,t.data)){const t=Ye(s,e,n,i,r,u);if(t!==We)return t}a=e[s+8],a!==Ie&&tn(r,e[1].data[s+8]===u)&&Ze(o,s,e)?(i=t,s=Pe(a),e=Me(a,e)):s=-1}}}return Qe(e,n,r,i)}const We={};function Ke(){return new en($t(),zt())}function Ye(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Je(a,s,n,null==r?gt(a)&&Le:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?Xe(e,s,u,a):We}function Je(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function Xe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof xe){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=Fe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?j(s.injectImpl):null;he(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&j(u),Fe(a),s.resolving=!1,me()}}return i}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&k.Self||t&k.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return $e(this._tNode,this._lView,t,void 0,e)}}function nn(t){return D(()=>{const e=t.prototype.constructor,n=e[Y]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return g(t)?()=>{const e=rn(p(t));return e&&e()}:bt(t)}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ke(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const sn="__parameters__";function an(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cn=new un("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function fn(t,e){t.forEach(t=>Array.isArray(t)?fn(t,e):e(t))}function dn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn={},wn=/\n/gm,_n="__source",En=u({provide:String,useValue:u});let On;function Cn(t){const e=On;return On=t,e}function Sn(t,e=k.Default){if(void 0===On)throw new Error("inject() must be called from an injection context");return null===On?N(t,void 0,e):On.get(t,e&k.Optional?null:void 0,e)}function Tn(t,e=k.Default){return(R||Sn)(p(t),e)}function In(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Tn(t,n))}else e.push(Tn(r))}return e}function xn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=xn(an("Inject",t=>({token:t})),-1),kn=xn(an("Optional"),8),Rn=xn(an("SkipSelf"),4);let jn;function Nn(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,q.trustedTypes))try{jn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return jn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pn extends Dn{getTypeName(){return"HTML"}}class Mn extends Dn{getTypeName(){return"Style"}}class Ln extends Dn{getTypeName(){return"Script"}}class Fn extends Dn{getTypeName(){return"URL"}}class Vn extends Dn{getTypeName(){return"ResourceURL"}}function Un(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function qn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Dn&&t.getTypeName()||null}function Hn(t){return new Pn(t)}function zn(t){return new Mn(t)}function Gn(t){return new Ln(t)}function Qn(t){return new Fn(t)}function $n(t){return new Vn(t)}function Wn(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Jn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){return(t=String(t)).split(",").map(t=>Zn(t.trim())).join(", ")}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=er("rp,rt"),sr=nr(or,ir),ar=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(or,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ur=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=nr(ur,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!lr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;ur[i]&&(o=Zn(o)),cr[i]&&(o=tr(o)),this.buf.push(" ",e,'="',gr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ar.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function yr(t,e){let n=null;try{mr=mr||Wn(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==o);return Nn((new fr).sanitizeChildren(br(n)||n))}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":qn(t,"URL")?Un(t):Zn(y(t))}function _r(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(Er(t)):null}_findOriginalError(t){let e=Er(t);for(;e&&Er(e);)e=Er(e);return e}}const Sr=/^>|^->|<!--|-->|--!>|<!-$/g,Tr=/(<|>)/;function Ir(t,e){t.__ngContext__=e}const xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Ar(t){return{name:"window",target:t.ownerDocument.defaultView}}function kr(t){return t instanceof Function?t():t}var Rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let jr;function Nr(t,e){return jr(t,e)}function Dr(t){const e=t[3];return dt(e)?e[3]:e}function Pr(t){return Lr(t[13])}function Mr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Yr(e,n,a):Kr(e,n,a,i||null,!0):1===t&&null!==n?Kr(e,n,a,i||null,!0):2===t?ui(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Fr(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];li(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Vr(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}function Ur(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}function qr(t,e){return t.createComment(function(t){return t.replace(Sr,t=>t.replace(Tr,"\u200b$1\u200b"))}(e))}function Br(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function zr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Hr(o,r),e>0&&(t[n-1][4]=r[4]);const s=pn(t,ht+e);li(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Gr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&li(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Qr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Qr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function $r(t,e,n){return Wr(t,e.parent,n)}function Wr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return jt(r,n)}function Kr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Yr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Jr(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):Yr(t,e,n)}function Xr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Zr(t,e,n){return ni(t,e,n)}function ti(t,e,n){return 40&t.type?jt(t,n):null}let ei,ni=ti;function ri(t,e){ni=t,ei=e}function ii(t,e,n,r){const i=$r(t,r,e),o=e[11],s=Zr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Jr(o,i,n[a],s,!1);else Jr(o,i,n,s,!1);void 0!==ei&&ei(o,r,e,n,i)}function oi(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return ai(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return oi(t,n);{const n=t[e.index];return dt(n)?ai(-1,n):kt(n)}}if(32&n)return Nr(e,t)()||kt(t[e.index]);{const n=si(t,e);return null!==n?Array.isArray(n)?n[0]:oi(Dr(t[16]),n):oi(t,e.next)}}return null}function si(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ai(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return oi(t,r)}return e[7]}function ui(t,e,n){const r=Xr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ci(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Ir(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ci(t,e,n.child,r,i,o,!1),Fr(e,t,i,a,o);else if(32&u){const s=Nr(n,r);let u;for(;u=s();)Fr(e,t,i,u,o);Fr(e,t,i,a,o)}else 16&u?hi(t,e,r,n,i,o):Fr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function li(t,e,n,r,i,o){ci(n,r,t.firstChild,e,i,o,!1)}function hi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Fr(e,t,i,a[u],o);else ci(t,e,a,s[3],i,o,!0)}function fi(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function di(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function pi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const gi="ng-template";function mi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==pi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function yi(t){return 4===t.type&&t.value!==gi}function bi(t,e,n){return e===(4!==t.type||n?t.value:gi)}function vi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!bi(t,u,n)||""===u&&1===e.length){if(wi(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!mi(t.attrs,c,n)){if(wi(r))return!1;s=!0}continue}const l=_i(8&r?"class":u,i,yi(t),n);if(-1===l){if(wi(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==pi(e,c,0)||2&r&&c!==t){if(wi(r))return!1;s=!0}}}}else{if(!s&&!wi(r)&&!wi(u))return!1;if(s&&wi(u))continue;s=!1,r=u|1&r}}return wi(r)||s}function wi(t){return 0==(1&t)}function _i(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(vi(t,e[r],n))return!0;return!1}function Oi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ci(t,e){return t?":not("+e.trim()+")":e}function Si(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||wi(s)||(e+=Ci(o,i),i=""),r=s,o=o||!wi(r);n++}return""!==i&&(e+=Ci(o,i)),e}const Ti={};function Ii(t){xi(Gt(),zt(),be()+t,Zt())}function xi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ee(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}ve(n)}function Ai(t,e){return t<<17|e<<2}function ki(t){return t>>17&32767}function Ri(t){return 2|t}function ji(t){return(131068&t)>>2}function Ni(t,e){return-131069&t|e<<2}function Di(t){return 1|t}function Pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ce(i),n.contentQueries(2,e[o],o)}}}function Mi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Li(t,e,n,r,i){let o=t.data[e];if(null===o)o=Fi(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Kt();o.injectorIndex=null===t?-1:t.injectorIndex}return Yt(o,!0),o}function Fi(t,e,n,r,i){const o=Wt(),s=Jt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Vi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ui(t,e,n){fe(e);try{const r=t.viewQuery;null!==r&&bo(1,r,n);const i=t.template;null!==i&&Hi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pi(t,e),t.staticViewQueries&&bo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)fo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ye()}}function qi(t,e,n,r){const i=e[2];if(256==(256&i))return;fe(e);const o=Zt();try{Ut(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Hi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ee(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Mr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&qi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ee(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];se(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)lo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&bo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ee(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{ye()}}function Bi(t,e,n,r){const i=e[10],o=!Zt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&Ui(t,e,r),qi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Hi(t,e,n,r,i){const o=be();try{ve(-1),2&r&&e.length>lt&&xi(t,e,lt,Zt()),n(r,i)}finally{ve(o)}}function zi(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Gi(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ue(n,e),Ir(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&oo(e,n,r);const u=Xe(e,t,a,n);Ir(u,e),null!==s&&ao(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||to(r,i)}}finally{ve(-1),ae(s)}}(t,e,n))}function Qi(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function $i(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Wi(t,e,n,r,i,o,s,a,u,c){const l=lt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ti);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ki(t,e,n,r){const i=wo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_o(t).push(r,i.length-1))}function Yi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ji(t,e,n,r,i,o,s,a){const u=jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Oo(t,n,c,r,i),gt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Re(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Xi(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ei(n,s.selectors,!1)&&(i||(i=[]),ze(Ue(n,e),t,s.type),yt(s)?(eo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ro(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Vi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),io(t,n,e,u,c),no(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||yi(e)?null:uo(n,i);o.push(c),s=Yi(n,u,s),a=Yi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Zi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function to(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function eo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function no(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function ro(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function io(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new xe(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Zi(t,e,0,r,Vi(t,n,i.hostVars,Ti),i)}function oo(t,e,n){const r=jt(e,t),i=$i(n),o=t[10],s=po(t,Mi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function so(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ao(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function uo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function co(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function lo(t,e){const n=Pt(e,t);if(Ft(n)){const t=n[1];80&n[2]?qi(t,n,t.template,n[8]):n[5]>0&&ho(n)}}function ho(t){for(let n=Pr(t);null!==n;n=Mr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];qi(t,e,t.template,e[8])}else e[5]>0&&ho(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Ft(r)&&r[5]>0&&ho(r)}}function fo(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ui(r,n,n[8])}function po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function go(t){for(;t;){t[2]|=64;const e=Dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function mo(t,e,n){const r=e[10];r.begin&&r.begin();try{qi(t,e,t.template,n)}catch(i){throw Eo(e,i),i}finally{r.end&&r.end()}}function yo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];Bi(i,r,i.template,n)}}(t[8])}function bo(t,e,n){ce(0),e(t,n)}const vo=(()=>Promise.resolve(null))();function wo(t){return t[7]||(t[7]=[])}function _o(t){return t.cleanup||(t.cleanup=[])}function Eo(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function Oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Co(t,e,n){const r=Rt(e,t);Ur(t[11],r,n)}function So(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const To=new un("INJECTOR",-1);class Io{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const xo=new un("Set Injector scope."),Ao={},ko={},Ro=[];let jo;function No(){return void 0===jo&&(jo=new Io),jo}function Do(t,e=null,n=null,r){return new Po(t,n,e||No(),r)}class Po{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&fn(e,n=>this.processProvider(n,t,e)),fn([t],t=>this.processInjectorType(t,[],i)),this.records.set(To,Fo(void 0,this));const o=this.records.get(xo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=k.Default){this.assertNotDestroyed();const r=Cn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof un)&&O(t);e=n&&this.injectableDefInScope(n)?Fo(Mo(t),Ao):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?No():this.parent).get(t,e=n&k.Optional&&e===vn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[_n]&&i.unshift(e[_n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{fn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];fn(r,t=>this.processProvider(t,n,r||Ro))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,Fo(a,Ao));const u=r.providers;if(null!=u&&!s){const e=t;fn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Uo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Vo(t)?Fo(void 0,t.useValue):Fo(Lo(t),Ao)}(t);if(Uo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Fo(void 0,Ao,!0),e.factory=()=>In(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ao&&(e.value=ko,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Mo(t){const e=O(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof un)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=gn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Lo(t,e,n){let r;if(Uo(t)){const e=p(t);return bt(e)||Mo(e)}if(Vo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...In(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Tn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Mo(e);r=()=>new e(...In(t.deps))}var i;return r}function Fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vo(t){return null!==t&&"object"==typeof t&&En in t}function Uo(t){return"function"==typeof t}const qo=function(t,e,n){return function(t,e=null,n=null,r){const i=Do(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Bo=(()=>{class t{static create(t,e){return Array.isArray(t)?qo(t,e,""):qo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new Io,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>Tn(To)}),t.__NG_ELEMENT_ID__=-1,t})();function Ho(t,e){_e(Mt(t)[1],$t())}function zo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Go(t.inputs),e.declaredInputs=Go(t.declaredInputs),e.outputs=Go(t.outputs);const n=i.hostBindings;n&&Wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Qo(t,o),s&&$o(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function Go(t){return t===B?{}:t===z?[]:t}function Qo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function $o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ko=null;function Yo(){if(!Ko){const t=q.Symbol;if(t&&t.iterator)Ko=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ko=n)}}}return Ko}class Jo{constructor(t){this.wrapped=t}static wrap(t){return new Jo(t)}static unwrap(t){return Jo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Jo}}function Xo(t){return!!Zo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Yo()in t)}function Zo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ts(t,e,n){return t[e]=n}function es(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ns(t,e,n,r){const i=es(t,e,n);return es(t,e+1,r)||i}function rs(t,e,n,r){const i=zt();return es(i,re(),e)&&(Gt(),function(t,e,n,r,i,o){const s=jt(t,e);so(e[11],s,o,t.value,n,r,i)}(we(),i,t,e,n,r)),rs}function is(t,e,n,r){return es(t,re(),n)?e+y(n)+r:Ti}function os(t,e,n,r,i,o,s,a){const u=zt(),c=Gt(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Li(e,t,4,s||null,Vt(c,a));Xi(e,n,l,Vt(c,u)),_e(e,l);const h=l.tViews=Wi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Yt(h,!1);const f=u[11].createComment("");ii(c,u,f,h),Ir(f,u),po(u,u[l]=co(f,u,f,h)),mt(h)&&Gi(c,u,h),null!=s&&Qi(u,h,a)}function ss(t){return Dt(Bt.lFrame.contextLView,lt+t)}function as(t,e=k.Default){const n=zt();return null===n?Tn(t,e):$e($t(),n,p(t),e)}function us(t,e,n){const r=zt();return es(r,re(),e)&&Ji(Gt(),we(),r,t,e,r[11],n,!1),us}function cs(t,e,n,r,i){const o=i?"class":"style";Oo(t,n,e.inputs[o],o,r)}function ls(t,e,n,r){const i=zt(),o=Gt(),s=lt+t,a=i[11],u=i[s]=Br(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Li(e,t,2,i,Vt(a,o));return Xi(e,n,u,Vt(a,s)),null!==u.attrs&&So(u,u.attrs,!1),null!==u.mergedAttrs&&So(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Yt(c,!0);const l=c.mergedAttrs;null!==l&&Ae(a,u,l);const h=c.classes;null!==h&&di(a,u,h);const f=c.styles;null!==f&&fi(a,u,f),64!=(64&c.flags)&&ii(o,i,u,c),0===Bt.lFrame.elementDepthCount&&Ir(u,i),Bt.lFrame.elementDepthCount++,mt(c)&&(Gi(o,i,c),zi(o,c,i)),null!==r&&Qi(i,c)}function hs(){let t=$t();Jt()?Xt():(t=t.parent,Yt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(_e(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&cs(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&cs(n,e,zt(),e.stylesWithoutHost,!1)}function fs(t,e,n,r){ls(t,e,n,r),hs()}function ds(t,e,n){const r=zt(),i=Gt(),o=t+lt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Vt(o,r),a=Li(e,t,8,"ng-container",s);return null!==s&&So(a,s,!0),Xi(e,n,a,Vt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Yt(s,!0);const a=r[o]=r[11].createComment("");ii(i,r,a,s),Ir(a,r),mt(s)&&(Gi(i,r,s),zi(i,s,r)),null!=n&&Qi(r,s)}function ps(){let t=$t();const e=Gt();Jt()?Xt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(_e(e,t),pt(t)&&e.queries.elementEnd(t))}function gs(){return zt()}function ms(t){return!!t&&"function"==typeof t.then}function ys(t){return!!t&&"function"==typeof t.subscribe}const bs=ys;function vs(t,e,n=!1,r){const i=zt(),o=Gt(),s=$t();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&_o(t),l=wo(e);let h=!0;if(3&r.type){const f=jt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=_s(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=_s(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=_s(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),vs}function ws(t,e,n){try{return!1!==e(n)}catch(r){return Eo(t,r),!1}}function _s(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&go(s);let a=ws(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=ws(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Es(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Os(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ei(t,o,!0):Oi(r,o))return i}else n=i}return n}function Cs(t){const e=zt()[16][6];if(!e.projection){const n=e.projection=gn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Os(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ss(t,e=0,n){const r=zt(),i=Gt(),o=Li(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),Xt(),64!=(64&o.flags)&&function(t,e,n){hi(e[11],0,e,n,$r(t,n,e),Zr(n.parent||e[6],n,e))}(i,r,o)}function Ts(t,e,n){return Is(t,"",e,"",n),Ts}function Is(t,e,n,r,i){const o=zt(),s=is(o,e,n,r);return s!==Ti&&Ji(Gt(),we(),o,t,s,o[11],i,!1),Is}function xs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ki(o):ji(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];As(t[a],e)&&(u=!0,t[a+1]=r?Di(n):Ri(n)),a=r?ki(n):ji(n)}u&&(t[n+1]=r?Ri(o):Di(o))}function As(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rs(t){return t.substring(ks.key,ks.keyEnd)}function js(t,e){const n=ks.textEnd;return n===e?-1:(e=ks.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ks.key=e,n),Ns(t,e,n))}function Ns(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ds(t,e,n){return Fs(t,e,n,!1),Ds}function Ps(t,e){return Fs(t,e,null,!0),Ps}function Ms(t){Vs(mn,Ls,t,!0)}function Ls(t,e){for(let n=function(t){return function(t){ks.key=0,ks.keyEnd=0,ks.value=0,ks.valueEnd=0,ks.textEnd=t.length}(t),js(t,Ns(t,0,ks.textEnd))}(e);n>=0;n=js(e,n))mn(t,Rs(e),!0)}function Fs(t,e,n,r){const i=zt(),o=Gt(),s=ie(2);o.firstUpdatePass&&qs(o,t,s,r),e!==Ti&&es(i,s,e)&&zs(o,o.data[be()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Un(t)))),t}(e,n),r,s)}function Vs(t,e,n,r){const i=Gt(),o=ie(2);i.firstUpdatePass&&qs(i,null,o,r);const s=zt();if(n!==Ti&&es(s,o,n)){const a=i.data[be()];if($s(a,r)&&!Us(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),cs(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ti&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&zs(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Un(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Us(t,e){return e>=t.expandoStartIndex}function qs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[be()],s=Us(t,n);$s(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Hs(n=Bs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Bs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ji(r))return t[ki(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Bs(null,t,e,n[1],r),n=Hs(n,e.attrs,r),function(t,e,n,r){t[ki(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Hs(r,t[o].hostAttrs,n);return Hs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ki(s),u=ji(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ki(t[a+1]);t[r+1]=Ai(e,a),0!==e&&(t[e+1]=Ni(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ai(a,0),0!==a&&(t[a+1]=Ni(t[a+1],r)),a=r;else t[r+1]=Ai(u,0),0===a?a=r:t[u+1]=Ni(t[u+1],r),u=r;l&&(t[r+1]=Ri(t[r+1])),xs(t,c,r,!0),xs(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bn(o,e)>=0&&(n[r+1]=Di(n[r+1]))}(e,c,t,r,o),s=Ai(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Bs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Hs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Hs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mn(t,s,!!n||e[++o]))}return void 0===t?null:t}function zs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Qs(1==(1&c)?Gs(u,e,n,i,ji(c),s):void 0)||(Qs(o)||2==(2&c)&&(o=Gs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Rr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Rr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Rt(be(),n),i,o))}function Gs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ti&&(l=c?H:void 0);let h=c?yn(l,r):u===r?l:void 0;if(o&&!Qs(h)&&(h=yn(e,r)),Qs(h)&&(a=h,s))return a;const f=t[i+1];i=s?ki(f):ji(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=yn(t,r))}return a}function Qs(t){return void 0!==t}function $s(t,e){return 0!=(t.flags&(e?16:32))}function Ws(t,e=""){const n=zt(),r=Gt(),i=t+lt,o=r.firstCreatePass?Li(r,i,1,e,null):r.data[i],s=n[i]=Vr(n[11],e);ii(r,n,s,o),Yt(o,!1)}function Ks(t){return Ys("",t,""),Ks}function Ys(t,e,n){const r=zt(),i=is(r,t,e,n);return i!==Ti&&Co(r,be(),i),Ys}function Js(t,e,n,r,i){const o=zt(),s=function(t,e,n,r,i,o){const s=ns(t,ne(),n,i);return ie(2),s?e+y(n)+r+y(i)+o:Ti}(o,t,e,n,r,i);return s!==Ti&&Co(o,be(),s),Js}function Xs(t,e,n,r,i,o,s,a,u){Vs(mn,Ls,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=ns(t,e,n,r);return ns(t,e+2,i,o)||s}(t,ne(),n,i,s,u);return ie(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:Ti}(zt(),t,e,n,r,i,o,s,a,u),!0)}function Zs(t,e,n){const r=zt();return es(r,re(),e)&&Ji(Gt(),we(),r,t,e,r[11],n,!0),Zs}const ta=void 0;var ea=["en",[["a","p"],["AM","PM"],ta],[["AM","PM"],ta,ta],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ta,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ta,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ta,"{1} 'at' {0}",ta],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let na={};function ra(t,e,n){"string"!=typeof e&&(n=e,e=t[ua.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),na[e]=t,n&&(na[e][ua.ExtraData]=n)}function ia(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=aa(e);if(n)return n;const r=e.split("-")[0];if(n=aa(r),n)return n;if("en"===r)return ea;throw new Error(`Missing locale data for the locale "${t}".`)}function oa(t){return ia(t)[ua.CurrencyCode]||null}function sa(t){return ia(t)[ua.PluralCase]}function aa(t){return t in na||(na[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),na[t]}var ua=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ca=["zero","one","two","few","many"],la="en-US",ha={marker:"element"},fa={marker:"ICU"};var da=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let pa=la;function ga(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(pa=t.toLowerCase().replace(/_/g,"-"))}function ma(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ti(t,0,n):kt(n[i])}function ya(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Kr(t,s,n[o[e]],a,!1)}}function ba(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];va(r)||wa(r,e)&&null===_a(r)&&Ea(r,e.index)}}function va(t){return!(64&t.type)}function wa(t,e){return va(e)||t.index>e.index}function _a(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Ea(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ri(ma,ya),t.insertBeforeIndex=e)}function Oa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ca(t,e,n){const r=Fi(t,n,64,null,null);return ba(e,r),r}function Sa(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ta=0,Ia=0;function xa(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Vr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Xr(i,r)),c===s?(l=r,h=o):(l=null,h=kt(n[c])),null!==h){const e=(131070&u)>>>1;Kr(i,h,n[e],l,!1);const r=Oa(t,e);if(null!==r&&"object"==typeof r){const e=Sa(r,n);null!==e&&xa(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];so(i,Rt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case fa:const t=e[++a],r=e[++a];null===n[r]&&Ir(n[r]=qr(i,t),n);break;case ha:const o=e[++a],s=e[++a];null===n[s]&&Ir(n[s]=Br(i,o,null),n)}}}function Aa(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?so(e[11],e[a],null,c,o,i,u):Ji(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Ur(e[11],l,i);break;case 2:Ra(t,Oa(t,a),e,i);break;case 3:ka(t,Oa(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Oa(t,i>>>2);e[n.currentCaseLViewIndex]<0&&ka(t,n,r,e)}}o+=a}}function ka(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Ta;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Aa(t,r,e.update[i],n,o)}}function Ra(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=sa(e)(parseInt(t,10)),r=ca[n];return void 0!==r?r:"other"}(e,pa);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Sa(e,n)!==i&&(ja(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&xa(t,e.create[i],n,r)}}function ja(t,e,n){let r=Sa(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Rt(r,n);null!==t&&ui(n[11],t)}else ja(t,Oa(t,~r),n)}}}const Na=/\ufffd(\d+):?\d*\ufffd/gi,Da=/\ufffd(\d+)\ufffd/,Pa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ma=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,La=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Fa=/\uE500/g;function Va(t,e,n,r,i,o,s){const a=Vi(t,r,1,null);let u=a<<da.SHIFT,c=Kt();e===c&&(c=null),null===c&&(u|=da.APPEND_EAGERLY),s&&(u|=da.COMMENT,void 0===jr&&(jr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Sa(t,e);n=null!==i?t.remove[i]:z}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Fi(t,a,s?32:1,null===o?"":o,null);ba(n,l);const h=l.index;return Yt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ri(ma,ya),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ua(t,e,n,r,i,o,s){const a=s.match(Na),u=Va(t,e,n,o,r,a?null:s,!1);a&&qa(i,s,u.index)}function qa(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const a=o+2,u=e.split(Na);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=Ba(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-a,c}function Ba(t){return 1<<Math.min(t,31)}function Ha(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Ma.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function za(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Vi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ba(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=$a(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Ga(t){const e=[],n=[];let r=1,i=0;const o=Qa(t=t.replace(Pa,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Qa(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Qa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Pa.test(n)?r.push(Ga(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function $a(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Wn(It()).getInertBodyElement(s),f=br(h)||h;return f?Wa(t,e,n,r,u,c,l,f,i,a,0):0}function Wa(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Vi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(ar.hasOwnProperty(p)){Ja(i,ha,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Na)?lr.hasOwnProperty(n)&&(ur[n]?qa(s,e.value,a,e.name,Zn):cr[n]?qa(s,e.value,a,e.name,tr):qa(s,e.value,a,e.name)):Xa(i,a,e)}h=Wa(t,e,n,r,i,o,s,f,a,c,l+1)|h,Ka(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Na);Ja(i,null,m?"":g,u,a),Ka(o,a,l),m&&(h=qa(s,g,a)|h);break;case Node.COMMENT_NODE:const y=Da.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];Ja(i,fa,"",u,a),za(t,n,r,u,e,a),Ya(o,a,l)}}f=f.nextSibling}return h}function Ka(t,e,n){0===n&&t.push(e)}function Ya(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ja(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Xa(t,e,n){t.push(e<<1|1,n.name,n.value)}function Za(t,e,n){(function(t,e,n=-1){const r=Gt(),i=zt(),o=lt+t,s=Vt(r.consts,e),a=Kt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Kt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ha(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ha(t.substring(n,r))}}(i,o),h.replace(Fa," ")).split(La);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=Qa(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Ua(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);za(t,n,u,e,r,Va(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Yt(Kt(),!1);else{const e=Ca(t,c[0],n);c.unshift([]),Yt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Wr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&da.COMMENT)===da.COMMENT,c=(s&da.APPEND_EAGERLY)===da.APPEND_EAGERLY,l=s>>>da.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Vr(i,a)),c&&null!==n&&Kr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function tu(t){return es(zt(),re(),t)&&(Ta|=1<<Math.min(Ia,31)),Ia++,tu}function eu(t){!function(t,e,n){if(Ia>0){const r=t.data[n];Aa(t,e,Array.isArray(r)?r:r.update,ne()-Ia-1,Ta)}Ta=0,Ia=0}(Gt(),zt(),t+lt)}function nu(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)nu(t[o],e,n,r,i);else{const o=Gt(),s=zt();let a=Uo(t)?t:p(t.provide),u=Lo(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Uo(t)||!t.multi){const r=new xe(u,i,as),d=ou(a,e,i?l:l+f,h);-1===d?(ze(Ue(c,s),o,a),ru(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ou(a,e,l+f,h),p=ou(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){ze(Ue(c,s),o,a);const l=function(t,e,n,r,i){const o=new xe(t,n,as);return o.multi=[],o.index=e,o.componentProviders=0,iu(o,i,r&&!n),o}(i?au:su,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ru(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ru(o,t,d>-1?d:p,iu(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ru(t,e,n,r){const i=Uo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function iu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ou(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function su(t,e,n,r){return uu(this.multi,[])}function au(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),uu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],uu(i,o);return o}function uu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function cu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=yt(t);nu(n,r.data,r.blueprint,i,!0),nu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class lu{}class hu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let fu=(()=>{class t{}return t.NULL=new hu,t})();function du(...t){}function pu(t,e){return new mu(jt(t,e))}const gu=function(){return pu($t(),zt())};let mu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=gu,t})();function yu(t){return t instanceof mu?t.nativeElement:t}class bu{}let vu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>wu(),t})();const wu=function(){const t=zt(),e=Pt($t().index,t);return function(t){return t[11]}(ft(e)?e:t)};let _u=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Eu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ou=new Eu("11.2.7");class Cu{constructor(){}supports(t){return Xo(t)}create(t){return new Tu(t)}}const Su=(t,e)=>e;class Tu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Su}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ku(n,r,i)?e:n,s=ku(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Yo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Iu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Au),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Au),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Iu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Au{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new xu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ku(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ru{constructor(){}supports(t){return t instanceof Map||Zo(t)}create(){return new ju}}class ju{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Zo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Nu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Nu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Du(){return new Pu([new Cu])}let Pu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Du()),deps:[[t,new Rn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Du}),t})();function Mu(){return new Lu([new Ru])}let Lu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Mu()),deps:[[t,new Rn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Mu}),t})();function Fu(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),dt(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Fu(e[1],e,n,r)}const s=n.type;if(8&s)Fu(t,e,n.child,r);else if(32&s){const t=Nr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=si(e,n);if(Array.isArray(t))r.push(...t);else{const n=Dr(e[16]);Fu(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Vu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Fu(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(zr(t,n),pn(e,n))}this._attachedToViewContainer=!1}Gr(this._lView[1],this._lView)}onDestroy(t){Ki(this._lView[1],this._lView,null,t)}markForCheck(){go(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{mo(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,li(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Uu extends Vu{constructor(t){super(t),this._view=t}detectChanges(){yo(this._view)}checkNoChanges(){!function(t){te(!0);try{yo(t)}finally{te(!1)}}(this._view)}get context(){return null}}const qu=Hu;let Bu=(()=>{class t{}return t.__NG_ELEMENT_ID__=qu,t.__ChangeDetectorRef__=!0,t})();function Hu(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Pt(t.index,e);return new Vu(n,n)}return 47&t.type?new Vu(e[16],e):null}($t(),zt(),t)}const zu=[new Ru],Gu=new Pu([new Cu]),Qu=new Lu(zu),$u=function(){return Ju($t(),zt())};let Wu=(()=>{class t{}return t.__NG_ELEMENT_ID__=$u,t})();const Ku=Wu,Yu=class extends Ku{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Mi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ui(e,n,t),new Vu(n)}};function Ju(t,e){return 4&t.type?new Yu(e,t,pu(t,e)):null}class Xu{}class Zu{}const tc=function(){return sc($t(),zt())};let ec=(()=>{class t{}return t.__NG_ELEMENT_ID__=tc,t})();const nc=ec,rc=class extends nc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return pu(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(De(t)){const e=Me(t,this._hostLView),n=Pe(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ic(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Xu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new rc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],dn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ai(i,o),a=n[11],u=Xr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,li(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),dn(oc(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ic(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);n&&(pn(oc(this._lContainer),e),Gr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);return n&&null!=pn(oc(this._lContainer),e)?new Vu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ic(t){return t[8]}function oc(t){return t[8]||(t[8]=[])}function sc(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Kr(n,Xr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=co(r,e,i,t),po(e,n)}return new rc(n,t,e)}const ac={};class uc extends fu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new hc(e,this.ngModule)}}function cc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const lc=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xr});class hc extends lu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return cc(this.componentDef.inputs)}get outputs(){return cc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ac,i);return o!==ac||r===ac?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(bu,At),s=i.get(_u,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Br(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xr,clean:vo,playerHandler:null,flags:0},f=Wi(0,null,null,1,0,null,null,null,null,null),d=Mi(null,f,h,l,null,null,o,a,s,i);let p,g;fe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Li(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(So(a,u,!0),null!==t&&(Ae(i,t,u),null!==a.classes&&di(i,t,a.classes),null!==a.styles&&fi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Mi(n,$i(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(ze(Ue(a,n),s,e.type),eo(s,a),ro(a,n.length,1)),po(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ae(a,c,["ng-version",Ou.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ae(a,c,t),e&&e.length>0&&di(a,c,e.join(" "))}if(g=Nt(f,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),io(t,r,e,Vi(t,e,1,null),n));const i=Xe(e,t,r.directiveStart,r);Ir(i,e);const o=jt(r,e);return o&&Ir(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=$t();e.contentQueries(1,s,t.directiveStart)}const a=$t();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Zi(n[1],a,0,a.directiveStart,a.directiveEnd,e),to(e,s)),s}(t,this.componentDef,d,h,[Ho]),Ui(f,d,null)}finally{ye()}return new fc(this.componentType,p,pu(g,d),d,g)}}class fc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Uu(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const dc=new Map;class pc extends Xu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uc(this);const n=ct(t),r=t[K]||null;r&&ga(r),this._bootstrapComponents=kr(n.bootstrap),this._r3Injector=Do(t,e,[{provide:Xu,useValue:this},{provide:fu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Bo.THROW_IF_NOT_FOUND,n=k.Default){return t===Bo||t===Xu||t===To?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gc extends Zu{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,dc.get(i),n),dc.set(i,n));const o=kr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new pc(this.moduleType,t)}}function mc(t,e,n){const r=ee()+t,i=zt();return i[r]===Ti?ts(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function yc(t,e,n,r){return _c(zt(),ee(),t,e,n,r)}function bc(t,e,n,r,i){return Ec(zt(),ee(),t,e,n,r,i)}function vc(t,e,n,r,i,o){return Oc(zt(),ee(),t,e,n,r,i,o)}function wc(t,e){const n=t[e];return n===Ti?void 0:n}function _c(t,e,n,r,i,o){const s=e+n;return es(t,s,i)?ts(t,s+1,o?r.call(o,i):r(i)):wc(t,s+1)}function Ec(t,e,n,r,i,o,s){const a=e+n;return ns(t,a,i,o)?ts(t,a+2,s?r.call(s,i,o):r(i,o)):wc(t,a+2)}function Oc(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=ns(t,e,n,r);return es(t,e+2,i)||o}(t,u,i,o,s)?ts(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):wc(t,u+3)}function Cc(t,e){const n=Gt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=j(as);try{const t=Fe(!1),e=o();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{j(s)}}function Sc(t,e,n){const r=t+lt,i=zt(),o=Dt(i,r);return Ac(i,xc(i,r)?_c(i,ee(),e,o.transform,n,o):o.transform(n))}function Tc(t,e,n,r){const i=t+lt,o=zt(),s=Dt(o,i);return Ac(o,xc(o,i)?Ec(o,ee(),e,s.transform,n,r,s):s.transform(n,r))}function Ic(t,e,n,r,i){const o=t+lt,s=zt(),a=Dt(s,o);return Ac(s,xc(s,o)?Oc(s,ee(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function xc(t,e){return t[1].data[e].pure}function Ac(t,e){return Jo.isWrapped(e)&&(e=Jo.unwrap(e),t[ne()]=Ti),e}const kc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Rc(){return this._results[Yo()]()}class jc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Yo(),n=jc.prototype;n[e]||(n[e]=Rc)}get changes(){return this._changes||(this._changes=new kc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Nc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Nc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Dc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Wc(t,e).matches&&this.queries[e].setDirty()}}class Pc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Mc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Mc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Lc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Lc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Fc(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===Wu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===mu||r===ec||r===Wu&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Vc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?pu(t,e):4&t.type?Ju(t,e):null}(e,t):-2===n?function(t,e,n){return n===mu?pu(e,t):n===Wu?Ju(e,t):n===ec?sc(e,t):void 0}(t,e,r):Xe(t,t[1],n,e)}function Uc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Vc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function qc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Uc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&qc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];qc(n[1],n,i,r)}}}}}return r}function Bc(t){const e=zt(),n=Gt(),r=ue();ce(r+1);const i=Wc(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?qc(n,e,r,[]):Uc(n,e,i,r);t.reset(o,yu),t.notifyOnChanges()}return!0}return!1}function Hc(t,e,n){const r=Gt();r.firstCreatePass&&($c(r,new Pc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Qc(r,zt(),e)}function zc(t,e,n,r){const i=Gt();if(i.firstCreatePass){const o=$t();$c(i,new Pc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Qc(i,zt(),n)}function Gc(){return t=zt(),e=ue(),t[19].queries[e].queryList;var t,e}function Qc(t,e,n){const r=new jc(4==(4&n));Ki(t,e,r,r.destroy),null===e[19]&&(e[19]=new Dc),e[19].queries.push(new Nc(r))}function $c(t,e,n){null===t.queries&&(t.queries=new Mc),t.queries.track(new Lc(e,n))}function Wc(t,e){return t.queries.getByIndex(e)}function Kc(t,e){return Ju(t,e)}function Yc(t=k.Default){const e=Hu(!0);if(null!=e||t&k.Optional)return e;v("ChangeDetectorRef")}const Jc=new un("Application Initializer");let Xc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=du,this.reject=du,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ms(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Tn(Jc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Zc=new un("AppId"),tl={provide:Zc,useFactory:function(){return`${el()}${el()}${el()}`},deps:[]};function el(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nl=new un("Platform Initializer"),rl=new un("Platform ID"),il=new un("appBootstrapListener");let ol=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const sl=new un("LocaleId"),al=new un("DefaultCurrencyCode");class ul{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const cl=function(t){return new gc(t)},ll=cl,hl=function(t){return Promise.resolve(cl(t))},fl=function(t){const e=cl(t),n=kr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new hc(n)),t},[]);return new ul(e,n)},dl=fl,pl=function(t){return Promise.resolve(fl(t))};let gl=(()=>{class t{constructor(){this.compileModuleSync=ll,this.compileModuleAsync=hl,this.compileModuleAndAllComponentsSync=dl,this.compileModuleAndAllComponentsAsync=pl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const ml=(()=>Promise.resolve(0))();function yl(t){"undefined"==typeof Zone?ml.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class bl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kc(!1),this.onMicrotaskEmpty=new kc(!1),this.onStable=new kc(!1),this.onError=new kc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_l(t),wl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_l(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return El(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Ol(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return El(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ol(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,_l(t),wl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,vl,du,du);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const vl={};function wl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _l(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function El(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ol(t){t._nesting--,wl(t)}class Cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kc,this.onMicrotaskEmpty=new kc,this.onStable=new kc,this.onError=new kc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Sl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bl.assertNotInAngularZone(),yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Tn(bl))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Tl=(()=>{class t{constructor(){this._applications=new Map,kl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return kl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Il{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function xl(t){kl=t}let Al,kl=new Il,Rl=!0,jl=!1;function Nl(){return jl=!0,Rl}function Dl(){if(jl)throw new Error("Cannot enable prod mode after platform setup.");Rl=!1}const Pl=new un("AllowMultipleToken");class Ml{constructor(t,e){this.name=t,this.token=e}}function Ll(t,e,n=[]){const r=`Platform: ${e}`,i=new un(r);return(e=[])=>{let o=Fl();if(!o||o.injector.get(Pl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xo,useValue:"platform"});!function(t){if(Al&&!Al.destroyed&&!Al.injector.get(Pl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Al=t.get(Vl);const e=t.get(nl,null);e&&e.forEach(t=>t())}(Bo.create({providers:t,name:r}))}return function(t){const e=Fl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Fl(){return Al&&!Al.destroyed?Al:null}let Vl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cl:("zone.js"===t?void 0:t)||new bl({enableLongStackTrace:Nl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:bl,useValue:n}];return n.run(()=>{const e=Bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Bl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ms(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Xc);return t.runInitializers(),t.donePromise.then(()=>(ga(i.injector.get(sl,la)||la),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ul({},e);return function(t,e,n){const r=new gc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ql);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Tn(Bo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ul(t,e){return Array.isArray(e)?e.reduce(Ul,t):Object.assign(Object.assign({},t),e)}let ql=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{bl.assertNotInAngularZone(),yl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{bl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof lu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Xu),i=n.create(Bo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Sl,null),a=s&&i.injector.get(Tl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Bl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Bl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(il,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Tn(bl),Tn(Bo),Tn(Cr),Tn(fu),Tn(Xc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Bl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Hl{}class zl{}const Gl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ql=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Gl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>$l(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>$l(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Tn(gl),Tn(zl,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function $l(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Wl=function(t){return null},Kl=Ll(null,"core",[{provide:rl,useValue:"unknown"},{provide:Vl,deps:[Bo]},{provide:Tl,deps:[]},{provide:ol,deps:[]}]),Yl=[{provide:ql,useClass:ql,deps:[bl,Bo,Cr,fu,Xc]},{provide:lc,deps:[bl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Xc,useClass:Xc,deps:[[new kn,Jc]]},{provide:gl,useClass:gl,deps:[]},tl,{provide:Pu,useFactory:function(){return Gu},deps:[]},{provide:Lu,useFactory:function(){return Qu},deps:[]},{provide:sl,useFactory:function(t){return ga(t=t||"undefined"!=typeof $localize&&$localize.locale||la),t},deps:[[new An(sl),new kn,new Rn]]},{provide:al,useValue:"USD"}];let Jl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Tn(ql))},t.\u0275mod=rt({type:t}),t.\u0275inj=E({providers:Yl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?b(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[b,u.A,[new u.B,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Yb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Yb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Yb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(s).location;return new v(Object(r.Yb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m),r.Yb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new _(Object(r.Yb)(m),Object(r.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.mb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new R(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}function P(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}class M{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class L{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const F=new L,V=new M;let U=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return F;if(Object(r.sb)(e))return V;throw P(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ac())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),q=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw P(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"slice",type:t,pure:!1}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:T,useClass:I}]}),t})();function H(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new G(Object(r.Yb)(s),window)}),t})();class G{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class $ extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new $,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=K||(K=document.querySelector("base"),K)?K.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let W,K=null;const Y=new r.r("TRANSITION_ID"),J=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,s,r.s],multi:!0}];class X{static init(){Object(r.X)(new X)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Z=new r.r("EventManagerPlugins");let tt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Z),r.Yb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let nt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),rt=(()=>{class t extends nt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=/%COMP%/g;function st(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?st(t,i,n):(i=i.replace(ot,t),n.push(i))}return n}function at(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ct(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new lt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=st(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(tt),r.Yb(rt),r.Yb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class ct{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(it[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=it[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=it[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,at(n)):this.eventManager.addEventListener(t,e,at(n))}}class lt extends ct{constructor(t,e,n,r){super(t),this.component=n;const i=st(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ot,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ot,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ht extends ct{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=st(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ft=(()=>{class t extends et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const dt=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yt=(()=>{class t extends et{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(dt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gt.hasOwnProperty(e)&&(e=gt[e]))}return pt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),dt.forEach(r=>{r!=n&&(0,mt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const bt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){$.makeCurrent(),X.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],vt=Object(r.S)(r.W,"browser",bt),wt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Z,useClass:ft,multi:!0,deps:[s,r.A,r.C]},{provide:Z,useClass:yt,multi:!0,deps:[s]},[],{provide:ut,useClass:ut,deps:[tt,rt,r.c]},{provide:r.F,useExisting:ut},{provide:nt,useExisting:rt},{provide:rt,useClass:rt,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:tt,useClass:tt,deps:[Z,r.A]},[]];let _t=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},J]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:wt,imports:[B,r.f]}),t})();"undefined"!=typeof window&&window;var Et=n("Cfvw"),Ot=n("HDdC"),Ct=n("DH7j"),St=n("lJxs"),Tt=n("XoHu");function It(t,e){return new Ot.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Et.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class xt{}const At=new r.r("NgValueAccessor"),kt={provide:At,useExisting:Object(r.U)(()=>jt),multi:!0},Rt=new r.r("CompositionEventMode");let jt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(Rt,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([kt])]}),t})();const Nt=new r.r("NgValidators"),Dt=new r.r("NgAsyncValidators");function Pt(t){return null!=t}function Mt(t){const e=Object(r.rb)(t)?Object(Et.a)(t):t;return Object(r.qb)(e),e}function Lt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ft(t,e){return e.map(e=>e(t))}function Vt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ut(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Pt);return 0==e.length?null:function(t){return Lt(Ft(t,e))}}(Vt(t)):null}function qt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Pt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ct.a)(e))return It(e,null);if(Object(Tt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return It(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return It(t=1===t.length&&Object(Ct.a)(t[0])?t[0]:t,null).pipe(Object(St.a)(t=>e(...t)))}return It(t,null)}(Ft(t,e).map(Mt)).pipe(Object(St.a)(Lt))}}(Vt(t)):null}function Bt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Ht=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ut(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),zt=(()=>{class t extends Ht{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Gt(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.xb]}),t})();const Gt=r.Tb(zt);class Qt extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let $t=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Qt,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function Wt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Yt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jt="VALID",Xt="INVALID",Zt="PENDING",te="DISABLED";function ee(t){return(oe(t)?t.validators:t)||null}function ne(t){return Array.isArray(t)?Ut(t):t||null}function re(t,e){return(oe(e)?e.asyncValidators:t)||null}function ie(t){return Array.isArray(t)?qt(t):t||null}function oe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class se{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ne(this._rawValidators),this._composedAsyncValidatorFn=ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jt}get invalid(){return this.status===Xt}get pending(){return this.status==Zt}get disabled(){return this.status===te}get enabled(){return this.status!==te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ne(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ie(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Zt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=te,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jt,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Jt&&this.status!==Zt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?te:Jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const e=Mt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ue?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ce&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?te:this.errors?Xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(Xt)?Xt:Jt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ae extends se{constructor(t=null,e,n){super(ee(e),re(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ue extends se{constructor(t,e,n){super(ee(e),re(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ae?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ce extends se{constructor(t,e,n){super(ee(e),re(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ae?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const le={provide:Qt,useExisting:Object(r.U)(()=>fe)},he=(()=>Promise.resolve(null))();let fe=(()=>{class t extends Qt{constructor(t,e,n,i){super(),this.control=new ae,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===jt?n=t:Object.getPrototypeOf(t.constructor)===xt?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Bt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Bt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();Wt(e._rawValidators,n),Wt(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Kt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Kt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){he.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;he.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(zt,9),r.Mb(Nt,10),r.Mb(Dt,10),r.Mb(At,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([le]),r.xb,r.yb]}),t})();const de={provide:At,useExisting:Object(r.U)(()=>pe),multi:!0};let pe=(()=>{class t extends xt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([de]),r.xb]}),t})(),ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const me={provide:At,useExisting:Object(r.U)(()=>be),multi:!0};function ye(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let be=(()=>{class t extends xt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ye(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([me]),r.xb]}),t})(),ve=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ye(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(be,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const we={provide:At,useExisting:Object(r.U)(()=>Ee),multi:!0};function _e(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ee=(()=>{class t extends xt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([we]),r.xb]}),t})(),Oe=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_e(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_e(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(Ee,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Ce=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[ge]]}),t})(),Se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Ce]}),t})();var Te=n("LRne"),Ie=n("5+tZ");function xe(t,e){return Object(Ie.a)(t,e,1)}var Ae=n("7o/Q");function ke(t,e){return function(n){return n.lift(new Re(t,e))}}class Re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new je(t,this.predicate,this.thisArg))}}class je extends Ae.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Ne{}class De{}class Pe{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Pe;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pe?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Me{encodeKey(t){return Le(t)}encodeValue(t){return Le(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Le(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Fe{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Me,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fe({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ve(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ue(t){return"undefined"!=typeof Blob&&t instanceof Blob}function qe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Be{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Pe),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Fe,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ve(this.body)||Ue(this.body)||qe(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qe(this.body)?null:Ue(this.body)?this.body.type||null:Ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Be(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var He=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ze{constructor(t,e=200,n="OK"){this.headers=t.headers||new Pe,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ge extends ze{constructor(t={}){super(t),this.type=He.ResponseHeader}clone(t={}){return new Ge({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qe extends ze{constructor(t={}){super(t),this.type=He.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qe({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $e extends ze{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function We(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ke=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Be)r=t;else{let i,o;i=n.headers instanceof Pe?n.headers:new Pe(n.headers),n.params&&(o=n.params instanceof Fe?n.params:new Fe({fromObject:n.params})),r=new Be(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Te.a)(r).pipe(xe(t=>this.handler.handle(t)));if(t instanceof Be||"events"===n.observe)return i;const o=i.pipe(ke(t=>t instanceof Qe));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(St.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Fe).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,We(n,e))}post(t,e,n={}){return this.request("POST",t,We(n,e))}put(t,e,n={}){return this.request("PUT",t,We(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ne))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Ye{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Je=new r.r("HTTP_INTERCEPTORS");let Xe=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ze=/^\)\]\}',?\n/;class tn{}let en=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),nn=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ot.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Pe(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Ge({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ze,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Qe({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new $e({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new $e({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:He.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:He.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:He.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(tn))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const rn=new r.r("XSRF_COOKIE_NAME"),on=new r.r("XSRF_HEADER_NAME");class sn{}let an=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s),r.Yb(r.C),r.Yb(rn))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),un=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(sn),r.Yb(on))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),cn=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Je,[]);this.chain=t.reduceRight((t,e)=>new Ye(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(De),r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ln=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:un,useClass:Xe}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:rn,useValue:e.cookieName}:[],e.headerName?{provide:on,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[un,{provide:Je,useExisting:un,multi:!0},{provide:sn,useClass:an},{provide:rn,useValue:"XSRF-TOKEN"},{provide:on,useValue:"X-XSRF-TOKEN"}]}),t})(),hn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Ke,{provide:Ne,useClass:cn},nn,{provide:De,useExisting:nn},en,{provide:tn,useExisting:en}],imports:[[ln.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var fn=n("EY2u"),dn=n("XNiG"),pn=n("n6bG");function gn(t,e,n,r){return Object(pn.a)(n)&&(r=n,n=void 0),r?gn(t,e,n).pipe(Object(St.a)(t=>Object(Ct.a)(t)?r(...t):r(t))):new Ot.a(r=>{mn(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function mn(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)mn(t[o],e,n,r,i)}r.add(o)}var yn=n("D0XW"),bn=n("Y7HM"),vn=n("z+Ro");function wn(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var _n=n("yCtX");class En extends Ae.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class On extends Ae.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Cn=n("SeVD");function Sn(t,e,n,r,i=new On(t,n,r)){if(!i.closed)return e instanceof Ot.a?e.subscribe(i):Object(Cn.a)(e)(i)}class Tn{call(t,e){return e.subscribe(new In(t))}}class In extends En{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Sn(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var xn=n("9ppp");class An extends dn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xn.a;return this._value}next(t){super.next(this._value=t)}}const kn={};class Rn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jn(t,this.resultSelector))}}class jn extends En{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Sn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("KqfI");var Nn=n("Lhse"),Dn=n("zx2A");function Pn(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(_n.a)(t,void 0).lift(new Mn(e))}class Mn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ln(t,this.resultSelector))}}class Ln extends Ae.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Ct.a)(t)?e.push(new Vn(t)):e.push("function"==typeof t[Nn.a]?new Fn(t[Nn.a]()):new Un(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Fn{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Vn{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Nn.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Un extends Dn.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Nn.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Dn.c)(this.observable,new Dn.a(this))}}var qn=n("VRyK"),Bn=n("bHdf");function Hn(...t){return Object(Bn.a)(1)(Object(Te.a)(...t))}function zn(t){return e=>e.lift(new Gn(t))}class Gn{constructor(t){this.notifier=t}call(t,e){const n=new Qn(t),r=Object(Dn.c)(this.notifier,new Dn.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Qn extends Dn.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const $n=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wn(t){return e=>0===t?Object(fn.b)():e.lift(new Kn(t))}class Kn{constructor(t){if(this.total=t,this.total<0)throw new $n}call(t,e){return e.subscribe(new Yn(t,this.total))}}class Yn extends Ae.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Jn(...t){const e=t[t.length-1];return Object(vn.a)(e)?(t.pop(),n=>Hn(t,n,e)):e=>Hn(t,e)}class Xn{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Zn(t,this.compare,this.keySelector))}}class Zn extends Ae.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function tr(t,e){return"function"==typeof e?n=>n.pipe(tr((n,r)=>Object(Et.a)(t(n,r)).pipe(Object(St.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new er(t))}class er{constructor(t){this.project=t}call(t,e){return e.subscribe(new nr(t,this.project))}}class nr extends Dn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Dn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Dn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var rr=n("vkgz");function ir(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new or(t,n))}}class or{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new sr(t,this.observables,this.project))}}class sr extends En{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Sn(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");const ar=["*"],ur=["dialog"];function cr(t){return null!=t}function lr(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const hr={animation:!0,transitionTimerDelayMs:5};let fr=(()=>{class t{constructor(){this.animation=hr.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const dr=()=>{},{transitionTimerDelayMs:pr}=hr,gr=new Map,mr=(t,e,n,r)=>{let i=r.context||{};const o=gr.get(e);if(o)switch(r.runningTransition){case"continue":return fn.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),gr.delete(e)}const s=n(e,r.animation,i)||dr;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object(Te.a)(void 0).pipe(function(t){return e=>new Ot.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new dn.a,u=new dn.a,c=a.pipe(function(...t){return e=>Hn(e,Object(Te.a)(...t))}(!0));gr.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=gn(e,"transitionend").pipe(zn(c),ke(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(Ct.a)(t[0]))return t[0];t=t[0]}return Object(_n.a)(t,void 0).lift(new Tn)})(function(t=0,e,n){let r=-1;return Object(bn.a)(e)?r=Number(e)<1?1:Number(e):Object(vn.a)(e)&&(n=e),Object(vn.a)(n)||(n=yn.a),new Ot.a(e=>{const i=Object(bn.a)(t)?t:+t-n.now();return n.schedule(wn,i,{index:0,period:r,subscriber:e})})}(l+pr).pipe(zn(c)),n,u).pipe(zn(c)).subscribe(()=>{gr.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),_r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();var Er=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Or=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Cr(t){const e=Array.from(t.querySelectorAll(Or)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let Sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B,Se]]}),t})(),Tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["",8,"navbar"]]}),t})(),Ir=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),xr=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(fr))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(fr))},token:t,providedIn:"root"}),t})();class Ar{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const kr=()=>{};let Rr=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):kr}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),jr=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Wn(1)).subscribe(()=>{mr(this._zone,this._el.nativeElement,(t,e)=>{e&&lr(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return mr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Nr{close(t){}dismiss(t){}}class Dr{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new dn.a,this._dismissed=new dn.a,this._hidden=new dn.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(zn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(zn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Te.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Pn(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Pr=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Mr=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new dn.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new dn.a,this.hidden=new dn.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Pn(mr(this._zone,t,()=>t.classList.remove("show"),e),mr(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Pn(mr(this._zone,this._elRef.nativeElement,(t,e)=>{e&&lr(t),t.classList.add("show")},t),mr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{gn(t,"keydown").pipe(zn(this._closed$),ke(t=>t.which===Er.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Pr.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;gn(this._dialogEl.nativeElement,"mousedown").pipe(zn(this._closed$),Object(rr.a)(()=>e=!1),tr(()=>gn(t,"mouseup").pipe(zn(this._closed$),Wn(1))),ke(({target:e})=>t===e)).subscribe(()=>{e=!0}),gn(t,"click").pipe(zn(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Pr.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Cr(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&mr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s),r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Ec(ur,3),2&t){let t;r.rc(t=r.cc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ar,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.jc(),r.Rb(0,"div",0,1),r.Rb(2,"div",2),r.ic(3),r.Qb(),r.Qb()),2&t&&r.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Lr=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new dn.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=gn(e,"focusin").pipe(zn(n),Object(St.a)(t=>t.target));gn(e,"keydown").pipe(zn(n),ke(t=>t.which===Er.Tab),ir(t)).subscribe(([t,n])=>{const[r,i]=Cr(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&gn(e,"click").pipe(zn(n),ir(t),Object(St.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:cr(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Nr,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Dr(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(jr).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Mr).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{cr(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{cr(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Ar([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Ar([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Ar([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:Nr,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Ar([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.g),r.Yb(r.s),r.Yb(s),r.Yb(Rr),r.Yb(r.F),r.Yb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.g),Object(r.Yb)(r.o),Object(r.Yb)(s),Object(r.Yb)(Rr),Object(r.Yb)(r.F),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})(),Fr=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.j),r.Yb(r.s),r.Yb(Lr),r.Yb(xr))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.j),Object(r.Yb)(r.o),Object(r.Yb)(Lr),Object(r.Yb)(xr))},token:t,providedIn:"root"}),t})(),Vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Fr]}),t})(),Ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),qr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),Br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),Hr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),zr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),Gr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),Qr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})(),$r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[B]]}),t})();const Kr=[yr,br,vr,wr,_r,Sr,Ir,Vr,Ur,qr,Br,Hr,zr,Gr,Qr,$r,Wr];let Yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Kr,yr,br,vr,wr,_r,Sr,Ir,Vr,Ur,qr,Br,Hr,zr,Gr,Qr,$r,Wr]}),t})();class Jr{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const Xr={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},Zr="undefined"!=typeof window&&window||{};let ti;function ei(){return void 0===Zr||(void 0===Zr.__theme?(ti||(ti=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===ti):"bs4"!==Zr.__theme)}"undefined"==typeof console||console;var ni=n("3N8a");class ri extends ni.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var ii=n("IjjT");class oi extends ii.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const si=new oi(ri);function ai(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function ui(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function ci(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=ai(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:ci(ui(t))}const li="undefined"!=typeof window&&"undefined"!=typeof document,hi=li&&!(!window.MSInputMethodContext||!document.documentMode),fi=li&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function di(t){return 11===t?hi:10===t?fi:hi||fi}function pi(t){if(!t)return document.documentElement;const e=di(10)?document.body:null;let n,r=t.offsetParent||null;for(;r===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,r=n.offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===ai(r,"position")?pi(r):r:n?n.ownerDocument.documentElement:document.documentElement}function gi(t){return null!==t.parentNode?gi(t.parentNode):t}function mi(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);const{commonAncestorContainer:s}=o;if(t!==s&&e!==s||r.contains(i))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||pi(t.firstElementChild)===t)}(s)?s:pi(s);const a=gi(t);return a.host?mi(a.host,e):mi(t,gi(e).host)}function yi(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function bi(t,e,n,r){return Math.max(e[`offset${t}`],e[`scroll${t}`],n[`client${t}`],n[`offset${t}`],n[`scroll${t}`],di(10)?parseInt(n[`offset${t}`],10)+parseInt(r["margin"+("Height"===t?"Top":"Left")],10)+parseInt(r["margin"+("Height"===t?"Bottom":"Right")],10):0)}function vi(t){const e=t.body,n=t.documentElement,r=di(10)&&getComputedStyle(n);return{height:bi("Height",e,n,r),width:bi("Width",e,n,r)}}function wi(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function _i(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function Ei(t){let e={};try{if(di(10)){e=t.getBoundingClientRect();const n=wi(t,"top"),r=wi(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(xv){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?vi(t.ownerDocument):{};let i=t.offsetWidth-(r.width||t.clientWidth||n.right-n.left),o=t.offsetHeight-(r.height||t.clientHeight||n.bottom-n.top);if(i||o){const e=ai(t);i-=yi(e,"x"),o-=yi(e,"y"),n.width-=i,n.height-=o}return _i(n)}function Oi(t,e,n=!1){const r=di(10),i="HTML"===e.nodeName,o=Ei(t),s=Ei(e),a=ci(t),u=ai(e),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));let h=_i({top:o.top-s.top-c,left:o.left-s.left-l,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){const t=parseFloat(u.marginTop),e=parseFloat(u.marginLeft);h.top-=c-t,h.bottom-=c-t,h.left-=l-e,h.right-=l-e,h.marginTop=t,h.marginLeft=e}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e,n=!1){const r=wi(e,"top"),i=wi(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(h,e)),h}function Ci(t){const e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===ai(t,"position")||Ci(ui(t)))}function Si(t){if(!t||!t.parentElement||di())return document.documentElement;let e=t.parentElement;for(;e&&"none"===ai(e,"transform");)e=e.parentElement;return e||document.documentElement}function Ti(t,e,n=0,r,i=!1){let o={top:0,left:0};const s=i?Si(t):mi(t,e);if("viewport"===r)o=function(t,e=!1){const n=t.ownerDocument.documentElement,r=Oi(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:wi(n),a=e?0:wi(n,"left");return _i({top:s-Number(r.top)+Number(r.marginTop),left:a-Number(r.left)+Number(r.marginLeft),width:i,height:o})}(s,i);else{let n;"scrollParent"===r?(n=ci(ui(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===r?t.ownerDocument.documentElement:r;const a=Oi(n,s,i);if("HTML"!==n.nodeName||Ci(s))o=a;else{const{height:e,width:n}=vi(t.ownerDocument);o.top+=a.top-a.marginTop,o.bottom=Number(e)+Number(a.top),o.left+=a.left-a.marginLeft,o.right=Number(n)+Number(a.left)}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function Ii({width:t,height:e}){return t*e}function xi(t,e,n,r,i=["top","bottom","right","left"],o="viewport",s=0){if(-1===t.indexOf("auto"))return t;const a=Ti(n,r,s,o),u={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},c=Object.keys(u).map(t=>Object.assign(Object.assign({key:t},u[t]),{area:Ii(u[t])})).sort((t,e)=>e.area-t.area);let l=c.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);l=l.filter(t=>i.some(e=>e===t.key));const h=l.length>0?l[0].key:c[0].key,f=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${h}`),h+(f?`-${f}`:"")}function Ai(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function ki(t,e,n=null){return Oi(e,n?Si(t):mi(t,e),n)}function Ri(t,e,n){const r=n.split(" ")[0],i=Ai(t),o={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(r),a=s?"top":"left",u=s?"left":"top",c=s?"height":"width",l=s?"width":"height";return o[a]=e[a]+e[c]/2-i[c]/2,o[u]=r===u?e[u]-i[l]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(u)],o}function ji(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function Ni(t,e,n){Object.keys(e).forEach(r=>{let i="";var o;-1!==["width","height","top","right","bottom","left"].indexOf(r)&&""!==(o=e[r])&&!isNaN(parseFloat(o))&&isFinite(o)&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function Di(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const r=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),i=r?"height":"width",o=r?"Top":"Left",s=o.toLowerCase(),a=r?"left":"top",u=r?"bottom":"right",c=Ai(n)[i],l=t.placement.split(" ")[1];t.offsets.host[u]-c<e[s]&&(e[s]-=e[s]-(t.offsets.host[u]-c)),Number(t.offsets.host[s])+Number(c)>e[u]&&(e[s]+=Number(t.offsets.host[s])+Number(c)-Number(e[u])),e=_i(e);const h=ai(t.instance.target),f=parseFloat(h[`margin${o}`]),d=parseFloat(h[`border${o}Width`]);let p;if(l){const e=parseFloat(h.borderRadius),n=Number(f+d+e);p=s===l?Number(t.offsets.host[s])+n:Number(t.offsets.host[s])+Number(t.offsets.host[i]-n)}else p=Number(t.offsets.host[s])+Number(t.offsets.host[i]/2-c/2);let g=p-e[s]-f-d;return g=Math.max(Math.min(e[i]-c,g),0),t.offsets.arrow={[s]:Math.round(g),[a]:""},t.instance.arrow=n,t}function Pi(t){if(t.offsets.target=_i(t.offsets.target),!ji(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),Ri(t.instance.target,t.offsets.host,t.placement)),t;const e=Ti(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const i=xi("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),o=[n,i];return o.forEach((i,s)=>{if(n!==i||o.length===s+1)return t;n=t.placement.split(" ")[0];const a="left"===n&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),u=Math.floor(t.offsets.target.left)<Math.floor(e.left),c=Math.floor(t.offsets.target.right)>Math.floor(e.right),l=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),f="left"===n&&u||"right"===n&&c||"top"===n&&l||"bottom"===n&&h,d=-1!==["top","bottom"].indexOf(n),p=d&&"left"===r&&u||d&&"right"===r&&c||!d&&"left"===r&&l||!d&&"right"===r&&h;(a||f||p)&&((a||f)&&(n=o[s+1]),p&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?` ${r}`:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),Ri(t.instance.target,t.offsets.host,t.placement)))}),t}function Mi(t){if(!ji(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:r,left:i,[e]:o}=n;n.top="",n.left="",n[e]="";const s=Ti(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=r,n.left=i,n[e]=o;const a={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<s[e]&&(n=Math.max(t.offsets.target[e],s[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let r=t.offsets.target[n];return t.offsets.target[e]>s[e]&&(r=Math.min(t.offsets.target[n],s[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:r}}};let u;return["left","right","top","bottom"].forEach(e=>{u=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),a[u](e))}),t}function Li(t){const e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:e,target:i}=t.offsets,o=-1!==["bottom","top"].indexOf(n),s=o?"left":"top",a=o?"width":"height",u={start:{[s]:e[s]},end:{[s]:e[s]+e[a]-i[a]}};t.offsets.target=Object.assign(Object.assign({},i),{[s]:s===r?u.start[s]:u.end[s]})}return t}const Fi=new class{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return ki(e,t)}positionElements(t,e,n,r,i){return[Pi,Li,Mi,Di].reduce((t,e)=>e(t),function(t,e,n,r){const i=ki(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const o=!!n.match(/auto/g);let s=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=s.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto");const u=Ri(t,i,s);return s=xi(s,i,t,e,r?r.allowedPositions:void 0),{options:r,instance:{target:t,host:e,arrow:null},offsets:{target:u,host:i,arrow:null},positionFixed:!1,placement:s,placementAuto:o}}(e,t,n,i))}};let Vi=(()=>{class t{constructor(t,e,n){this.update$$=new dn.a,this.positionElements=new Map,this.isDisabled=!1,function(t){return"browser"===t}(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(qn.a)(gn(window,"scroll",{passive:!0}),gn(window,"resize",{passive:!0}),Object(Te.a)(0,si),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,r,i,o){const s=Fi.positionElements(t,e,n,r,i),a=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(s);Ni(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&Ni(s.instance.arrow,s.offsets.arrow,o),function(t,e){const n=t.instance.target;let r=n.className;t.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${t.placement}`),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${t.placement}`),r=r.replace(/\sauto/g,` ${t.placement}`),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,`${t.placement.split(" ")[0]}`),e?e.setAttribute(n,"class",r):n.className=r}(s,o)}(Ui(t.target),Ui(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Ui(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(Ui(t))}setOptions(t){this.options=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.A),r.Yb(r.F),r.Yb(r.C))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Ui(t){return"string"==typeof t?document.querySelector(t):t instanceof r.l?t.nativeElement:t}class qi{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class Bi{constructor(t,e,n,i,o,s,a,u){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=i,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=u,this.onBeforeShow=new r.n,this.onShown=new r.n,this.onBeforeHide=new r.n,this.onHidden=new r.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=r.s.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof r.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=function(t,e=Xr){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new Jr(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],o=[],s=()=>{o.forEach(t=>i.push(t())),o.length=0};return n.forEach(n=>{const a=n.open===n.close,u=a?e.toggle:e.show;a||o.push(()=>t.listen(r,n.close,e.hide)),i.push(t.listen(r,n.open,()=>u(s)))}),()=>{i.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new qi([]);if(t instanceof r.L){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new qi([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new qi([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),i=r.s.create({providers:this._providers,parent:this._injector}),o=e.create(i);return Object.assign(o.instance,n),this._applicationRef.attachView(o.hostView),new qi([[o.location.nativeElement]],o.hostView,o)}return new qi([[this._renderer.createText(`${t}`)]])}}let Hi=(()=>{class t{constructor(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(t,e,n){return new Bi(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.j),r.Yb(r.A),r.Yb(r.s),r.Yb(Vi),r.Yb(r.g))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const zi=["*"];let Gi=(()=>{class t{constructor(){this.hide=Function,this.setClass=Function}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Qi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const $i={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},Wi=new r.r("override-default-config"),Ki="modal-open",Yi="show";let Ji=(()=>{class t{constructor(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,ei()?"in":Yi)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,Ki)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,ei()?"in":Yi),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,Ki),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Qi),r.Mb(r.l),r.Mb(r.E))},t.\u0275cmp=r.Gb({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,e){1&t&&r.bc("mousedown",function(t){return e.onClickStarted(t)})("mouseup",function(t){return e.onClickStop(t)})("popstate",function(){return e.onPopState()},!1,r.tc)("keydown.esc",function(t){return e.onEsc(t)},!1,r.tc),2&t&&r.Bb("aria-modal",!0)("aria-labelledby",e.config.ariaLabelledBy)("aria-describedby",e.config.ariaDescribedby)},ngContentSelectors:zi,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,e){1&t&&(r.jc(),r.Rb(0,"div",0),r.Rb(1,"div",1),r.ic(2),r.Qb(),r.Qb()),2&t&&r.Cb("modal-dialog"+(e.config.class?" "+e.config.class:""))},encapsulation:2}),t})(),Xi=(()=>{class t{constructor(t,e){this._isShown=!1,this.element=t,this.renderer=e}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),ei()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return e&&e.opener||(e=Zr),e.getComputedStyle(t)}}.reflow(this.element.nativeElement)),this.isShown=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E))},t.\u0275cmp=r.Gb({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Zi=(()=>{class t{constructor(t,e,n){this.clf=e,this.modalDefaultOption=n,this.onShow=new r.n,this.onShown=new r.n,this.onHide=new r.n,this.onHidden=new r.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=n?Object.assign({},$i,n):$i}show(t,e){this.modalsCount++,this._createLoaders();const n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},$i,this.modalDefaultOption,e):Object.assign({},$i,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(Xi).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var e;const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const r of this.config.providers)n.provide(r);const i=new Gi,o=n.provide({provide:Qi,useValue:this.config}).provide({provide:Gi,useValue:i}).attach(Ji).to("body");return i.hide=()=>o.instance.hide(),i.setClass=t=>{o.instance.config.class=t},i.onHidden=new r.n,i.onHide=new r.n,this.copyEvent(n.onBeforeHide,i.onHide),this.copyEvent(n.onHidden,i.onHidden),o.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance.level=this.getModalsCount(),i.content=n.getInnerComponent()||null,i.id=null===(e=o.instance.config)||void 0===e?void 0:e.id,i}_hideModal(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(t=>{t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,Ki),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t);e>=0&&(this.loaders.splice(e,1),this.loaders.forEach((t,e)=>{t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,e){t.subscribe(t=>{e.emit(this.lastDismissReason||t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.F),r.Yb(Hi),r.Yb(Wi,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),to=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Zi,Hi,Vi]}}static forChild(){return{ngModule:t,providers:[Zi,Hi,Vi]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();var eo=n("spgP");function no(){return t=>t.lift(new ro)}class ro{call(t,e){return e.subscribe(new io(t))}}class io extends Ae.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function oo(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new so(t,e,n))}}class so{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ao(t,this.accumulator,this.seed,this.hasSeed))}}class ao extends Ae.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var uo=n("pxpQ"),co=n("Jgta"),lo=n("zIRd"),ho=n("q/0M"),fo=n("qOnz"),po=function(t,e){return(po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function go(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var mo,yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bo=bo||{},vo=yo||self;function wo(){}function _o(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Eo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Oo="closure_uid_"+(1e9*Math.random()>>>0),Co=0;function So(t,e,n){return t.call.apply(t.bind,arguments)}function To(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Io(t,e,n){return(Io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?So:To).apply(null,arguments)}function xo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ao(){return Date.now()}function ko(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ro(){this.j=this.j,this.i=this.i}Ro.prototype.j=!1,Ro.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Oo)&&t[Oo]||(t[Oo]=++Co)}(this)},Ro.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var jo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},No=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Do(t){return Array.prototype.concat.apply([],arguments)}function Po(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mo(t){return/^[\s\xa0]*$/.test(t)}var Lo,Fo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vo(t,e){return-1!=t.indexOf(e)}function Uo(t,e){return t<e?-1:t>e?1:0}t:{var qo=vo.navigator;if(qo){var Bo=qo.userAgent;if(Bo){Lo=Bo;break t}}Lo=""}function Ho(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function zo(t){var e={};for(var n in t)e[n]=t[n];return e}var Go="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Go.length;o++)n=Go[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $o(t){return $o[" "](t),t}$o[" "]=wo;var Wo,Ko,Yo=Vo(Lo,"Opera"),Jo=Vo(Lo,"Trident")||Vo(Lo,"MSIE"),Xo=Vo(Lo,"Edge"),Zo=Xo||Jo,ts=Vo(Lo,"Gecko")&&!(Vo(Lo.toLowerCase(),"webkit")&&!Vo(Lo,"Edge"))&&!(Vo(Lo,"Trident")||Vo(Lo,"MSIE"))&&!Vo(Lo,"Edge"),es=Vo(Lo.toLowerCase(),"webkit")&&!Vo(Lo,"Edge");function ns(){var t=vo.document;return t?t.documentMode:void 0}t:{var rs="",is=(Ko=Lo,ts?/rv:([^\);]+)(\)|;)/.exec(Ko):Xo?/Edge\/([\d\.]+)/.exec(Ko):Jo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ko):es?/WebKit\/(\S+)/.exec(Ko):Yo?/(?:Version)[ \/]?(\S+)/.exec(Ko):void 0);if(is&&(rs=is?is[1]:""),Jo){var os=ns();if(null!=os&&os>parseFloat(rs)){Wo=String(os);break t}}Wo=rs}var ss={};function as(t){return function(t,e){var n=ss;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Fo(String(Wo)).split("."),r=Fo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Uo(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Uo(0==s[2].length,0==a[2].length)||Uo(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var us=vo.document&&Jo&&(ns()||parseInt(Wo,10))||void 0,cs=!Jo||9<=Number(us),ls=Jo&&!as("9"),hs=function(){if(!vo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{vo.addEventListener("test",wo,e),vo.removeEventListener("test",wo,e)}catch(n){}return t}();function fs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ds(t,e){if(fs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ts){t:{try{$o(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ps[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fs.prototype.b=function(){this.defaultPrevented=!0},ko(ds,fs);var ps={2:"touch",3:"pen",4:"mouse"};ds.prototype.b=function(){ds.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ls)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var gs="closure_listenable_"+(1e6*Math.random()|0),ms=0;function ys(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ms,this.Y=this.Z=!1}function bs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function vs(t){this.src=t,this.a={},this.b=0}function ws(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=jo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(bs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function _s(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}vs.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=_s(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ys(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Es="closure_lm_"+(1e6*Math.random()|0),Os={};function Cs(t,e,n,r,i){if(r&&r.once)return Ts(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Cs(t,e[o],n,r,i);return null}return n=Ds(n),t&&t[gs]?t.va(e,n,Eo(r)?!!r.capture:!!r,i):Ss(t,e,n,!1,r,i)}function Ss(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Eo(i)?!!i.capture:!!i;if(s&&!cs)return null;var a=js(t);if(a||(t[Es]=a=new vs(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Rs,e=cs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hs||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(As(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ts(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ts(t,e[o],n,r,i);return null}return n=Ds(n),t&&t[gs]?t.wa(e,n,Eo(r)?!!r.capture:!!r,i):Ss(t,e,n,!0,r,i)}function Is(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Is(t,e[o],n,r,i);else r=Eo(r)?!!r.capture:!!r,n=Ds(n),t&&t[gs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=_s(o=t.a[e],n,r,i))&&(bs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=js(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_s(e,n,r,i)),(n=-1<t?e[t]:null)&&xs(n))}function xs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[gs])ws(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(As(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=js(e))?(ws(n,t),0==n.b&&(n.src=null,e[Es]=null)):bs(t)}}}function As(t){return t in Os?Os[t]:Os[t]="on"+t}function ks(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&xs(t),n.call(r,e)}function Rs(t,e){if(t.Y)return!0;if(!cs){if(!e)t:{e=["window","event"];for(var n=vo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ks(t,e=new ds(e,this))}return ks(t,new ds(e,this))}function js(t){return(t=t[Es])instanceof vs?t:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ds(t){return"function"==typeof t?t:(t[Ns]||(t[Ns]=function(e){return t.handleEvent(e)}),t[Ns])}function Ps(){Ro.call(this),this.c=new vs(this),this.J=this,this.C=null}function Ms(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new fs(e,t);else if(e instanceof fs)e.target=e.target||t;else{var i=e;Qo(e=new fs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ls(s,r,!0,e)&&i}if(i=Ls(s=e.a=t,r,!0,e)&&i,i=Ls(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ls(s=e.a=n[o],r,!1,e)&&i}function Ls(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ws(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ko(Ps,Ro),Ps.prototype[gs]=!0,(mo=Ps.prototype).addEventListener=function(t,e,n,r){Cs(this,t,e,n,r)},mo.removeEventListener=function(t,e,n,r){Is(this,t,e,n,r)},mo.G=function(){if(Ps.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)bs(n[r]);delete e.a[t],e.b--}}this.C=null},mo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},mo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Fs=vo.JSON.stringify;function Vs(){this.b=this.a=null}var Us,qs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Hs},function(t){t.reset()});function Bs(){var t=$s,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Hs(){this.next=this.b=this.a=null}function zs(t){vo.setTimeout(function(){throw t},0)}function Gs(t,e){Us||function(){var t=vo.Promise.resolve(void 0);Us=function(){t.then(Ws)}}(),Qs||(Us(),Qs=!0),$s.add(t,e)}Vs.prototype.add=function(t,e){var n=qs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Hs.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Hs.prototype.reset=function(){this.next=this.b=this.a=null};var Qs=!1,$s=new Vs;function Ws(){for(var t;t=Bs();){try{t.a.call(t.b)}catch(n){zs(n)}var e=qs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qs=!1}function Ks(t,e){Ps.call(this),this.b=t||1,this.a=e||vo,this.f=Io(this.Za,this),this.g=Ao()}function Ys(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Js(t,e,n){if("function"==typeof t)n&&(t=Io(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Io(t.handleEvent,t)}return 2147483647<Number(e)?-1:vo.setTimeout(t,e||0)}function Xs(t){t.a=Js(function(){t.a=null,t.c&&(t.c=!1,Xs(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ko(Ks,Ps),(mo=Ks.prototype).aa=!1,mo.M=null,mo.Za=function(){if(this.aa){var t=Ao()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ms(this,"tick"),this.aa&&(Ys(this),this.start()))}},mo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ao())},mo.G=function(){Ks.X.G.call(this),Ys(this),delete this.a};var Zs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}po(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Xs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(vo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ro);function ta(t){Ro.call(this),this.b=t,this.a={}}ko(ta,Ro);var ea=[];function na(t,e,n,r){Array.isArray(n)||(n&&(ea[0]=n.toString()),n=ea);for(var i=0;i<n.length;i++){var o=Cs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ra(t){Ho(t.a,function(t,e){this.a.hasOwnProperty(e)&&xs(t)},t),t.a={}}function ia(){this.a=!0}function oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Fs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ta.prototype.G=function(){ta.X.G.call(this),ra(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ia.prototype.info=function(){};var sa={},aa=null;function ua(){return aa=aa||new Ps}function ca(t){fs.call(this,sa.Fa,t)}function la(t){var e=ua();Ms(e,new ca(e,t))}function ha(t,e){fs.call(this,sa.STAT_EVENT,t),this.stat=e}function fa(t){var e=ua();Ms(e,new ha(e,t))}function da(t){fs.call(this,sa.Ga,t)}function pa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return vo.setTimeout(function(){t()},e)}sa.Fa="serverreachability",ko(ca,fs),sa.STAT_EVENT="statevent",ko(ha,fs),sa.Ga="timingevent",ko(da,fs);var ga={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ma={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ya(){}function ba(){}ya.prototype.a=null;var va,wa={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function _a(){fs.call(this,"d")}function Ea(){fs.call(this,"c")}function Oa(){}function Ca(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ta(this),this.P=Sa,this.R=new Ks(t=Zo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ko(_a,fs),ko(Ea,fs),ko(Oa,ya),va=new Oa;var Sa=45e3,Ta={},Ia={};function xa(t,e,n){t.H=1,t.i=Ya(za(e)),t.j=n,t.I=!0,Aa(t,null)}function Aa(t,e){t.u=Ao(),ja(t),t.l=za(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),cu(n.b,"t",r),t.D=0,t.a=rc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Zs(Io(t.Ca,t,t.a),t.O)),na(t.J,t.a,"readystatechange",t.Xa),e=t.B?zo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),la(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ka(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ra(t,n);if(i==Ia){4==e&&(t.h=4,fa(14),r=!1),oa(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ta){t.h=4,fa(15),oa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}oa(t.c,t.f,i,null),La(t,i)}4==e&&0==n.length&&(t.h=1,fa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ku(e),e.F=!0,fa(11))):(oa(t.c,t.f,n,"[Invalid Chunked Response]"),Ma(t),Pa(t))}function Ra(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ia:(n=Number(e.substring(n,r)),isNaN(n)?Ta:(r+=1)+n>e.length?Ia:(e=e.substr(r,n),t.D=r+n,e))}function ja(t){t.T=Ao()+t.P,Na(t,t.P)}function Na(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=pa(Io(t.Va,t),e)}function Da(t){t.o&&(vo.clearTimeout(t.o),t.o=null)}function Pa(t){0==t.g.v||t.A||Xu(t.g,t)}function Ma(t){Da(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ys(t.R),ra(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function La(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||mu(n.b,t)))if(n.I=t.N,!t.C&&mu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(qb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ju(n),Uu(n)}Wu(n),fa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=pa(Io(n.Sa,n),6e3));if(1>=gu(n.b)&&n.ea){try{n.ea()}catch(qb){}n.ea=void 0}}else tc(n,11)}else if((t.C||n.a==t)&&Ju(n),!Mo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Vo(l,"spdy")||Vo(l,"quic")||Vo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(yu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ka(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ao()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=nc(u,u.C?u.ga:null,u.fa),d.C){bu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Da(p),ja(p)),u.a=d}else $u(u);0<n.g.length&&Hu(n)}else"stop"!=i[0]&&"close"!=i[0]||tc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?tc(n,7):Vu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);la(4)}catch(qb){}}function Fa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_o(t)||"string"==typeof t)No(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(_o(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(_o(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Va(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Va)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ua(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];qa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)qa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function qa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(mo=Ca.prototype).setTimeout=function(t){this.P=t},mo.Xa=function(t){t=t.target;var e=this.F;e&&3==Pu(t)?e.f():this.Ca(t)},mo.Ca=function(t){try{if(t==this.a)t:{var e=Pu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Zo&&!this.a.$())){this.A||4!=e||7==n||la(8==n||0>=r?3:2),Da(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,fa(12),Ma(this),Pa(this);break t}oa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,La(this,u)}this.I?(ka(this,e,o),Zo&&this.b&&3==e&&(na(this.J,this.R,"tick",this.Wa),this.R.start())):(oa(this.c,this.f,o,null),La(this,o)),4==e&&Ma(this),this.b&&!this.A&&(4==e?Xu(this.g,this):(this.b=!1,ja(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,fa(12)):(this.h=0,fa(13)),Ma(this),Pa(this)}}}catch(c){}},mo.Wa=function(){if(this.a){var t=Pu(this.a),e=this.a.$();this.D<e.length&&(Da(this),ka(this,t,e),this.b&&4!=t&&ja(this))}},mo.cancel=function(){this.A=!0,Ma(this)},mo.Va=function(){this.o=null;var t=Ao();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(la(3),fa(17)),Ma(this),this.h=2,Pa(this)):Na(this,this.T-t)},(mo=Va.prototype).K=function(){Ua(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},mo.L=function(){return Ua(this),this.a.concat()},mo.get=function(t,e){return qa(this.b,t)?this.b[t]:e},mo.set=function(t,e){qa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},mo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ba=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ha(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ha){this.a=void 0!==e?e:t.a,Ga(this,t.f),this.j=t.j,Qa(this,t.c),$a(this,t.h),this.g=t.g,e=t.b;var n=new ou;n.c=e.c,e.a&&(n.a=new Va(e.a),n.b=e.b),Wa(this,n),this.i=t.i}else t&&(n=String(t).match(Ba))?(this.a=!!e,Ga(this,n[1]||"",!0),this.j=Ja(n[2]||""),Qa(this,n[3]||"",!0),$a(this,n[4]),this.g=Ja(n[5]||"",!0),Wa(this,n[6]||"",!0),this.i=Ja(n[7]||"")):(this.a=!!e,this.b=new ou(null,this.a))}function za(t){return new Ha(t)}function Ga(t,e,n){t.f=n?Ja(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qa(t,e,n){t.c=n?Ja(e,!0):e}function $a(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Wa(t,e,n){e instanceof ou?(t.b=e,function(t,e){e&&!t.f&&(su(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(au(this,e),cu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Xa(e,ru)),t.b=new ou(e,t.a))}function Ka(t,e,n){t.b.set(e,n)}function Ya(t){return Ka(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ao()).toString(36)),t}function Ja(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Za),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Za(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ha.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Xa(e,tu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Xa(e,tu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xa(n,"/"==n.charAt(0)?nu:eu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Xa(n,iu)),t.join("")};var tu=/[#\/\?@]/g,eu=/[#\?:]/g,nu=/[#\?]/g,ru=/[#\?@]/g,iu=/#/g;function ou(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function su(t){t.a||(t.a=new Va,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function au(t,e){su(t),e=lu(t,e),qa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,qa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ua(t)))}function uu(t,e){return su(t),e=lu(t,e),qa(t.a.b,e)}function cu(t,e,n){au(t,e),0<n.length&&(t.c=null,t.a.set(lu(t,e),Po(n)),t.b+=n.length)}function lu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(mo=ou.prototype).add=function(t,e){su(this),this.c=null,t=lu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},mo.forEach=function(t,e){su(this),this.a.forEach(function(n,r){No(n,function(n){t.call(e,n,r,this)},this)},this)},mo.L=function(){su(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},mo.K=function(t){su(this);var e=[];if("string"==typeof t)uu(this,t)&&(e=Do(e,this.a.get(lu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Do(e,t[n])}return e},mo.set=function(t,e){return su(this),this.c=null,uu(this,t=lu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},mo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},mo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var hu=function(){return function(t,e){this.b=t,this.a=e}}();function fu(t){this.g=t||du,t=vo.PerformanceNavigationTiming?0<(t=vo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(vo.ia&&vo.ia.ya&&vo.ia.ya()&&vo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var du=10;function pu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function gu(t){return t.b?1:t.a?t.a.size:0}function mu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function yu(t,e){t.a?t.a.add(e):t.b=e}function bu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function vu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=go(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Po(t.c)}function wu(){}function _u(){this.a=new wu}function Eu(t,e,n){var r=n||"";try{Fa(t,function(t,n){var i=t;Eo(t)&&(i=Fs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(xv){throw e.push(r+"type="+encodeURIComponent("_badmap")),xv}}function Ou(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}fu.prototype.cancel=function(){var t,e;if(this.c=vu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=go(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},wu.prototype.stringify=function(t){return vo.JSON.stringify(t,void 0)},wu.prototype.parse=function(t){return vo.JSON.parse(t,void 0)};var Cu=vo.JSON.parse;function Su(t){Ps.call(this),this.headers=new Va,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Tu,this.D=this.F=!1}ko(Su,Ps);var Tu="",Iu=/^https?$/i,xu=["POST","PUT"];function Au(t){return"content-type"==t.toLowerCase()}function ku(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ru(t),Nu(t)}function Ru(t){t.u||(t.u=!0,Ms(t,"complete"),Ms(t,"error"))}function ju(t){if(t.b&&void 0!==bo&&(!t.s[1]||4!=Pu(t)||2!=t.W()))if(t.l&&4==Pu(t))Js(t.za,0,t);else if(Ms(t,"readystatechange"),4==Pu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ba)[1]||null;if(!o&&vo.self&&vo.self.location){var s=vo.self.location.protocol;o=s.substr(0,s.length-1)}i=!Iu.test(o?o.toLowerCase():"")}e=i}if(e)Ms(t,"complete"),Ms(t,"success");else{t.h=6;try{var a=2<Pu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ru(t)}}finally{Nu(t)}}}function Nu(t,e){if(t.a){Du(t);var n=t.a,r=t.s[0]?wo:null;t.a=null,t.s=null,e||Ms(t,"ready");try{n.onreadystatechange=r}catch(xv){}}}function Du(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(vo.clearTimeout(t.m),t.m=null)}function Pu(t){return t.a?t.a.readyState:0}function Mu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ho(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ka(t,e,n))}function Lu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fu(t){this.pa=0,this.g=[],this.c=new ia,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lu("baseRetryDelayMs",5e3,t),this.Ra=Lu("retryDelaySeedMs",1e4,t),this.Ma=Lu("forwardChannelMaxRetries",2,t),this.ma=Lu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new fu(t&&t.concurrentRequestLimit),this.ka=new _u,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Vu(t){if(qu(t),3==t.v){var e=t.R++,n=za(t.B);Ka(n,"SID",t.J),Ka(n,"RID",e),Ka(n,"TYPE","terminate"),Gu(t,n),(e=new Ca(t,t.c,e,void 0)).H=2,e.i=Ya(za(n)),n=!1,vo.navigator&&vo.navigator.sendBeacon&&(n=vo.navigator.sendBeacon(e.i.toString(),"")),!n&&vo.Image&&((new Image).src=e.i,n=!0),n||(e.a=rc(e.g,null),e.a.ba(e.i)),e.u=Ao(),ja(e)}ec(t)}function Uu(t){t.a&&(Ku(t),t.a.cancel(),t.a=null)}function qu(t){Uu(t),t.j&&(vo.clearTimeout(t.j),t.j=null),Ju(t),t.b.cancel(),t.h&&("number"==typeof t.h&&vo.clearTimeout(t.h),t.h=null)}function Bu(t,e){t.g.push(new hu(t.Oa++,e)),3==t.v&&Hu(t)}function Hu(t){pu(t.b)||t.h||(t.h=!0,Gs(t.Ba,t),t.u=0)}function zu(t,e){var n;n=e?e.f:t.R++;var r=za(t.B);Ka(r,"SID",t.J),Ka(r,"RID",n),Ka(r,"AID",t.P),Gu(t,r),t.i&&t.l&&Mu(r,t.i,t.l),n=new Ca(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),yu(t.b,n),xa(n,r,e)}function Gu(t,e){t.f&&Fa({},function(t,n){Ka(e,n,t)})}function Qu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Io(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Eu(l,s,"req"+c+"_")}catch(Mc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function $u(t){t.a||t.j||(t.T=1,Gs(t.Aa,t),t.o=0)}function Wu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=pa(Io(t.Aa,t),Zu(t,t.o)),t.o++,0))}function Ku(t){null!=t.s&&(vo.clearTimeout(t.s),t.s=null)}function Yu(t){t.a=new Ca(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=za(t.la);Ka(e,"RID","rpc"),Ka(e,"SID",t.J),Ka(e,"CI",t.H?"0":"1"),Ka(e,"AID",t.P),Gu(t,e),Ka(e,"TYPE","xmlhttp"),t.i&&t.l&&Mu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ya(za(e)),n.j=null,n.I=!0,Aa(n,t)}function Ju(t){null!=t.m&&(vo.clearTimeout(t.m),t.m=null)}function Xu(t,e){var n=null;if(t.a==e){Ju(t),Ku(t),t.a=null;var r=2}else{if(!mu(t.b,e))return;n=e.s,bu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ao()-e.u;var i=t.u;Ms(r=ua(),new da(r,n,e,i)),Hu(t)}else $u(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(gu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=pa(Io(t.Ba,t,e),Zu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Wu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:tc(t,5);break;case 4:tc(t,10);break;case 3:tc(t,6);break;default:tc(t,2)}}function Zu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function tc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Io(t.Ya,t);n||(n=new Ha("//www.google.com/images/cleardot.gif"),vo.location&&"http"==vo.location.protocol||Ga(n,"https"),Ya(n)),function(t,e){var n=new ia;if(vo.Image){var r=new Image;r.onload=xo(Ou,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xo(Ou,n,r,"TestLoadImage: error",!1,e),r.onabort=xo(Ou,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xo(Ou,n,r,"TestLoadImage: timeout",!1,e),vo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fa(2);t.v=0,t.f&&t.f.ra(e),ec(t),qu(t)}function ec(t){t.v=0,t.I=-1,t.f&&(0==vu(t.b).length&&0==t.g.length||(t.b.c.length=0,Po(t.g),t.g.length=0),t.f.qa())}function nc(t,e,n){var r=function(t){return t instanceof Ha?za(t):new Ha(t,void 0)}(n);if(""!=r.c)e&&Qa(r,e+"."+r.c),$a(r,r.h);else{var i=vo.location;r=function(t,e,n,r){var i=new Ha(null,void 0);return t&&Ga(i,t),e&&Qa(i,e),n&&$a(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ho(t.V,function(t,e){Ka(r,e,t)}),n=t.na,(e=t.A)&&n&&Ka(r,e,n),Ka(r,"VER",t.ha),Gu(t,r),r}function rc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Su(t.Na)).F=t.C,e}function ic(){}function oc(){if(Jo&&!(10<=Number(us)))throw Error("Environmental error: no available transport.")}function sc(t,e){Ps.call(this),this.a=new Fu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new cc(this)}function ac(t){_a.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function uc(){Ea.call(this),this.status=1}function cc(t){this.a=t}(mo=Su.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:va),this.a.onreadystatechange=Io(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ku(this,o)}t=n||"";var i=new Va(this.headers);r&&Fa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Au,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=vo.FormData&&t instanceof vo.FormData,!(0<=jo(xu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Du(this),0<this.o&&((this.D=function(t){return Jo&&as(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Io(this.xa,this)):this.m=Js(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ku(this,o)}},mo.xa=function(){void 0!==bo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ms(this,"timeout"),this.abort(8))},mo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ms(this,"complete"),Ms(this,"abort"),Nu(this))},mo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nu(this,!0)),Su.X.G.call(this)},mo.za=function(){this.j||(this.A||this.l||this.g?ju(this):this.Ua())},mo.Ua=function(){ju(this)},mo.W=function(){try{return 2<Pu(this)?this.a.status:-1}catch(Ko){return-1}},mo.$=function(){try{return this.a?this.a.responseText:""}catch(Ko){return""}},mo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cu(e)}},mo.ua=function(){return this.h},mo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(mo=Fu.prototype).ha=8,mo.v=1,mo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ca(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Qo(r=zo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qu(this,n,e),Ka(i=za(this.B),"RID",t),Ka(i,"CVER",22),this.A&&Ka(i,"X-HTTP-Session-Id",this.A),Gu(this,i),this.i&&r&&Mu(i,this.i,r),yu(this.b,n),this.Ia&&Ka(i,"TYPE","init"),this.da?(Ka(i,"$req",e),Ka(i,"SID","null"),n.U=!0,xa(n,i,null)):xa(n,i,e),this.v=2}}else 3==this.v&&(t?zu(this,t):0==this.g.length||pu(this.b)||zu(this))},mo.Aa=function(){if(this.j=null,Yu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=pa(Io(this.Ta,this),t)}},mo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fa(10),Uu(this),Yu(this))},mo.Sa=function(){null!=this.m&&(this.m=null,Uu(this),Wu(this),fa(19))},mo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),fa(2)):(this.c.info("Failed to ping google.com"),fa(1))},(mo=ic.prototype).ta=function(){},mo.sa=function(){},mo.ra=function(){},mo.qa=function(){},mo.Ja=function(){},oc.prototype.a=function(t,e){return new sc(t,e)},ko(sc,Ps),sc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;fa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=nc(t,null,t.fa),Hu(t)},sc.prototype.close=function(){Vu(this.a)},sc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Bu(this.a,e)}else this.l?((e={}).__data__=Fs(t),Bu(this.a,e)):Bu(this.a,t)},sc.prototype.G=function(){this.a.f=null,delete this.f,Vu(this.a),delete this.a,sc.X.G.call(this)},ko(ac,_a),ko(uc,Ea),ko(cc,ic),cc.prototype.ta=function(){Ms(this.a,"a")},cc.prototype.sa=function(t){Ms(this.a,new ac(t))},cc.prototype.ra=function(t){Ms(this.a,new uc(t))},cc.prototype.qa=function(){Ms(this.a,"b")},oc.prototype.createWebChannel=oc.prototype.a,sc.prototype.send=sc.prototype.h,sc.prototype.open=sc.prototype.g,sc.prototype.close=sc.prototype.close,ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,ma.COMPLETE="complete",ba.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",Ps.prototype.listen=Ps.prototype.va,Su.prototype.listenOnce=Su.prototype.wa,Su.prototype.getLastError=Su.prototype.Qa,Su.prototype.getLastErrorCode=Su.prototype.ua,Su.prototype.getStatus=Su.prototype.W,Su.prototype.getResponseJson=Su.prototype.Pa,Su.prototype.getResponseText=Su.prototype.$,Su.prototype.send=Su.prototype.ba;var lc=ga,hc=ma,fc=sa,dc=ba,pc=Su,gc=n("mrSG"),mc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();mc.o=-1;var yc=new ho.b("@firebase/firestore");function bc(){return yc.logLevel}function vc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yc.logLevel<=ho.a.DEBUG){var r=e.map(Ec);yc.debug.apply(yc,Object(gc.f)(["Firestore (8.3.1): "+t],r))}}function wc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yc.logLevel<=ho.a.ERROR){var r=e.map(Ec);yc.error.apply(yc,Object(gc.f)(["Firestore (8.3.1): "+t],r))}}function _c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yc.logLevel<=ho.a.WARN){var r=e.map(Ec);yc.warn.apply(yc,Object(gc.f)(["Firestore (8.3.1): "+t],r))}}function Ec(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(xv){return t}}function Oc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function Cc(t,e){t||Oc()}function Sc(t,e){return t}function Tc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ic=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Tc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xc(t,e){return t<e?-1:t>e?1:0}function Ac(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function kc(t){return t+"\0"}function Rc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dc(t){return null==t}function Pc(t){return 0===t&&1/t==-1/0}function Mc(t){return"number"==typeof t&&Number.isInteger(t)&&!Pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Lc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(gc.c)(e,t),e}(Error),Vc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Oc(),void 0===n?n=t.length-e:n>t.length-e&&Oc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Vc),qc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return qc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Fc(Lc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fc(Lc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Fc(Lc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Vc),Hc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Uc.fromString(e))},t.fromName=function(e){return new t(Uc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Uc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Uc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Uc(e.slice()))},t}(),zc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return xc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();zc.EMPTY_BYTE_STRING=new zc("");var Gc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qc(t){if(Cc(!!t),"string"==typeof t){var e=0,n=Gc.exec(t);if(Cc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$c(t.seconds),nanos:$c(t.nanos)}}function $c(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wc(t){return"string"==typeof t?zc.fromBase64String(t):zc.fromUint8Array(t)}var Kc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fc(Lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fc(Lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fc(Lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fc(Lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?xc(this.nanoseconds,t.nanoseconds):xc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function Yc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jc(t){var e=t.mapValue.fields.__previous_value__;return Yc(e)?Jc(e):e}function Xc(t){var e=Qc(t.mapValue.fields.__local_write_time__.timestampValue);return new Kc(e.seconds,e.nanos)}function Zc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yc(t)?4:10:Oc()}function tl(t,e){var n=Zc(t);if(n!==Zc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Qc(t.timestampValue),r=Qc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Wc(t.bytesValue).isEqual(Wc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $c(t.geoPointValue.latitude)===$c(e.geoPointValue.latitude)&&$c(t.geoPointValue.longitude)===$c(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $c(t.integerValue)===$c(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$c(t.doubleValue),r=$c(e.doubleValue);return n===r?Pc(n)===Pc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ac(t.arrayValue.values||[],e.arrayValue.values||[],tl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Rc(n)!==Rc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tl(n[i],r[i])))return!1;return!0}(t,e);default:return Oc()}}function el(t,e){return void 0!==(t.values||[]).find(function(t){return tl(t,e)})}function nl(t,e){var n=Zc(t),r=Zc(e);if(n!==r)return xc(n,r);switch(n){case 0:return 0;case 1:return xc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$c(t.integerValue||t.doubleValue),r=$c(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return rl(t.timestampValue,e.timestampValue);case 4:return rl(Xc(t),Xc(e));case 5:return xc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Wc(t),r=Wc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xc(n[i],r[i]);if(0!==o)return o}return xc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xc($c(t.latitude),$c(e.latitude));return 0!==n?n:xc($c(t.longitude),$c(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=nl(n[i],r[i]);if(o)return o}return xc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=xc(r[s],o[s]);if(0!==a)return a;var u=nl(n[r[s]],i[o[s]]);if(0!==u)return u}return xc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Oc()}}function rl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xc(t,e);var n=Qc(t),r=Qc(e),i=xc(n.seconds,r.seconds);return 0!==i?i:xc(n.nanos,r.nanos)}function il(t){return ol(t)}function ol(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Qc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wc(t.bytesValue).toBase64():"referenceValue"in t?Hc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ol(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ol(t.fields[o])}return e+"}"}(t.mapValue):Oc();var e}function sl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function al(t){return!!t&&"integerValue"in t}function ul(t){return!!t&&"arrayValue"in t}function cl(t){return!!t&&"nullValue"in t}function ll(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hl(t){return!!t&&"mapValue"in t}var fl=function(t,e){this.key=t,this.version=e},dl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(gc.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(fl),pl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(gc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fl),gl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fl),ml=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function yl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ml(t,e,n,r,i,o,s)}function bl(t){var e=Sc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+il(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Dc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rl(e.startAt)),e.endAt&&(n+="|ub:",n+=Rl(e.endAt)),e.h=n}return e.h}function vl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Nl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!tl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pl(t.startAt,e.startAt)&&Pl(t.endAt,e.endAt)}function wl(t){return Hc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var _l=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(gc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new El(t,n,r):"array-contains"===n?new Tl(t,r):"in"===n?new Il(t,r):"not-in"===n?new xl(t,r):"array-contains-any"===n?new Al(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ol(t,n):new Cl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(nl(e,this.value)):null!==e&&Zc(this.value)===Zc(e)&&this.m(nl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Oc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),El=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Hc.fromName(r.referenceValue),i}return Object(gc.c)(e,t),e.prototype.matches=function(t){var e=Hc.comparator(t.key,this.key);return this.m(e)},e}(_l),Ol=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Sl(0,n),r}return Object(gc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(_l),Cl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Sl(0,n),r}return Object(gc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(_l);function Sl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Hc.fromName(t.referenceValue)})}var Tl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(gc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ul(e)&&el(e.arrayValue,this.value)},e}(_l),Il=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(gc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&el(this.value.arrayValue,e)},e}(_l),xl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(gc.c)(e,t),e.prototype.matches=function(t){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!el(this.value.arrayValue,e)},e}(_l),Al=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(gc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ul(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return el(e.value.arrayValue,t)})},e}(_l),kl=function(t,e){this.position=t,this.before=e};function Rl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return il(t)}).join(",")}var jl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Nl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Hc.comparator(Hc.fromName(s.referenceValue),n.key):nl(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Pl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!tl(t.position[n],e.position[n]))return!1;return!0}var Ml=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Ll(t,e,n,r,i,o,s,a){return new Ml(t,e,n,r,i,o,s,a)}function Fl(t){return new Ml(t)}function Vl(t){return!Dc(t.limit)&&"F"===t.limitType}function Ul(t){return!Dc(t.limit)&&"L"===t.limitType}function ql(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Hl(t){return null!==t.collectionGroup}function zl(t){var e=Sc(t);if(null===e.p){e.p=[];var n=Bl(e),r=ql(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new jl(n)),e.p.push(new jl(Bc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new jl(Bc.keyField(),u))}}}return e.p}function Gl(t){var e=Sc(t);if(!e.T)if("F"===e.limitType)e.T=yl(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=zl(e);r<i.length;r++){var o=i[r];n.push(new jl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new kl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new kl(e.startAt.position,!e.startAt.before):null;e.T=yl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Ql(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $l(t,e){return vl(Gl(t),Gl(e))&&t.limitType===e.limitType}function Wl(t){return bl(Gl(t))+"|lt:"+t.limitType}function Kl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+il(e.value);var e}).join(", ")+"]"),Dc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Rl(t.startAt)),t.endAt&&(e+=", endAt: "+Rl(t.endAt)),"Target("+e+")"}(Gl(t))+"; limitType="+t.limitType+")"}function Yl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Hc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dl(t.startAt,zl(t),e)||t.endAt&&Dl(t.endAt,zl(t),e))}(t,e)}function Jl(t){return function(e,n){for(var r=!1,i=0,o=zl(t);i<o.length;i++){var s=o[i],a=Xl(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Xl(t,e,n){var r=t.field.isKeyField()?Hc.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?nl(r,i):Oc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oc()}}var Zl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Kc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),th=function(){function t(t){this.fields=t,t.sort(Bc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ac(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),eh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!hl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return tl(this.proto,t.proto)},t}(),nh=function(){function t(t){void 0===t&&(t=eh.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Bc.emptyPath(),this.A);return null!=t?new eh(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=hl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.P(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function rh(t){var e=[];return jc(t.fields||{},function(t,n){var r=new Bc([t]);if(hl(n)){var i=rh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new th(e)}function ih(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function oh(t){return{integerValue:""+t}}function sh(t,e){return Mc(e)?oh(e):ih(t,e)}var ah=function(){this._=void 0};function uh(t,e,n){return t instanceof hh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof fh?dh(t,e):t instanceof ph?gh(t,e):function(t,e){var n=lh(t,e),r=yh(n)+yh(t.S);return al(n)&&al(t.S)?oh(r):ih(t.D,r)}(t,e)}function ch(t,e,n){return t instanceof fh?dh(t,e):t instanceof ph?gh(t,e):n}function lh(t,e){return t instanceof mh?al(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e}(ah),fh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gc.c)(e,t),e}(ah);function dh(t,e){for(var n=bh(e),r=function(t){n.some(function(e){return tl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ph=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gc.c)(e,t),e}(ah);function gh(t,e){for(var n=bh(e),r=function(t){n=n.filter(function(e){return!tl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var mh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(gc.c)(e,t),e}(ah);function yh(t){return $c(t.integerValue||t.doubleValue)}function bh(t){return ul(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var vh=function(t,e){this.field=t,this.transform=e},wh=function(t,e){this.version=t,this.transformResults=e},_h=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Eh(t,e){return void 0!==t.updateTime?e instanceof dl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof dl}var Oh=function(){};function Ch(t,e,n){return t instanceof Ah?function(t,e,n){var r=t.value,i=jh(t.fieldTransforms,e,n.transformResults);return r=Dh(t.fieldTransforms,r,i),new dl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof kh?function(t,e,n){if(!Eh(t.precondition,e))return new gl(t.key,n.version);var r=Rh(t,e,jh(t.fieldTransforms,e,n.transformResults));return new dl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new pl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Sh(t,e,n){return t instanceof Ah?function(t,e,n){if(!Eh(t.precondition,e))return e;var r=t.value,i=Nh(t.fieldTransforms,n,e);r=Dh(t.fieldTransforms,r,i);var o=xh(e);return new dl(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof kh?function(t,e,n){if(!Eh(t.precondition,e))return e;var r=xh(e),i=Rh(t,e,Nh(t.fieldTransforms,n,e));return new dl(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return Eh(t.precondition,e)?new pl(t.key,Zl.min()):e}(t,e)}function Th(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof dl?e.field(o.field):void 0,a=lh(o.transform,s||null);null!=a&&(n=null==n?(new nh).set(o.field,a):n.set(o.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function Ih(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ac(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof fh&&e instanceof fh||t instanceof ph&&e instanceof ph?Ac(t.elements,e.elements,tl):t instanceof mh&&e instanceof mh?tl(t.S,e.S):t instanceof hh&&e instanceof hh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function xh(t){return t instanceof dl?t.version:Zl.min()}var Ah=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(gc.c)(e,t),e}(Oh),kh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(gc.c)(e,t),e}(Oh);function Rh(t,e,n){var r;return r=function(t,e){var n=new nh(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof dl?e.data():eh.empty()),Dh(t.fieldTransforms,r,n)}function jh(t,e,n){var r=[];Cc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof dl&&(a=e.field(o.field)),r.push(ch(s,a,n[i]))}return r}function Nh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof dl&&(u=n.field(s.field)),r.push(uh(a,u,e))}return r}function Dh(t,e,n){for(var r=new nh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var Ph,Mh,Lh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(gc.c)(e,t),e}(Oh),Fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(gc.c)(e,t),e}(Oh),Vh=function(t){this.count=t};function Uh(t){switch(t){case Lc.OK:return Oc();case Lc.CANCELLED:case Lc.UNKNOWN:case Lc.DEADLINE_EXCEEDED:case Lc.RESOURCE_EXHAUSTED:case Lc.INTERNAL:case Lc.UNAVAILABLE:case Lc.UNAUTHENTICATED:return!1;case Lc.INVALID_ARGUMENT:case Lc.NOT_FOUND:case Lc.ALREADY_EXISTS:case Lc.PERMISSION_DENIED:case Lc.FAILED_PRECONDITION:case Lc.ABORTED:case Lc.OUT_OF_RANGE:case Lc.UNIMPLEMENTED:case Lc.DATA_LOSS:return!0;default:return Oc()}}function qh(t){if(void 0===t)return wc("GRPC error has no .code"),Lc.UNKNOWN;switch(t){case Ph.OK:return Lc.OK;case Ph.CANCELLED:return Lc.CANCELLED;case Ph.UNKNOWN:return Lc.UNKNOWN;case Ph.DEADLINE_EXCEEDED:return Lc.DEADLINE_EXCEEDED;case Ph.RESOURCE_EXHAUSTED:return Lc.RESOURCE_EXHAUSTED;case Ph.INTERNAL:return Lc.INTERNAL;case Ph.UNAVAILABLE:return Lc.UNAVAILABLE;case Ph.UNAUTHENTICATED:return Lc.UNAUTHENTICATED;case Ph.INVALID_ARGUMENT:return Lc.INVALID_ARGUMENT;case Ph.NOT_FOUND:return Lc.NOT_FOUND;case Ph.ALREADY_EXISTS:return Lc.ALREADY_EXISTS;case Ph.PERMISSION_DENIED:return Lc.PERMISSION_DENIED;case Ph.FAILED_PRECONDITION:return Lc.FAILED_PRECONDITION;case Ph.ABORTED:return Lc.ABORTED;case Ph.OUT_OF_RANGE:return Lc.OUT_OF_RANGE;case Ph.UNIMPLEMENTED:return Lc.UNIMPLEMENTED;case Ph.DATA_LOSS:return Lc.DATA_LOSS;default:return Oc()}}(Mh=Ph||(Ph={}))[Mh.OK=0]="OK",Mh[Mh.CANCELLED=1]="CANCELLED",Mh[Mh.UNKNOWN=2]="UNKNOWN",Mh[Mh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mh[Mh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mh[Mh.NOT_FOUND=5]="NOT_FOUND",Mh[Mh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mh[Mh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mh[Mh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mh[Mh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mh[Mh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mh[Mh.ABORTED=10]="ABORTED",Mh[Mh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mh[Mh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mh[Mh.INTERNAL=13]="INTERNAL",Mh[Mh.UNAVAILABLE=14]="UNAVAILABLE",Mh[Mh.DATA_LOSS=15]="DATA_LOSS";var Bh=function(){function t(t,e){this.comparator=t,this.root=e||zh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Hh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Hh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Hh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Hh(this.root,t,this.comparator,!0)},t}(),Hh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),zh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Oc();if(this.right.isRed())throw Oc();var t=this.left.check();if(t!==this.right.check())throw Oc();return t+(this.isRed()?0:1)},t}();zh.EMPTY=null,zh.RED=!0,zh.BLACK=!1,zh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Oc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Gh=function(){function t(t){this.comparator=t,this.data=new Bh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Qh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Qh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Qh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$h=new Bh(Hc.comparator);function Wh(){return $h}function Kh(){return Wh()}var Yh=new Bh(Hc.comparator);function Jh(){return Yh}var Xh=new Bh(Hc.comparator);function Zh(){return Xh}var tf=new Gh(Hc.comparator);function ef(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=tf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var nf=new Gh(xc);function rf(){return nf}var of=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Zl.min(),r,rf(),Wh(),ef())},t}(),sf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(zc.EMPTY_BYTE_STRING,n,ef(),ef(),ef())},t}(),af=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},uf=function(t,e){this.targetId=t,this.$=e},cf=function(t,e,n,r){void 0===n&&(n=zc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},lf=function(){function t(){this.F=0,this.O=df(),this.k=zc.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=ef(),e=ef(),n=ef();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Oc()}}),new sf(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=df()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),hf=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Wh(),this.et=ff(),this.nt=new Gh(xc)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof dl?this.it(r,t.N):t.N instanceof pl&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Oc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(wl(i))if(0===n){var o=new Hc(i.path);this.rt(e,o,new pl(o,Zl.min()))}else Cc(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&wl(o.target)){var s=new Hc(o.target.path);null!==e.tt.get(s)||e.wt(i,s)||e.rt(i,s,new pl(s,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=ef();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new of(t,n,this.nt,this.tt,r);return this.tt=Wh(),this.et=ff(),this.nt=new Gh(xc),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new lf,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Gh(xc),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||vc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new lf),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function ff(){return new Bh(Hc.comparator)}function df(){return new Bh(Hc.comparator)}var pf={asc:"ASCENDING",desc:"DESCENDING"},gf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mf=function(t,e){this.databaseId=t,this.V=e};function yf(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function bf(t,e){return t.V?e.toBase64():e.toUint8Array()}function vf(t,e){return yf(t,e.toTimestamp())}function wf(t){return Cc(!!t),Zl.fromTimestamp(function(t){var e=Qc(t);return new Kc(e.seconds,e.nanos)}(t))}function _f(t,e){return function(t){return new Uc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ef(t){var e=Uc.fromString(t);return Cc(Qf(e)),e}function Of(t,e){return _f(t.databaseId,e.path)}function Cf(t,e){var n=Ef(e);if(n.get(1)!==t.databaseId.projectId)throw new Fc(Lc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fc(Lc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Hc(xf(n))}function Sf(t,e){return _f(t.databaseId,e)}function Tf(t){var e=Ef(t);return 4===e.length?Uc.emptyPath():xf(e)}function If(t){return new Uc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xf(t){return Cc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Af(t,e,n){return{name:Of(t,e),fields:n.proto.mapValue.fields}}function kf(t,e,n){var r=Cf(t,e.name),i=wf(e.updateTime),o=new eh({mapValue:{fields:e.fields}});return new dl(r,i,o,{hasCommittedMutations:!!n})}function Rf(t,e){var n;if(e instanceof Ah)n={update:Af(t,e.key,e.value)};else if(e instanceof Lh)n={delete:Of(t,e.key)};else if(e instanceof kh)n={update:Af(t,e.key,e.data),updateMask:Gf(e.fieldMask)};else{if(!(e instanceof Fh))return Oc();n={verify:Of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof hh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ph)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mh)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Oc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:vf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Oc()}(t,e.precondition)),n}function jf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_h.updateTime(wf(t.updateTime)):void 0!==t.exists?_h.exists(t.exists):_h.none()}(e.currentDocument):_h.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Cc("REQUEST_TIME"===e.setToServerValue),n=new hh):"appendMissingElements"in e?n=new fh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ph(e.removeAllFromArray.values||[]):"increment"in e?n=new mh(t,e.increment):Oc();var r=Bc.fromServerFormat(e.fieldPath);return new vh(r,n)}(t,e)}):[];if(e.update){var i=Cf(t,e.update.name),o=new eh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new th((t.fieldPaths||[]).map(function(t){return Bc.fromServerFormat(t)}))}(e.updateMask);return new kh(i,o,s,n,r)}return new Ah(i,o,n,r)}if(e.delete){var a=Cf(t,e.delete);return new Lh(a,n)}if(e.verify){var u=Cf(t,e.verify);return new Fh(u,n)}return Oc()}function Nf(t,e){return{documents:[Sf(t,e.path)]}}function Df(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Sf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ll(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NAN"}};if(cl(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ll(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NOT_NAN"}};if(cl(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qf(t.field),op:Uf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:qf(t.field),direction:Vf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||Dc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Lf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Lf(e.endAt)),n}function Pf(t){var e=Tf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Mf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new jl(Bf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Dc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ff(n.startAt));var l=null;return n.endAt&&(l=Ff(n.endAt)),Ll(e,i,a,s,u,"F",c,l)}function Mf(t){return t?void 0!==t.unaryFilter?[zf(t)]:void 0!==t.fieldFilter?[Hf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Mf(t)}).reduce(function(t,e){return t.concat(e)}):Oc():[]}function Lf(t){return{before:t.before,values:t.position}}function Ff(t){return new kl(t.values||[],!!t.before)}function Vf(t){return pf[t]}function Uf(t){return gf[t]}function qf(t){return{fieldPath:t.canonicalString()}}function Bf(t){return Bc.fromServerFormat(t.fieldPath)}function Hf(t){return _l.create(Bf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Oc()}}(t.fieldFilter.op),t.fieldFilter.value)}function zf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Bf(t.unaryFilter.field);return _l.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Bf(t.unaryFilter.field);return _l.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bf(t.unaryFilter.field);return _l.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bf(t.unaryFilter.field);return _l.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Oc()}}function Gf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Qf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function $f(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Kf(e)),e=Wf(t.get(n),e);return Kf(e)}function Wf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Kf(t){return t+"\x01\x01"}function Yf(t){var e=t.length;if(Cc(e>=2),2===e)return Cc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Uc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Oc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Oc()}o=s+2}return new Uc(r)}var Jf=function(t,e){this.seconds=t,this.nanoseconds=e},Xf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xf.store="owner",Xf.key="owner";var Zf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zf.store="mutationQueues",Zf.keyPath="userId";var td=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};td.store="mutations",td.keyPath="batchId",td.userMutationsIndex="userMutationsIndex",td.userMutationsKeyPath=["userId","batchId"];var ed=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$f(e)]},t.key=function(t,e,n){return[t,$f(e),n]},t}();ed.store="documentMutations",ed.PLACEHOLDER=new ed;var nd=function(t,e){this.path=t,this.readTime=e},rd=function(t,e){this.path=t,this.version=e},id=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};id.store="remoteDocuments",id.readTimeIndex="readTimeIndex",id.readTimeIndexPath="readTime",id.collectionReadTimeIndex="collectionReadTimeIndex",id.collectionReadTimeIndexPath=["parentPath","readTime"];var od=function(t){this.byteSize=t};od.store="remoteDocumentGlobal",od.key="remoteDocumentGlobalKey";var sd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};sd.store="targets",sd.keyPath="targetId",sd.queryTargetsIndexName="queryTargetsIndex",sd.queryTargetsKeyPath=["canonicalId","targetId"];var ad=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ad.store="targetDocuments",ad.keyPath=["targetId","path"],ad.documentTargetsIndex="documentTargetsIndex",ad.documentTargetsKeyPath=["path","targetId"];var ud=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ud.key="targetGlobalKey",ud.store="targetGlobal";var cd=function(t,e){this.collectionId=t,this.parent=e};cd.store="collectionParents",cd.keyPath=["collectionId","parent"];var ld=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ld.store="clientMetadata",ld.keyPath="clientId";var hd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};hd.store="bundles",hd.keyPath="bundleId";var fd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};fd.store="namedQueries",fd.keyPath="name";var dd=Object(gc.f)(Object(gc.f)([],Object(gc.f)(Object(gc.f)([],Object(gc.f)(Object(gc.f)([],Object(gc.f)(Object(gc.f)([],[Zf.store,td.store,ed.store,id.store,sd.store,Xf.store,ud.store,ad.store]),[ld.store])),[od.store])),[cd.store])),[hd.store,fd.store]),pd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),md=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},yd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Oc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),bd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new md,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new _d(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=Td(e.target.error);n.gt.reject(new _d(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _d(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(vc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Od(e)},t}(),vd=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(fo.h)())&&wc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return vc("SimpleDb","Removing database:",t),Cd(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(fo.h)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n=this;return Object(gc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(vc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new _d(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Fc(Lc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _d(t,n))},i.onupgradeneeded=function(t){vc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){vc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(gc.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(gc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(gc.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=bd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),yd.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return vc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wd=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Cd(this.xt.delete())},t}(),_d=function(t){function e(e,n){var r=this;return(r=t.call(this,Lc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(gc.c)(e,t),e}(Fc);function Ed(t){return"IndexedDbTransactionError"===t.name}var Od=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(vc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(vc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Cd(n)},t.prototype.add=function(t){return vc("SimpleDb","ADD",this.store.name,t,t),Cd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Cd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),vc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return vc("SimpleDb","DELETE",this.store.name,t),Cd(this.store.delete(t))},t.prototype.count=function(){return vc("SimpleDb","COUNT",this.store.name),Cd(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){vc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new yd(function(n,r){e.onerror=function(t){var e=Td(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new yd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new wd(i),s=e(i.primaryKey,i.value,o);if(s instanceof yd){var a=s.catch(function(t){return o.done(),yd.reject(t)});n.push(a)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return yd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Cd(t){return new yd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Td(t.target.error);n(e)}})}var Sd=!1;function Td(t){var e=vd.It(Object(fo.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Fc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sd||(Sd=!0,setTimeout(function(){throw r},0)),r}}return t}var Id=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(gc.c)(e,t),e}(gd);function xd(t,e){var n=Sc(t);return vd.Pt(n.Qt,e)}var Ad=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ch(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Sh(s,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Sh(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ef())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ac(this.mutations,t.mutations,function(t,e){return Ih(t,e)})&&Ac(this.baseMutations,t.baseMutations,function(t,e){return Ih(t,e)})},t}(),kd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Cc(e.mutations.length===r.length);for(var i=Zh(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Rd=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Zl.min()),void 0===o&&(o=Zl.min()),void 0===s&&(s=zc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),jd=function(t){this.Kt=t};function Nd(t,e){if(e.document)return kf(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Hc.fromSegments(e.noDocument.path),r=Fd(e.noDocument.readTime);return new pl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Hc.fromSegments(e.unknownDocument.path);return r=Fd(e.unknownDocument.version),new gl(i,r)}return Oc()}function Dd(t,e,n){var r=Pd(n),i=e.key.path.popLast().toArray();if(e instanceof dl){var o=function(t,e){return{name:Of(t,e.key),fields:e.toProto().mapValue.fields,updateTime:yf(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new id(null,null,o,s,r,i)}if(e instanceof pl){var a=e.key.path.toArray(),u=Ld(e.version);return s=e.hasCommittedMutations,new id(null,new nd(a,u),null,s,r,i)}if(e instanceof gl){var c=e.key.path.toArray(),l=Ld(e.version);return new id(new rd(c,l),null,null,!0,r,i)}return Oc()}function Pd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Md(t){var e=new Kc(t[0],t[1]);return Zl.fromTimestamp(e)}function Ld(t){var e=t.toTimestamp();return new Jf(e.seconds,e.nanoseconds)}function Fd(t){var e=new Kc(t.seconds,t.nanoseconds);return Zl.fromTimestamp(e)}function Vd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return jf(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return jf(t.Kt,e)}),o=Kc.fromMillis(e.localWriteTimeMs);return new Ad(e.batchId,o,n,i)}function Ud(t){var e,n,r=Fd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Fd(t.lastLimboFreeSnapshotVersion):Zl.min();return void 0!==t.query.documents?(Cc(1===(n=t.query).documents.length),e=Gl(Fl(Tf(n.documents[0])))):e=function(t){return Gl(Pf(t))}(t.query),new Rd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,zc.fromBase64String(t.resumeToken))}function qd(t,e){var n,r=Ld(e.snapshotVersion),i=Ld(e.lastLimboFreeSnapshotVersion);n=wl(e.target)?Nf(t.Kt,e.target):Df(t.Kt,e.target);var o=e.resumeToken.toBase64();return new sd(e.targetId,bl(e.target),r,o,e.sequenceNumber,i,n)}function Bd(t){var e=Pf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ql(e,e.limit,"L"):e}var Hd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return zd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Fd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return zd(t).put({bundleId:(n=e).id,createTime:Ld(wf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Gd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Bd(e.bundledQuery),readTime:Fd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Gd(t).put(function(t){return{name:t.name,readTime:Ld(wf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function zd(t){return xd(t,hd.store)}function Gd(t){return xd(t,fd.store)}var Qd=function(){function t(){this.Wt=new $d}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),yd.resolve()},t.prototype.getCollectionParents=function(t,e){return yd.resolve(this.Wt.getEntries(e))},t}(),$d=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Gh(Uc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Gh(Uc.comparator)).toArray()},t}(),Wd=function(){function t(){this.jt=new $d}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:$f(i)};return Kd(t).put(o)}return yd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[kc(e),""],!1,!0);return Kd(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Yf(o.parent))}return n})},t}();function Kd(t){return xd(t,cd.store)}var Yd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Xd(t,e,n){var r=t.store(td.store),i=t.store(ed.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Cc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ed.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return yd.waitFor(o).next(function(){return c})}function Zd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oc();e=t.noDocument}return JSON.stringify(e).length}Jd.DEFAULT_COLLECTION_PERCENTILE=10,Jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jd.DEFAULT=new Jd(41943040,Jd.DEFAULT_COLLECTION_PERCENTILE,Jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jd.DISABLED=new Jd(-1,0,0);var tp=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return Cc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return np(t).qt({index:td.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=rp(t),s=np(t);return s.add({}).next(function(a){Cc("number"==typeof a);for(var u=new Ad(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Rf(t.Kt,e)}),i=n.mutations.map(function(e){return Rf(t.Kt,e)});return new td(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new Gh(function(t,e){return xc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ed.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ed.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[a]=u.keys()}),yd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return np(t).get(e).next(function(t){return t?(Cc(t.userId===n.userId),Vd(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?yd.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return np(t).qt({index:td.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Cc(e.batchId>=r),o=Vd(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return np(t).qt({index:td.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return np(t).kt(td.userMutationsIndex,n).next(function(t){return t.map(function(t){return Vd(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ed.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return rp(t).qt({range:i},function(r,i,s){var a=r[0],u=r[2],c=Yf(r[1]);if(a===n.userId&&e.path.isEqual(c))return np(t).get(u).next(function(t){if(!t)throw Oc();Cc(t.userId===n.userId),o.push(Vd(n.D,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gh(xc),i=[];return e.forEach(function(e){var o=ed.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=rp(t).qt({range:s},function(t,i,o){var s=t[0],a=t[2],u=Yf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),yd.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ed.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Gh(xc);return rp(t).qt({range:s},function(t,e,o){var s=t[0],u=t[2],c=Yf(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Yt(t,a)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(np(t).get(e).next(function(t){if(null===t)throw Oc();Cc(t.userId===n.userId),r.push(Vd(n.D,t))}))}),yd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Xd(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),yd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return yd.resolve();var r=IDBKeyRange.lowerBound(ed.prefixForUser(e.userId)),i=[];return rp(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=Yf(t[1]);i.push(o)}else r.done()}).next(function(){Cc(0===i.length)})})},t.prototype.containsKey=function(t,e){return ep(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return ip(t).get(this.userId).next(function(t){return t||new Zf(e.userId,-1,"")})},t}();function ep(t,e,n){var r=ed.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return rp(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function np(t){return xd(t,td.store)}function rp(t){return xd(t,ed.store)}function ip(t){return xd(t,Zf.store)}var op=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),sp=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new op(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Zl.fromTimestamp(new Kc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ap(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return Cc(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ap(t).qt(function(s,a){var u=Ud(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return yd.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ap(t).qt(function(t,n){var r=Ud(n);e(r)})},t.prototype.se=function(t){return up(t).get(ud.key).next(function(t){return Cc(null!==t),t})},t.prototype.ie=function(t,e){return up(t).put(ud.key,e)},t.prototype.re=function(t,e){return ap(t).put(qd(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=bl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ap(t).qt({range:r,index:sd.queryTargetsIndexName},function(t,n,r){var o=Ud(n);vl(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=cp(t);return e.forEach(function(e){var s=$f(e.path);i.push(o.put(new ad(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),yd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=cp(t);return yd.forEach(e,function(e){var o=$f(e.path);return yd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=cp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=cp(t),i=ef();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Yf(t[1]),o=new Hc(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=$f(e.path),r=IDBKeyRange.bound([n],[kc(n)],!1,!0),i=0;return cp(t).qt({index:ad.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return ap(t).get(e).next(function(t){return t?Ud(t):null})},t}();function ap(t){return xd(t,sd.store)}function up(t){return xd(t,ud.store)}function cp(t){return xd(t,ad.store)}function lp(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){if(t.code!==Lc.FAILED_PRECONDITION||t.message!==pd)throw t;return vc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function hp(t,e){var n=t[1],r=e[1],i=xc(t[0],e[0]);return 0===i?xc(n,r):i}var fp=function(){function t(t){this.ce=t,this.buffer=new Gh(hp),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();hp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),dp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;vc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(gc.b)(e,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ed(e=n.sent())?(vc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,lp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),pp=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return yd.resolve(mc.o);var r=new fp(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vc("LruGarbageCollector","Garbage collection skipped; disabled"),yd.resolve(Yd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(vc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yd):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(vc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),bc()<=ho.a.DEBUG&&vc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),yd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),gp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new pp(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return mp(t,n)},t.prototype.removeReference=function(t,e,n){return mp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return mp(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return ip(t).Ut(function(r){return ep(t,r,e).next(function(t){return t&&(n=!0),yd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(s,a){if(a<=e){var u=n.Ee(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),cp(t).delete([0,$f(s.path)])})});i.push(u)}}).next(function(){return yd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mp(t,e)},t.prototype.pe=function(t,e){var n,r=cp(t),i=mc.o;return r.qt({index:ad.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==mc.o&&e(new Hc(Yf(n)),i),i=s,n=o):i=mc.o}).next(function(){i!==mc.o&&e(new Hc(Yf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mp(t,e){return cp(t).put(function(t,e){return new ad(0,$f(t.path),e)}(e,t.currentSequenceNumber))}var yp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Nc(this.inner)},t}(),bp=function(){function t(){this.changes=new yp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Zl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?yd.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),vp=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Ep(t).put(Op(e),n)},t.prototype.removeEntry=function(t,e){var n=Ep(t),r=Op(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ep(t).get(Op(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return Ep(t).get(Op(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Zd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Kh();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Kh(),i=new Bh(Hc.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Zd(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return yd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ep(t).qt({range:r},function(t,e,r){for(var s=Hc.fromSegments(t);o&&Hc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Jh(),o=e.path.length+1,s={};if(n.isEqual(Zl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Pd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=id.collectionReadTimeIndex}return Ep(t).qt(s,function(t,n,s){if(t.length===o){var a=Nd(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof dl&&Yl(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new wp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return _p(t).get(od.key).next(function(t){return Cc(!!t),t})},t.prototype.Te=function(t,e){return _p(t).put(od.key,e)},t.prototype.Ie=function(t){if(t){var e=Nd(this.D,t);return e instanceof pl&&e.version.isEqual(Zl.min())?null:e}return null},t}(),wp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new yp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(gc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Gh(function(t,e){return xc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Se.get(o);if(s.maybeDocument){var u=Dd(e.Ve.D,s.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Zd(u);r+=c-a,n.push(e.Ve.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Dd(e.Ve.D,new pl(o,Zl.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),yd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(bp);function _p(t){return xd(t,od.store)}function Ep(t){return xd(t,id.store)}function Op(t){return t.path.toArray()}var Cp=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;Cc(n<r&&n>=0&&r<=11);var o=new bd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xf.store)}(t),function(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath}),t.createObjectStore(td.store,{keyPath:td.keyPath,autoIncrement:!0}).createIndex(td.userMutationsIndex,td.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ed.store)}(t),Sp(t),function(t){t.createObjectStore(id.store)}(t));var s=yd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ad.store),t.deleteObjectStore(sd.store),t.deleteObjectStore(ud.store)}(t),Sp(t)),s=s.next(function(){return function(t){var e=t.store(ud.store),n=new ud(0,0,Zl.min().toTimestamp(),0);return e.put(ud.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(td.store).kt().next(function(n){t.deleteObjectStore(td.store),t.createObjectStore(td.store,{keyPath:td.keyPath,autoIncrement:!0}).createIndex(td.userMutationsIndex,td.userMutationsKeyPath,{unique:!0});var r=e.store(td.store),i=n.map(function(t){return r.put(t)});return yd.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ld.store,{keyPath:ld.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.De(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(od.store)}(t),i.Ce(o)})),n<7&&r>=7&&(s=s.next(function(){return i.xe(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(id.store);e.createIndex(id.readTimeIndex,id.readTimeIndexPath,{unique:!1}),e.createIndex(id.collectionReadTimeIndex,id.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.$e(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(hd.store,{keyPath:hd.keyPath})}(t),function(t){t.createObjectStore(fd.store,{keyPath:fd.keyPath})}(t)})),s},t.prototype.Ce=function(t){var e=0;return t.store(id.store).qt(function(t,n){e+=Zd(n)}).next(function(){var n=new od(e);return t.store(od.store).put(od.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Zf.store),r=t.store(td.store);return n.kt().next(function(n){return yd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(td.userMutationsIndex,i).next(function(r){return yd.forEach(r,function(r){Cc(r.userId===n.userId);var i=Vd(e.D,r);return Xd(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(ad.store),n=t.store(id.store);return t.store(ud.store).get(ud.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new Uc(n),s=function(t){return[0,$f(t)]}(o);r.push(e.get(s).next(function(n){return n?yd.resolve():function(n){return e.put(new ad(0,$f(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return yd.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(cd.store,{keyPath:cd.keyPath});var n=e.store(cd.store),r=new $d,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:$f(i)})}};return e.store(id.store).qt({Bt:!0},function(t,e){var n=new Uc(t);return i(n.popLast())}).next(function(){return e.store(ed.store).qt({Bt:!0},function(t,e){var n=Yf(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(sd.store);return n.qt(function(t,r){var i=Ud(r),o=qd(e.D,i);return n.put(o)})},t}();function Sp(t){t.createObjectStore(ad.store,{keyPath:ad.keyPath}).createIndex(ad.documentTargetsIndex,ad.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(sd.store,{keyPath:sd.keyPath}).createIndex(sd.queryTargetsIndexName,sd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ud.store)}var Tp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ip=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=s,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Fc(Lc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gp(this,i),this.We=n+"main",this.D=new jd(u),this.je=new vd(this.We,11,new Cp(this.D)),this.Ge=new sp(this.referenceDelegate,this.D),this.Gt=new Wd,this.ze=function(t,e){return new vp(t,e)}(this.D,this.Gt),this.He=new Hd,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&wc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Fc(Lc.FAILED_PRECONDITION,Tp);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new mc(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(gc.b)(e,void 0,void 0,function(){return Object(gc.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(gc.b)(e,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(gc.b)(e,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ap(e).put(new ld(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(Ed(e))return vc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return vc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return xp(t).get(Xf.key).next(function(t){return yd.resolve(e.cn(t))})},t.prototype.an=function(t){return Ap(t).delete(this.clientId)},t.prototype.un=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(gc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=xd(t,ld.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return yd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?yd.resolve(!0):xp(t).get(Xf.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Fc(Lc.FAILED_PRECONDITION,Tp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ap(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&vc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(gc.b)(this,void 0,void 0,function(){var t=this;return Object(gc.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Xf.store,ld.store],function(e){var n=new Id(e,mc.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ap(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return tp.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return vc("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",dd,function(o){return r=new Id(o,i.Me?i.Me.next():mc.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw wc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new Fc(Lc.FAILED_PRECONDITION,pd);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return xp(t).get(Xf.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Fc(Lc.FAILED_PRECONDITION,Tp)})},t.prototype.on=function(t){var e=new Xf(this.clientId,this.allowTabSynchronization,Date.now());return xp(t).put(Xf.key,e)},t.At=function(){return vd.At()},t.prototype.rn=function(t){var e=this,n=xp(t);return n.get(Xf.key).next(function(t){return e.cn(t)?(vc("IndexedDbPersistence","Releasing primary lease."),n.delete(Xf.key)):yd.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(wc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return vc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return wc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){wc("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xp(t){return xd(t,Xf.store)}function Ap(t){return xd(t,ld.store)}function kp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Rp=function(t,e){this.progress=t,this.En=e},jp=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Kh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=Wh();return i.forEach(function(t,e){e||(e=new pl(t,Zl.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Hc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Hl(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Hc(e)).next(function(t){var e=Jh();return t instanceof dl&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Jh();return this.Gt.getCollectionParents(t,i).next(function(s){return yd.forEach(s,function(s){var a=function(t,e){return new Ml(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sn(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Sh(u,r.get(c),o.localWriteTime);r=l instanceof dl?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Yl(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=ef(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof kh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof dl&&(c=c.insert(t,e))}),c})},t}(),Np=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=ef(),i=ef(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Dp=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Zl.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var s=i.kn(e,o);return(Vl(e)||Ul(e))&&i.Mn(e.limitType,s,r,n)?i.On(t,e):(bc()<=ho.a.DEBUG&&vc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kl(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new Gh(Jl(t));return e.forEach(function(e,r){r instanceof dl&&Yl(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return bc()<=ho.a.DEBUG&&vc("QueryEngine","Using full collection scan to execute query:",Kl(e)),this.Fn.getDocumentsMatchingQuery(t,e,Zl.min())},t}(),Pp=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Bh(xc),this.qn=new yp(function(t){return bl(t)},vl),this.Un=Zl.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new jp(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function Mp(t,e,n,r){return new Pp(t,e,n,r)}function Lp(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(gc.d)(this,function(s){switch(s.label){case 0:return n=Sc(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new jp(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=ef(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.bn(t,s).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function Fp(t,e){var n=Sc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=yd.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,s=n.docVersions.get(t);Cc(null!==s),(!o||o.version.compareTo(s)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),s.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function Vp(t){var e=Sc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function Up(t,e){var n=Sc(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Cc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}});var a=Wh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(qp(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Zl.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return yd.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,a)})}).then(function(t){return n.Bn=i,t})}function qp(t,e,n,r,i){var o=ef();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Wh();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof pl&&s.version.isEqual(Zl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):null==a||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):vc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Bp(t,e){var n=Sc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function Hp(t,e){var n=Sc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?yd.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new Rd(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function zp(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:r=Sc(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ed(s=a.sent()))throw s;return vc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Gp(t,e,n){var r=Sc(t),i=Zl.min(),o=ef();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Sc(t),i=r.qn.get(n);return void 0!==i?yd.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Gl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Zl.min(),n?o:ef())}).next(function(t){return{documents:t,jn:o}})})}function Qp(t,e){var n=Sc(t),r=Sc(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function $p(t){var e=Sc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Sc(t),i=Wh(),o=Pd(n),s=Ep(e),a=IDBKeyRange.lowerBound(o,!0);return s.qt({index:id.readTimeIndex,range:a},function(t,e){var n=Nd(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:Md(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Wp(t){return Object(gc.b)(this,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){return[2,(e=Sc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ep(t),n=Zl.min();return e.qt({index:id.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Md(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function Kp(t,e,n,r){return Object(gc.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(gc.d)(this,function(p){switch(p.label){case 0:for(i=Sc(t),o=ef(),s=Wh(),a=Zh(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Hp(i,function(t){return Gl(Fl(Uc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return qp(t,f,s,Zl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Yp(t,e,n){return void 0===n&&(n=ef()),Object(gc.b)(this,void 0,void 0,function(){var r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return[4,Hp(t,Gl(Bd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Sc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=wf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var s=r.withResumeToken(zc.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(s.targetId,s),i.Ge.updateTargetData(t,s).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Jp=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return yd.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:wf(n.createTime)}),yd.resolve()},t.prototype.getNamedQuery=function(t,e){return yd.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Bd(t.bundledQuery),readTime:wf(t.readTime)}}(e)),yd.resolve()},t}(),Xp=function(){function t(){this.Xn=new Gh(Zp.Zn),this.ts=new Gh(Zp.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Zp(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Zp(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new Hc(new Uc([])),r=new Zp(n,t),i=new Zp(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Hc(new Uc([])),n=new Zp(e,t),r=new Zp(e,t+1),i=ef();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Zp(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Zp=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Hc.comparator(t.key,e.key)||xc(t.hs,e.hs)},t.es=function(t,e){return xc(t.hs,e.hs)||Hc.comparator(t.key,e.key)},t}(),tg=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Gh(Zp.Zn)}return t.prototype.checkEmpty=function(t){return yd.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new Ad(i,e,n,r);this.Tn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.fs=this.fs.add(new Zp(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return yd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return yd.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return yd.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return yd.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return yd.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Zp(e,0),i=new Zp(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),yd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gh(xc);return e.forEach(function(t){var e=new Zp(t,0),i=new Zp(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),yd.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Hc.isDocumentKey(i)||(i=i.child(""));var o=new Zp(new Hc(i),0),s=new Gh(xc);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.hs)),!0)},o),yd.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Cc(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return yd.forEach(e.mutations,function(i){var o=new Zp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Zp(e,0),r=this.fs.firstAfterOrEqual(n);return yd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return yd.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),eg=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Bh(Hc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return yd.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Kh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),yd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Jh(),i=new Hc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||u instanceof dl&&Yl(e,u)&&(r=r.insert(u.key,u))}return yd.resolve(r)},t.prototype.ps=function(t,e){return yd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new ng(this)},t.prototype.getSize=function(t){return yd.resolve(this.size)},t}(),ng=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(gc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),yd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(bp),rg=function(){function t(t){this.persistence=t,this.Es=new yp(function(t){return bl(t)},vl),this.lastRemoteSnapshotVersion=Zl.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Xp,this.targetCount=0,this.As=op.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),yd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return yd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return yd.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),yd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),yd.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new op(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,yd.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),yd.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,yd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),yd.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return yd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return yd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),yd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),yd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),yd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return yd.resolve(n)},t.prototype.containsKey=function(t,e){return yd.resolve(this.Is.containsKey(e))},t}(),ig=function(){function t(t,e){var n=this;this.Rs={},this.Me=new mc(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new rg(this),this.Gt=new Qd,this.ze=function(t,e){return new eg(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new jd(e),this.He=new Jp(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new tg(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;vc("MemoryPersistence","Starting transaction:",t);var i=new og(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return yd.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),og=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(gc.c)(e,t),e}(gd),sg=function(){function t(t){this.persistence=t,this.Ss=new Xp,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Oc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),yd.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),yd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),yd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yd.forEach(this.xs,function(r){var i=Hc.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return yd.or([function(){return yd.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),ag=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ug(t,e){return"firestore_clients_"+t+"_"+e}function cg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function lg(t,e){return"firestore_targets_"+t+"_"+e}ag.UNAUTHENTICATED=new ag(null),ag.GOOGLE_CREDENTIALS=new ag("google-credentials-uid"),ag.FIRST_PARTY=new ag("first-party-uid");var hg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Fc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(wc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fc(i.error.code,i.error.message)),o?new t(e,i.state,r):(wc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=rf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Mc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(wc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),pg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(wc("SharedClientState","Failed to parse online state: "+e),null)},t}(),gg=function(){function t(){this.activeTargetIds=rf()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),mg=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Bh(xc),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=ug(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new gg),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(gc.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(ug(this.persistenceKey,r)))&&(o=dg.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(a=this.Ys(s))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(lg(this.persistenceKey,t));if(n){var r=fg.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(lg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return vc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){vc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){vc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(vc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void wc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(gc.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(gc.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(s=function(t){var e=mc.o;if(null!=t)try{var n=JSON.parse(t);Cc("number"==typeof n),e=n}catch(t){wc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==mc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new hg(this.currentUser,t,e,n),i=cg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=cg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=lg(this.persistenceKey,t),i=new fg(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return dg.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return hg.$s(new ag(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return fg.$s(r,e)},t.prototype.Ys=function(t){return pg.$s(t)},t.prototype.hi=function(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(vc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.mi(s,a).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=rf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),yg=function(){function t(){this.yi=new gg,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new gg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),bg=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),vg=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){vc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){vc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_g=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Eg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(gc.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var s=new pc;s.listenOnce(hc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case lc.NO_ERROR:var e=s.getResponseJson();vc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case lc.TIMEOUT:vc("Connection",'RPC "'+t+'" timed out'),o(new Fc(Lc.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:var n=s.getStatus();if(vc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Lc).indexOf(e)>=0?e:Lc.UNKNOWN}(r.status);o(new Fc(a,r.message))}else o(new Fc(Lc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Fc(Lc.UNAVAILABLE,"Connection failed."));break;default:Oc()}}finally{vc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new oc,i=ua(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(fo.m)()||Object(fo.o)()||Object(fo.k)()||Object(fo.l)()||Object(fo.p)()||Object(fo.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");vc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new _g({vi:function(t){c?vc("Connection","Not sending because WebChannel is closed:",t):(u||(vc("Connection","Opening WebChannel transport."),a.open(),u=!0),vc("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,dc.EventType.OPEN,function(){c||vc("Connection","WebChannel transport opened.")}),h(a,dc.EventType.CLOSE,function(){c||(c=!0,vc("Connection","WebChannel transport closed"),l.$i())}),h(a,dc.EventType.ERROR,function(t){c||(c=!0,_c("Connection","WebChannel transport errored:",t),l.$i(new Fc(Lc.UNAVAILABLE,"The operation could not be completed")))}),h(a,dc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Cc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){vc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ph[t];if(void 0!==e)return qh(e)}(i),s=r.message;void 0===o&&(o=Lc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new Fc(o,s)),a.close()}else vc("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,fc.STAT_EVENT,function(t){10===t.stat?vc("Connection","Detected buffering proxy"):11===t.stat&&vc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);vc("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return vc("RestConnection","Received: ",t),t},function(e){throw _c("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+wg[t]},t}());function Og(){return"undefined"!=typeof window?window:null}function Cg(){return"undefined"!=typeof document?document:null}function Sg(t){return new mf(t,!0)}var Tg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&vc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Ig=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Tg(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===Lc.RESOURCE_EXHAUSTED?(wc(e.toString()),wc("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===Lc.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new Fc(Lc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(gc.b)(t,void 0,void 0,function(){return Object(gc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return vc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(vc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),xg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,s}return Object(gc.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Oc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(Cc(void 0===e||"string"==typeof e),zc.fromBase64String(e||"")):(Cc(void 0===e||e instanceof Uint8Array),zc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Lc.UNKNOWN:qh(t.code);return new Fc(e,t.message||"")}(a);n=new cf(r,i,o,s||null)}else if("documentChange"in e){i=Cf(t,(r=e.documentChange).document.name),o=wf(r.document.updateTime);var a=new eh({mapValue:{fields:r.document.fields}}),u=(s=new dl(i,o,a,{}),r.targetIds||[]);n=new af(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Cf(t,(r=e.documentDelete).document),o=r.readTime?wf(r.readTime):Zl.min(),a=new pl(i,o),n=new af([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Cf(t,(r=e.documentRemove).document),n=new af([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Oc();var c=e.filter;i=new Vh(r=c.count||0),n=new uf(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Zl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zl.min():e.readTime?wf(e.readTime):Zl.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=If(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=wl(r)?{documents:Nf(t,r)}:{query:Df(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=bf(t,e.resumeToken):e.snapshotVersion.compareTo(Zl.min())>0&&(n.readTime=yf(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=If(this.D),e.removeTarget=t,this.wr(e)},e}(Ig),Ag=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,s.Rr=!1,s}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(Cc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(Cc(void 0!==e),t.map(function(t){return function(t,e){var n=wf(t.updateTime?t.updateTime:e);return n.isEqual(Zl.min())&&(n=wf(e)),new wh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=wf(t.commitTime);return this.listener.Pr(n,e)}return Cc(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=If(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Rf(e.D,t)})};this.wr(n)},e}(Ig),kg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(gc.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Fc(Lc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===Lc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===Lc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),Rg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(wc(e),this.Fr=!1):vc("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),jg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(gc.b)(o,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return qg(this)?(vc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(gc.b)(this,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return(e=Sc(t)).Qr.add(4),[4,Dg(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Ng(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new Rg(n,r)};function Ng(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:if(!qg(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Dg(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pg(t,e){var n=Sc(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Ug(n)?Vg(n):nm(n).ar()&&Lg(n,e))}function Mg(t,e){var n=Sc(t),r=nm(n);n.Ur.delete(e),r.ar()&&Fg(n,e),0===n.Ur.size&&(r.ar()?r.lr():qg(n)&&n.jr.set("Unknown"))}function Lg(t,e){t.Gr.H(e.targetId),nm(t).Ir(e)}function Fg(t,e){t.Gr.H(e),nm(t).Ar(e)}function Vg(t){t.Gr=new hf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),nm(t).start(),t.jr.Or()}function Ug(t){return qg(t)&&!nm(t).cr()&&t.Ur.size>0}function qg(t){return 0===Sc(t).Qr.size}function Bg(t){t.Gr=void 0}function Hg(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){return t.Ur.forEach(function(e,n){Lg(t,e)}),[2]})})}function zg(t,e){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(n){return Bg(t),Ug(t)?(t.jr.Lr(e),Vg(t)):t.jr.set("Unknown"),[2]})})}function Gg(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o;return Object(gc.d)(this,function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof cf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(gc.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),vc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Qg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof af?t.Gr.st(e):e instanceof uf?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Zl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(zc.EMPTY_BYTE_STRING,n.snapshotVersion)),Fg(t,e);var r=new Rd(n.target,e,1,n.sequenceNumber);Lg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return vc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Qg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Qg(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r=this;return Object(gc.d)(this,function(i){switch(i.label){case 0:if(!Ed(e))throw e;return t.Qr.add(1),[4,Dg(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return Vp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(gc.b)(r,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return vc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Ng(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function $g(t,e){return e().catch(function(n){return Qg(t,n,e)})}function Wg(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(gc.d)(this,function(s){switch(s.label){case 0:e=Sc(t),n=rm(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return qg(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Bp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=rm(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Qg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Kg(e)&&Yg(e),[2]}})})}function Kg(t){return qg(t)&&!rm(t).cr()&&t.qr.length>0}function Yg(t){rm(t).start()}function Jg(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){return rm(t).Sr(),[2]})})}function Xg(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n,r;return Object(gc.d)(this,function(i){for(e=rm(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Zg(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=kd.from(r,e,n),[4,$g(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Wg(t)];case 2:return o.sent(),[2]}})})}function tm(t,e){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(n){switch(n.label){case 0:return e&&rm(t).br?[4,function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:return Uh(r=e.code)&&r!==Lc.ABORTED?(n=t.qr.shift(),rm(t).hr(),[4,$g(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Wg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kg(t)&&Yg(t),[2]}})})}function em(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return n=Sc(t),e?(n.Qr.delete(2),[4,Ng(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,Dg(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function nm(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Sc(t);return r.Cr(),new xg(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Hg.bind(null,t),Di:zg.bind(null,t),Tr:Gg.bind(null,t)}),t.Kr.push(function(n){return Object(gc.b)(e,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),Ug(t)?Vg(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Bg(t),e.label=3;case 3:return[2]}})})})),t.zr}function rm(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Sc(t);return r.Cr(),new Ag(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Jg.bind(null,t),Di:tm.bind(null,t),Vr:Xg.bind(null,t),Pr:Zg.bind(null,t)}),t.Kr.push(function(n){return Object(gc.b)(e,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Wg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(vc("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var im=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new md,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fc(Lc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function om(t,e){if(wc("AsyncQueue",e+": "+t),Ed(t))return new Fc(Lc.UNAVAILABLE,e+": "+t);throw t}var sm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Hc.comparator(e.key,n.key)}:function(t,e){return Hc.comparator(t.key,e.key)},this.keyedMap=Jh(),this.sortedSet=new Bh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),am=function(){function t(){this.Jr=new Bh(Hc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Oc():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),um=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,sm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$l(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),cm=function(){this.Xr=void 0,this.listeners=[]},lm=function(){this.queries=new yp(function(t){return Wl(t)},$l),this.onlineState="Unknown",this.Zr=new Set};function hm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(gc.d)(this,function(c){switch(c.label){case 0:if(n=Sc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new cm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=om(a,"Initialization of query '"+Kl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&gm(n),[2]}})})}function fm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(gc.d)(this,function(a){return n=Sc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function dm(t,e){for(var n=Sc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(s)&&(r=!0);a.Xr=s}}r&&gm(n)}function pm(t,e,n){var r=Sc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function gm(t){t.Zr.forEach(function(t){t.next()})}var mm=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new um(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=um.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),ym=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),bm=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Cf(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?kf(this.D,t.document,!1):new pl(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return wf(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new bm(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ef()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return[4,Kp(this.localStore,new bm(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Yp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Rp(Object.assign({},this.progress),t))]}})})}}();var vm=function(t){this.key=t},wm=function(t){this.key=t},_m=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=ef(),this.mutatedKeys=ef(),this.po=Jl(t),this.Eo=new sm(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new am,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Vl(this.query)&&i.size===this.query.limit?i.last():null,c=Ul(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof dl?e:null;h&&(h=Yl(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Vl(this.query)||Ul(this.query))for(;s.size>this.query.limit;){var l=Vl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:s,Ao:r,Mn:a,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oc()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var s=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==o.length||u?{snapshot:new um(this.query,t.Eo,i,o,t.mutatedKeys,0===a,u,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new am,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=ef(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new wm(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new vm(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=ef();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return um.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Em=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Om=function(t){this.key=t,this.Co=!1},Cm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new yp(function(t){return Wl(t)},$l),this.$o=new Map,this.Fo=new Set,this.Oo=new Bh(Hc.comparator),this.ko=new Map,this.Mo=new Xp,this.Lo={},this.Bo=new Map,this.qo=op.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Sm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:return n=ty(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,Hp(n.localStore,Gl(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Tm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Pg(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Tm(t,e,n,r){return Object(gc.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(gc.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(gc.b)(this,void 0,void 0,function(){var i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,Gp(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Vm(t,e.targetId,s.Po),s.snapshot)]}})})}(t,e,n,r)},[4,Gp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new _m(e,i.jn),s=o.Io(i.documents),a=sf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Vm(t,n,u.Po),c=new Em(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function Im(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return n=Sc(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!$l(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,zp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Mg(n.remoteStore,r.targetId),Lm(n,r.targetId)}).catch(lp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Lm(n,r.targetId),[4,zp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function xm(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:r=ey(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Sc(t),i=Kc.now(),o=e.reduce(function(t,e){return t.add(e.key)},ef());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Th(c,n.get(c.key));null!=l&&s.push(new kh(c.key,l,rh(l.proto.mapValue),_h.exists(!0)))}return r.Tn.addMutationBatch(t,i,s,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Bh(xc)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Bm(r,i.changes)];case 3:return a.sent(),[4,Wg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=om(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Am(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:n=Sc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Up(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(Cc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Cc(r.Co):t.removedDocuments.size>0&&(Cc(r.Co),r.Co=!1))}),[4,Bm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,lp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function km(t,e,n){var r=Sc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Sc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&gm(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rm(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(gc.d)(this,function(c){switch(c.label){case 0:return(r=Sc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new Bh(Hc.comparator)).insert(o,new pl(o,Zl.min())),a=ef().add(o),u=new of(Zl.min(),new Map,new Gh(xc),s,a),[4,Am(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),qm(r),[3,4];case 2:return[4,zp(r.localStore,e,!1).then(function(){return Lm(r,e,n)}).catch(lp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function jm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:n=Sc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Fp(n.localStore,e)];case 2:return i=o.sent(),Mm(n,r,null),Pm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Bm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,lp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Nm(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:r=Sc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Sc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return Cc(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Mm(r,e,n),Pm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Bm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,lp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Dm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:qg((n=Sc(t)).remoteStore)||vc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Sc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=a.sent(),s=om(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Pm(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function Mm(t,e,n){var r=Sc(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function Lm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||Fm(t,e)})}function Fm(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(Mg(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),qm(t))}function Vm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof vm?(t.Mo.addReference(o.key,e),Um(t,o)):o instanceof wm?(vc("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Fm(t,o.key)):Oc()}}function Um(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(vc("SyncEngine","New document in limbo: "+n),t.Fo.add(r),qm(t))}function qm(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Hc(Uc.fromString(e)),r=t.qo.next();t.ko.set(r,new Om(n)),t.Oo=t.Oo.insert(n,r),Pg(t.remoteStore,new Rd(Gl(Fl(n.path)),r,2,mc.o))}}function Bm(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:return r=Sc(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){s.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Np.Nn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(gc.d)(this,function(l){switch(l.label){case 0:n=Sc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return yd.forEach(e,function(e){return yd.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return yd.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ed(r=l.sent()))throw r;return vc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Hm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:return(n=Sc(t)).currentUser.isEqual(e)?[3,3]:(vc("SyncEngine","User change. New user:",e.toKey()),[4,Lp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new Fc(Lc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Bm(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function zm(t,e){var n=Sc(t),r=n.ko.get(e);if(r&&r.Co)return ef().add(r.key);var i=ef(),o=n.$o.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.No.get(a[s]);i=i.unionWith(u.view.To)}return i}function Gm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return[4,Gp((n=Sc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&Vm(n,e.targetId,i.Po),i)]}})})}function Qm(t){return Object(gc.b)(this,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){return[2,$p((e=Sc(t)).localStore).then(function(t){return Bm(e,t)})]})})}function $m(t,e,n,r){return Object(gc.b)(this,void 0,void 0,function(){var i,o;return Object(gc.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Sc(t),r=Sc(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):yd.resolve(null)})})}((i=Sc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Wg(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Mm(i,e,r||null),Pm(i,e),function(t,e){Sc(Sc(t).Tn).Xt(e)}(i.localStore,e)):Oc(),s.label=4;case 4:return[4,Bm(i,o)];case 5:return s.sent(),[3,7];case 6:vc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Wm(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(gc.d)(this,function(c){switch(c.label){case 0:return ty(n=Sc(t)),ey(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Km(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,em(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Pg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Lm(n,e),zp(n.localStore,e,!0)}),Mg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Km(n,a)];case 5:return c.sent(),function(t){var e=Sc(t);e.ko.forEach(function(t,n){Mg(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Bh(Hc.comparator)}(n),n.Uo=!1,[4,em(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Km(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(gc.d)(this,function(g){switch(g.label){case 0:n=Sc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.$o.get(a=s[o]))&&0!==c.length?[4,Hp(n.localStore,Gl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.No.get(h[l]),[4,Gm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Qp(n.localStore,a)];case 8:return p=g.sent(),[4,Hp(n.localStore,p)];case 9:return u=g.sent(),[4,Tm(n,Ym(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function Ym(t){return Ll(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jm(t){var e=Sc(t);return Sc(Sc(e.localStore).persistence).gn()}function Xm(t,e,n,r){return Object(gc.b)(this,void 0,void 0,function(){var i,o,s;return Object(gc.d)(this,function(a){switch(a.label){case 0:return(i=Sc(t)).Uo?(vc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$p(i.localStore)];case 3:return o=a.sent(),s=of.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Bm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,zp(i.localStore,e,!0)];case 6:return a.sent(),Lm(i,e,r),[3,8];case 7:Oc(),a.label=8;case 8:return[2]}})})}function Zm(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(gc.d)(this,function(f){switch(f.label){case 0:if(!(r=ty(t)).Uo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.$o.has(s=o[i])?(vc("SyncEngine","Adding an already active target "+s),[3,5]):[4,Qp(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Hp(r.localStore,a)];case 3:return u=f.sent(),[4,Tm(r,Ym(a),u.targetId,!1)];case 4:f.sent(),Pg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(gc.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,zp(r.localStore,t,!1).then(function(){Mg(r.remoteStore,t),Lm(r,t)}).catch(lp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ty(t){var e=Sc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Am.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rm.bind(null,e),e.xo.Tr=dm.bind(null,e.eventManager),e.xo.Ko=pm.bind(null,e.eventManager),e}function ey(t){var e=Sc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nm.bind(null,e),e}var ny=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return this.D=Sg(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return Mp(this.persistence,new Dp,t.initialUser,this.D)},t.prototype.Go=function(t){return new ig(sg.Cs,this.D)},t.prototype.jo=function(t){return new yg},t.prototype.terminate=function(){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(gc.c)(e,t),e.prototype.initialize=function(e){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Wp(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,ey(this.Jo.syncEngine)];case 4:return n.sent(),[4,Wg(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return Mp(this.persistence,new Dp,t.initialUser,this.D)},e.prototype.zo=function(t){return new dp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=kp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jd.withCacheSize(this.cacheSizeBytes):Jd.DEFAULT;return new Ip(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Og(),Cg(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new yg},e}(ny),iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(gc.c)(e,t),e.prototype.initialize=function(e){return Object(gc.b)(this,void 0,void 0,function(){var n,r=this;return Object(gc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof mg?(this.sharedClientState.syncEngine={wi:$m.bind(null,n),_i:Xm.bind(null,n),mi:Zm.bind(null,n),gn:Jm.bind(null,n),di:Qm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(gc.b)(r,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return[4,Wm(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Og();if(!mg.At(e))throw new Fc(Lc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ry),oy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n=this;return Object(gc.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return km(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hm.bind(null,this.syncEngine),[4,em(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new lm},t.prototype.createDatastore=function(t){var e=Sg(t.databaseInfo.databaseId),n=new Eg(t.databaseInfo);return function(t,e,n){return new kg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return km(s.syncEngine,t,0)},o=vg.At()?new vg:new bg,new jg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Cm(t,e,n,r,i,o);return s&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(gc.b)(this,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return e=Sc(t),vc("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,Dg(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),sy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ay=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new md,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new ym(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(gc.b)(this,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n=this;return Object(gc.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fc(Lc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(gc.d)(this,function(u){switch(u.label){case 0:return n=Sc(t),r=If(n.D)+"/documents",i={documents:e.map(function(t){return Of(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Cc(!!e.found);var n=Cf(t,e.found.name),r=wf(e.found.updateTime),i=new eh({mapValue:{fields:e.found.fields}});return new dl(n,r,i,{})}(t,e):"missing"in e?function(t,e){Cc(!!e.missing),Cc(!!e.readTime);var n=Cf(t,e.missing),r=wf(e.readTime);return new pl(n,r)}(t,e):Oc()}(n.D,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Cc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof pl||t instanceof dl?n.recordVersion(t):Oc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Lh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e=this;return Object(gc.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Hc.fromPath(n);e.mutations.push(new Fh(r,e.precondition(r)))}),[4,function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return n=Sc(t),r=If(n.D)+"/documents",i={writes:e.map(function(t){return Rf(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof dl)e=t.version;else{if(!(t instanceof pl))throw Oc();e=Zl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Fc(Lc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_h.updateTime(e):_h.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zl.min()))throw new Fc(Lc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _h.updateTime(e)}return _h.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),uy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Tg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(gc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(gc.d)(this,function(r){return t=new ay(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!Dc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Uh(e)}return!1},t}(),cy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ag.UNAUTHENTICATED,this.clientId=Ic.u(),this.credentialListener=function(){},this.receivedInitialUser=new md,this.credentials.setChangeListener(function(t){vc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Fc(Lc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new md;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gc.b)(t,void 0,void 0,function(){var t,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=om(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ly(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(gc.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),vc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(gc.b)(i,void 0,void 0,function(){return Object(gc.d)(this,function(t){switch(t.label){case 0:return[4,Lp(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function hy(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,fy(t)];case 1:return n=i.sent(),vc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:return(n=Sc(t)).asyncQueue.verifyOperationInProgress(),vc("RemoteStore","RemoteStore received new credentials"),r=qg(n),n.Qr.add(3),[4,Dg(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Ng(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function fy(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(vc("FirestoreClient","Using default OfflineComponentProvider"),[4,ly(t,new ny)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function dy(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(vc("FirestoreClient","Using default OnlineComponentProvider"),[4,hy(t,new oy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function py(t){return fy(t).then(function(t){return t.persistence})}function gy(t){return fy(t).then(function(t){return t.localStore})}function my(t){return dy(t).then(function(t){return t.remoteStore})}function yy(t){return dy(t).then(function(t){return t.syncEngine})}function by(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return[4,dy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Sm.bind(null,e.syncEngine),n.onUnlisten=Im.bind(null,e.syncEngine),n)]}})})}function vy(t,e,n){var r=this;void 0===n&&(n={});var i=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(r,void 0,void 0,function(){var r;return Object(gc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new sy({next:function(o){e.enqueueAndForget(function(){return fm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Fc(Lc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Fc(Lc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new mm(Fl(n.path),o,{includeMetadataChanges:!0,uo:!0});return hm(t,s)},[4,by(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function wy(t,e,n){var r=this;void 0===n&&(n={});var i=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(r,void 0,void 0,function(){var r;return Object(gc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new sy({next:function(n){e.enqueueAndForget(function(){return fm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Fc(Lc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new mm(n,o,{includeMetadataChanges:!0,uo:!0});return hm(t,s)},[4,by(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var _y=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Ey=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Oy=new Map,Cy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Sy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ag.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ty=function(){function t(t){var e=this;this.fc=null,this.currentUser=ag.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(vc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Cc("string"==typeof n.accessToken),new Cy(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return Cc(null===t||"string"==typeof t),new ag(t)},t}(),Iy=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=ag.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),xy=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Iy(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(ag.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ay(t,e,n){if(!n)throw new Fc(Lc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ky(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ry(t,e,n,r){if(!0===e&&!0===r)throw new Fc(Lc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function jy(t){if(!Hc.isDocumentKey(t))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ny(t){if(Hc.isDocumentKey(t))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Dy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Oc()}function Py(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fc(Lc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Dy(t);throw new Fc(Lc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function My(t,e){if(e<=0)throw new Fc(Lc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ly=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Fc(Lc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fc(Lc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ry("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fy=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Ly({}),this._settingsFrozen=!1,t instanceof Ey?(this._databaseId=t,this._credentials=new Sy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Fc(Lc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ey(t.options.projectId)}(t),this._credentials=new Ty(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Fc(Lc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Fc(Lc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ly(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Sy;switch(t.type){case"gapi":var e=t.client;return Cc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xy(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Fc(Lc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Oy.get(this))&&(vc("ComponentProvider","Removing Datastore"),Oy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vy=function(t){this._delegate=t},Uy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new By(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),qy=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),By=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Fl(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Uy(this.firestore,null,new Hc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(qy);function Hy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Vy&&(t=t._delegate),Ay("collection","path",e),t instanceof Fy)return Ny(n=Uc.fromString.apply(Uc,Object(gc.f)([e],r))),new By(t,null,n);if(!(t instanceof Uy||t instanceof By))throw new Fc(Lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ny(n=Uc.fromString.apply(Uc,Object(gc.f)([t.path],r)).child(Uc.fromString(e))),new By(t.firestore,null,n)}function zy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Vy&&(t=t._delegate),1===arguments.length&&(e=Ic.u()),Ay("doc","path",e),t instanceof Fy)return jy(n=Uc.fromString.apply(Uc,Object(gc.f)([e],r))),new Uy(t,null,new Hc(n));if(!(t instanceof Uy||t instanceof By))throw new Fc(Lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jy(n=t._path.child(Uc.fromString.apply(Uc,Object(gc.f)([e],r)))),new Uy(t.firestore,t instanceof By?t._converter:null,new Hc(n))}function Gy(t,e){return t instanceof Vy&&(t=t._delegate),e instanceof Vy&&(e=e._delegate),(t instanceof Uy||t instanceof By)&&(e instanceof Uy||e instanceof By)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Qy(t,e){return t instanceof Vy&&(t=t._delegate),e instanceof Vy&&(e=e._delegate),t instanceof qy&&e instanceof qy&&t.firestore===e.firestore&&$l(t._query,e._query)&&t._converter===e._converter}var $y=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Tg(this,"async_queue_retry"),this.bc=function(){var e=Cg();e&&vc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Cg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e=this;return Object(gc.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Ed(t=n.sent()))throw t;return vc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,wc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=im.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Oc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(gc.b)(this,void 0,void 0,function(){var t;return Object(gc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Wy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new md,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new $y,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(gc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Jy(this),this._firestoreClient.terminate()},e}(Fy);function Yy(t){return t._firestoreClient||Jy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jy(t){var e=t._freezeSettings(),n=function(t,e,n){return new _y(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new cy(t._credentials,t._queue,n)}function Xy(t,e,n){var r=this,i=new md;return t.asyncQueue.enqueue(function(){return Object(gc.b)(r,void 0,void 0,function(){var r;return Object(gc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ly(t,n)];case 1:return o.sent(),[4,hy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Lc.FAILED_PRECONDITION||t.code===Lc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Zy(t){if(t._initialized||t._terminated)throw new Fc(Lc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),eb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(zc.fromBase64String(e))}catch(e){throw new Fc(Lc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(zc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),nb=function(t){this._methodName=t},rb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fc(Lc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fc(Lc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return xc(this._lat,t._lat)||xc(this._long,t._long)},t}(),ib=/^__.*__$/,ob=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new kh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ah(t,this.data,e,this.fieldTransforms)},t}(),sb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new kh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oc()}}var ub=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return xb(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(ab(this.Fc)&&ib.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),cb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Sg(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new ub({Fc:t,methodName:e,Kc:n,path:Bc.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function lb(t){var e=t._freezeSettings(),n=Sg(t._databaseId);return new cb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);Cb("Data must be an object, but it was:",s,r);var a,u,c=Eb(r,s);if(o.merge)a=new th(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Sb(e,f[h],n);if(!s.contains(d))throw new Fc(Lc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ab(l,d)||l.push(d)}a=new th(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new ob(new eh(c),a,u)}var fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(nb);function db(t,e,n){return new ub({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype._toFieldTransform=function(t){return new vh(t.path,new hh)},e.prototype.isEqual=function(t){return t instanceof e},e}(nb),gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(gc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=db(this,t,!0),n=this.jc.map(function(t){return _b(t,e)}),r=new fh(n);return new vh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(nb),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(gc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=db(this,t,!0),n=this.jc.map(function(t){return _b(t,e)}),r=new ph(n);return new vh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(nb),yb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(gc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new mh(t.D,sh(t.D,this.Gc));return new vh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(nb);function bb(t,e,n,r){var i=t.Wc(1,e,n);Cb("Data must be an object, but it was:",i,r);var o=[],s=new nh;jc(r,function(t,r){var a=Ib(e,t,n);r instanceof Vy&&(r=r._delegate);var u=i.Bc(a);if(r instanceof fb)o.push(a);else{var c=_b(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new th(o);return new sb(s.v(),a,i.fieldTransforms)}function vb(t,e,n,r,i,o){var s=t.Wc(1,e,n),a=[Sb(e,r,n)],u=[i];if(o.length%2!=0)throw new Fc(Lc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Sb(e,o[c])),u.push(o[c+1]);for(var l=[],h=new nh,f=a.length-1;f>=0;--f)if(!Ab(l,a[f])){var d=a[f],p=u[f];p instanceof Vy&&(p=p._delegate);var g=s.Bc(d);if(p instanceof fb)l.push(d);else{var m=_b(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new th(l);return new sb(h.v(),y,s.fieldTransforms)}function wb(t,e,n,r){return void 0===r&&(r=!1),_b(n,t.Wc(r?4:3,e))}function _b(t,e){if(t instanceof Vy&&(t=t._delegate),Ob(t))return Cb("Unsupported field value:",e,t),Eb(t,e);if(t instanceof nb)return function(t,e){if(!ab(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=_b(o[i],e.qc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Vy&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sh(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Kc.fromDate(t);return{timestampValue:yf(e.D,n)}}if(t instanceof Kc)return n=new Kc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:yf(e.D,n)};if(t instanceof rb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eb)return{bytesValue:bf(e.D,t._byteString)};if(t instanceof Uy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_f(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Dy(t))}(t,e)}function Eb(t,e){var n={};return Nc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jc(t,function(t,r){var i=_b(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ob(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kc||t instanceof rb||t instanceof eb||t instanceof Uy||t instanceof nb)}function Cb(t,e,n){if(!Ob(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Dy(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function Sb(t,e,n){if(e instanceof Vy&&(e=e._delegate),e instanceof tb)return e._internalPath;if("string"==typeof e)return Ib(t,e);throw xb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Tb=new RegExp("[~\\*/\\[\\]]");function Ib(t,e,n){if(e.search(Tb)>=0)throw xb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(tb.bind.apply(tb,Object(gc.f)([void 0],e.split(".")))))._internalPath}catch(r){throw xb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Fc(Lc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ab(t,e){return t.some(function(t){return t.isEqual(e)})}var kb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(jb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(kb);function jb(t,e){return"string"==typeof e?Ib(t,e):e instanceof Vy?e._delegate._internalPath:e._internalPath}var Nb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Db=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(gc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(jb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(kb),Pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Db),Mb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Pb(n._firestore,n._userDataWriter,r.key,r,new Nb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fc(Lc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Pb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Pb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Lb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Lb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oc()}}function Fb(t,e){return t instanceof Db&&e instanceof Db?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Mb&&e instanceof Mb&&t._firestore===e._firestore&&Qy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Vb(t){if(Ul(t)&&0===t.explicitOrderBy.length)throw new Fc(Lc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ub=function(){};function qb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(gc.c)(e,t),e.prototype._apply=function(t){var e=lb(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Kb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Wb(r,t,l[c]));a={arrayValue:{values:u}}}else a=Wb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Kb(s,o),a=wb(n,"where",s,"in"===o||"not-in"===o);var h=_l.create(i,o,a);return function(t,e){if(e.g()){var n=Bl(t);if(null!==n&&!n.isEqual(e.field))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ql(t);null!==r&&Yb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Fc(Lc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new qy(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Ub),Hb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(gc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new jl(e,n);return function(t,e){if(null===ql(t)){var n=Bl(t);null!==n&&Yb(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new qy(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ml(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Ub),zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(gc.c)(e,t),e.prototype._apply=function(t){return new qy(t.firestore,t._converter,Ql(t._query,this.Xc,this.Zc))},e}(Ub),Gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(gc.c)(e,t),e.prototype._apply=function(t){var e=$b(t,this.type,this.ta,this.ea);return new qy(t.firestore,t._converter,function(t,e){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Ub),Qb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(gc.c)(e,t),e.prototype._apply=function(t){var e=$b(t,this.type,this.ta,this.ea);return new qy(t.firestore,t._converter,function(t,e){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Ub);function $b(t,e,n,r){if(n[0]instanceof Vy&&(n[0]=n[0]._delegate),n[0]instanceof kb)return function(t,e,n,r,i){if(!r)throw new Fc(Lc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=zl(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(sl(e,r.key));else{var c=r.field(u.field);if(Yc(c))throw new Fc(Lc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new kl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=lb(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Fc(Lc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Hl(t)&&-1!==c.indexOf("/"))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Uc.fromString(c));if(!Hc.isDocumentKey(l))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Hc(l);a.push(sl(e,h))}else{var f=wb(n,r,c);a.push(f)}}return new kl(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Wb(t,e,n){if(n instanceof Vy&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hl(e)&&-1!==n.indexOf("/"))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Uc.fromString(n));if(!Hc.isDocumentKey(r))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return sl(t,new Hc(r))}if(n instanceof Uy)return sl(t,n._key);throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Dy(n)+".")}function Kb(t,e){if(!Array.isArray(t)||0===t.length)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Yb(t,e,n){if(!n.isEqual(e))throw new Fc(Lc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Jb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Zc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $c(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Oc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return jc(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new rb($c(t.latitude),$c(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Jc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Xc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Qc(t);return new Kc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Uc.fromString(t);Cc(Qf(n));var r=new Ey(n.get(1),n.get(3)),i=new Hc(n.popFirst(5));return r.isEqual(e)||wc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Xb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gc.c)(e,t),e.prototype.convertBytes=function(t){return new eb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uy(this.firestore,null,e)},e}(Jb),tv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ev(t,this._firestore),i=Xb(r._converter,e,n),o=hb(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,_h.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ev(t,this._firestore);return e instanceof Vy&&(e=e._delegate),o="string"==typeof e||e instanceof tb?vb(this._dataReader,"WriteBatch.update",s._key,e,n,r):bb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,_h.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ev(t,this._firestore);return this._mutations=this._mutations.concat(new Lh(e._key,_h.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Fc(Lc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ev(t,e){if(t instanceof Vy&&(t=t._delegate),t.firestore!==e)throw new Fc(Lc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gc.c)(e,t),e.prototype.convertBytes=function(t){return new eb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uy(this.firestore,null,e)},e}(Jb);function rv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Py(t,Uy);var o=Py(t.firestore,Ky),s=lb(o);return e instanceof Vy&&(e=e._delegate),ov(o,[("string"==typeof e||e instanceof tb?vb(s,"updateDoc",t._key,e,n,r):bb(s,"updateDoc",t._key,e)).toMutation(t._key,_h.exists(!0))])}function iv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Vy&&(t=t._delegate);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Wy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Wy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Uy)c=Py(t.firestore,Ky),l=Fl(t._key.path),u={next:function(e){i[a]&&i[a](sv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Py(t,qy);c=Py(d.firestore,Ky),l=d._query;var p=new nv(c);u={next:function(t){i[a]&&i[a](new Mb(c,p,d,t))},error:i[a+1],complete:i[a+2]},Vb(t._query)}return function(t,e,n,r){var i=this,o=new sy(r),s=new mm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(i,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return e=hm,[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(i,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return e=fm,[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Yy(c),l,h,u)}function ov(t,e){return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(n,void 0,void 0,function(){var n;return Object(gc.d)(this,function(i){switch(i.label){case 0:return n=xm,[4,yy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Yy(t),e)}function sv(t,e,n){var r=n.docs.get(e._key),i=new nv(t);return new Db(t,i,e._key,r,new Nb(n.hasPendingWrites,n.fromCache),e._converter)}var av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(gc.c)(e,t),e.prototype.get=function(e){var n=this,r=ev(e,this._firestore),i=new nv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Db(n._firestore,i,r._key,t._document,new Nb(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lb(t)}return t.prototype.get=function(t){var e=this,n=ev(t,this._firestore),r=new Zb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Oc();var i=t[0];if(i instanceof pl)return new kb(e._firestore,r,n._key,null,n._converter);if(i instanceof dl)return new kb(e._firestore,r,i.key,i,n._converter);throw Oc()})},t.prototype.set=function(t,e,n){var r=ev(t,this._firestore),i=Xb(r._converter,e,n),o=hb(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ev(t,this._firestore);return e instanceof Vy&&(e=e._delegate),o="string"==typeof e||e instanceof tb?vb(this._dataReader,"Transaction.update",s._key,e,n,r):bb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=ev(t,this._firestore);return this._transaction.delete(e._key),this},t}());function uv(){if("undefined"==typeof Uint8Array)throw new Fc(Lc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cv(){if("undefined"==typeof atob)throw new Fc(Lc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.fromBase64String=function(t){return cv(),new e(eb.fromBase64String(t))},e.fromUint8Array=function(t){return uv(),new e(eb.fromUint8Array(t))},e.prototype.toBase64=function(){return cv(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return uv(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Vy),hv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zy(t=Py(t,Ky));var n=Yy(t),r=t._freezeSettings(),i=new oy;return Xy(n,i,new ry(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zy(t=Py(t,Ky));var e=Yy(t),n=t._freezeSettings(),r=new oy;return Xy(e,r,new iy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Fc(Lc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new md;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gc.b)(e,void 0,void 0,function(){var e;return Object(gc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(gc.b)(this,void 0,void 0,function(){return Object(gc.d)(this,function(e){switch(e.label){case 0:return vd.At()?[4,vd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(kp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ey||(i.sa=e),i}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Py(t,Fy))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&_c("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gc.b)(e,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return[4,py(t)];case 1:return e=r.sent(),[4,my(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Sc(t);return e.Qr.delete(0),Ng(e)}(n))]}})})})}(Yy(Py(this._delegate,Ky)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gc.b)(e,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return[4,py(t)];case 1:return e=r.sent(),[4,my(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(gc.b)(this,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return(e=Sc(t)).Qr.add(0),[4,Dg(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(Yy(Py(this._delegate,Ky)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ry("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(e,void 0,void 0,function(){var e;return Object(gc.d)(this,function(r){switch(r.label){case 0:return e=Dm,[4,yy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Yy(Py(this._delegate,Ky)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new sy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(n,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Sc(t).Zr.add(e),e.next()},[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(n,void 0,void 0,function(){var e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Sc(t).Zr.delete(e)},[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Yy(t=Py(t,Ky)),Wy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Fc(Lc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Tv(this,Hy(this._delegate,t))}catch(t){throw bv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new yv(this,zy(this._delegate,t))}catch(t){throw bv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ov(this,function(t,e){if(t=Py(t,Fy),Ay("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qy(t,null,function(t){return new Ml(Uc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw bv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(n,void 0,void 0,function(){var n;return Object(gc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return dy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new uy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Yy(t),function(n){return e(new av(t,n))})}(this._delegate,function(n){return t(new pv(e,n))})},e.prototype.batch=function(){var t=this;return Yy(this._delegate),new gv(new tv(this._delegate,function(e){return ov(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new Fc(Lc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Fc(Lc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Vy),dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gc.c)(e,t),e.prototype.convertBytes=function(t){return new lv(new eb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return yv.ia(e,this.firestore,null)},e}(Jb),pv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new dv(e),r}return Object(gc.c)(e,t),e.prototype.get=function(t){var e=this,n=Iv(t);return this._delegate.get(n).then(function(t){return new _v(e._firestore,new Db(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=Iv(t);return n?(ky("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Iv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(gc.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Iv(t);return this._delegate.delete(e),this},e}(Vy),gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.set=function(t,e,n){var r=Iv(t);return n?(ky("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Iv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(gc.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Iv(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Vy),mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(gc.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Pb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ev(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new dv(t),n),i.set(n,o)),o},e}(Vy);mv.oa=new WeakMap;var yv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new dv(e),r}return Object(gc.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Fc(Lc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Uy(n._delegate,r,new Hc(t)))},e.ia=function(t,n,r){return new e(n,new Uy(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Tv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Tv(this.firestore,Hy(this._delegate,t))}catch(t){throw bv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Vy&&(t=t._delegate),t instanceof Uy&&Gy(this._delegate,t)},e.prototype.set=function(t,e){e=ky("DocumentReference.set",e);try{return function(t,e,n){t=Py(t,Uy);var r=Py(t.firestore,Ky),i=Xb(t._converter,e,n);return ov(r,[hb(lb(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,_h.none())])}(this._delegate,t,e)}catch(t){throw bv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rv(this._delegate,t):rv.apply(void 0,Object(gc.f)([this._delegate,t,e],n))}catch(t){throw bv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ov(Py((t=this._delegate).firestore,Ky),[new Lh(t._key,_h.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vv(e),i=wv(e,function(e){return new _v(t.firestore,new Db(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return iv(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Py(t,Uy);var e=Py(t.firestore,Ky),n=Yy(e),r=new nv(e);return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(n,void 0,void 0,function(){var n;return Object(gc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Sc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof dl?n.resolve(i):i instanceof pl?n.resolve(null):n.reject(new Fc(Lc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=om(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,gy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Db(e,r,t._key,n,new Nb(n instanceof dl&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Py(t,Uy);var e=Py(t.firestore,Ky);return vy(Yy(e),t._key,{source:"server"}).then(function(n){return sv(e,t,n)})}(this._delegate):function(t){t=Py(t,Uy);var e=Py(t.firestore,Ky);return vy(Yy(e),t._key).then(function(n){return sv(e,t,n)})}(this._delegate)).then(function(t){return new _v(e.firestore,new Db(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?mv.ra(this.firestore,t):null))},e}(Vy);function bv(t,e,n){return t.message=t.message.replace(e,n),t}function vv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Wy(r))return r}return{}}function wv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Wy(t[0])?t[0]:Wy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _v=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new yv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Fb(this._delegate,t._delegate)},e}(Vy),Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(_v),Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new dv(e),r}return Object(gc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,qb(this._delegate,function(t,e,n){var r=e,i=jb("where",t);return new Bb(i,r,n)}(t,n,r)))}catch(t){throw bv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,qb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=jb("orderBy",t);return new Hb(r,n)}(t,n)))}catch(t){throw bv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,qb(this._delegate,function(t){return My("limit",t),new zb("limit",t,"F")}(t)))}catch(t){throw bv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,qb(this._delegate,function(t){return My("limitToLast",t),new zb("limitToLast",t,"L")}(t)))}catch(t){throw bv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw bv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw bv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw bv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw bv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Qy(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Py(t,qy);var e=Py(t.firestore,Ky),n=Yy(e),r=new nv(e);return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget(function(){return Object(gc.b)(n,void 0,void 0,function(){var n;return Object(gc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(gc.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Gp(t,e,!0)];case 1:return a=u.sent(),r=new _m(e,a.jn),i=r.Io(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=om(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,gy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Mb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Py(t,qy);var e=Py(t.firestore,Ky),n=Yy(e),r=new nv(e);return wy(n,t._query,{source:"server"}).then(function(n){return new Mb(e,r,t,n)})}(this._delegate):function(t){t=Py(t,qy);var e=Py(t.firestore,Ky),n=Yy(e),r=new nv(e);return Vb(t._query),wy(n,t._query).then(function(n){return new Mb(e,r,t,n)})}(this._delegate)).then(function(t){return new Sv(e.firestore,new Mb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vv(e),i=wv(e,function(e){return new Sv(t.firestore,new Mb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return iv(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?mv.ra(this.firestore,t):null))},e}(Vy),Cv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ev(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Vy),Sv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ov(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ev(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Cv(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Ev(n._firestore,r))})},e.prototype.isEqual=function(t){return Fb(this._delegate,t._delegate)},e}(Vy),Tv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(gc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new yv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yv(this.firestore,void 0===t?zy(this._delegate):zy(this._delegate,t))}catch(t){throw bv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Py(t.firestore,Ky),r=zy(t),i=Xb(t._converter,e);return ov(n,[hb(lb(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,_h.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new yv(e.firestore,t)})},e.prototype.isEqual=function(t){return Gy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?mv.ra(this.firestore,t):null))},e}(Ov);function Iv(t){return t instanceof Vy&&(t=t._delegate),Py(t,Uy)}var xv,Av=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(tb.bind.apply(tb,Object(gc.f)([void 0],e))))||this}return Object(gc.c)(e,t),e.documentId=function(){return new e(Bc.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Vy&&(t=t._delegate),t instanceof tb&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Vy),kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gc.c)(e,t),e.serverTimestamp=function(){var t=new pb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new fb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new yb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Vy),Rv=n("/6Yf"),jv={Firestore:fv,GeoPoint:rb,Timestamp:Kc,Blob:lv,Transaction:pv,WriteBatch:gv,DocumentReference:yv,DocumentSnapshot:_v,Query:Ov,QueryDocumentSnapshot:Ev,QuerySnapshot:Sv,CollectionReference:Tv,FieldPath:Av,FieldValue:kv,setLogLevel:function(t){yc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Rv.a("firestore",function(t){return function(t,e){return new fv(t,new Ky(t,e),new hv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},jv)))})(xv=lo.a),xv.registerVersion("@firebase/firestore","2.2.1");var Nv=n("qgXg"),Dv=n("quSY"),Pv=n("Ylt2");class Mv extends dn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Lv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new xn.a;if(this.isStopped||this.hasError?o=Dv.a.EMPTY:(this.observers.push(t),o=new Pv.a(this,t)),r&&t.add(t=new uo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Nv.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Lv{constructor(t,e){this.time=t,this.value=e}}function Fv(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Mv(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Vv=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Uv(t=null){return e=>e.lift(new qv(t))}class qv{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Bv(t,this.defaultValue))}}class Bv extends Ae.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Hv(t=Qv){return e=>e.lift(new zv(t))}class zv{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Gv(t,this.errorFactory))}}class Gv extends Ae.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(xv){t=xv}this.destination.error(t)}}}function Qv(){return new Vv}var $v=n("SpAZ");function Wv(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ke((e,n)=>t(e,n,r)):$v.a,Wn(1),n?Uv(e):Hv(()=>new Vv))}function Kv(t,e){return e?tr(()=>t,e):tr(()=>t)}var Yv=n("tf+s");const Jv=new r.r("angularfire2.auth.use-emulator"),Xv=new r.r("angularfire2.auth.settings"),Zv=new r.r("angularfire2.auth.tenant-id"),tw=new r.r("angularfire2.auth.langugage-code"),ew=new r.r("angularfire2.auth.use-device-language"),nw=new r.r("angularfire.auth.persistence");let rw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new eo.d(i),f=Object(eo.h)(h),d=new dn.a,p=Object(Te.a)(void 0).pipe(Object(uo.b)(h.outsideAngular),tr(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(St.a)(()=>Object(eo.g)(t,i,e)),Object(St.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(eo.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Fv({bufferSize:1,refCount:!1}));if(H(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Te.a)(null);else{p.pipe(Wv()).subscribe();const t=p.pipe(tr(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Fv({bufferSize:1,refCount:!1})),e=t=>new Ot.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(tr(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(tr(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Kv(n),Object(Yv.a)(h.outsideAngular),Object(uo.b)(h.insideAngular)),this.user=t.pipe(Kv(r),Object(Yv.a)(h.outsideAngular),Object(uo.b)(h.insideAngular)),this.idToken=this.user.pipe(tr(t=>t?Object(Et.a)(t.getIdToken()):Object(Te.a)(null))),this.idTokenResult=this.user.pipe(tr(t=>t?Object(Et.a)(t.getIdTokenResult()):Object(Te.a)(null))),this.credential=Object(qn.a)(t,d,this.authState.pipe(ke(t=>!t))).pipe(Object(St.a)(t=>(null==t?void 0:t.user)?t:null),Object(Yv.a)(h.outsideAngular),Object(uo.b)(h.insideAngular))}return Object(eo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(eo.c),r.Yb(eo.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(Jv,8),r.Yb(Xv,8),r.Yb(Zv,8),r.Yb(tw,8),r.Yb(ew,8),r.Yb(nw,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(eo.c),Object(r.Yb)(eo.b,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(Jv,8),Object(r.Yb)(Xv,8),Object(r.Yb)(Zv,8),Object(r.Yb)(tw,8),Object(r.Yb)(ew,8),Object(r.Yb)(nw,8))},token:t,providedIn:"any"}),t})();function iw(t,e){return function(t,e=yn.b){return new Ot.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ow(t,e){return iw(t,e).pipe(Object(St.a)(t=>({payload:t,type:"query"})))}function sw(t,e){return ow(t,e).pipe(Jn(void 0),no(),Object(St.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function aw(t,e,n){return sw(t,n).pipe(oo((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return uw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return uw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Xn(void 0,void 0)),Object(St.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function uw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function cw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(eo.e)(rw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class lw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=sw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Jn(void 0),no(),ke(([t,e])=>e.length>0||!t),Object(St.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(oo((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cw(t);return aw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(uo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new hw(this.ref.doc(t),this.afs)}}class hw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=yw(n,e);return new lw(r,i,this.afs)}snapshotChanges(){return iw(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn(void 0),no(),Object(St.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(St.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Et.a)(this.ref.get(t)).pipe(Object(uo.b)(this.afs.schedulers.insideAngular))}}class fw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?sw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ke(t=>t.length>0),this.afs.keepUnstableUntilFirst):sw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(oo((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cw(t);return aw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(uo.b)(this.afs.schedulers.insideAngular))}}const dw=new r.r("angularfire2.enableFirestorePersistence"),pw=new r.r("angularfire2.firestore.persistenceSettings"),gw=new r.r("angularfire2.firestore.settings"),mw=new r.r("angularfire2.firestore.use-emulator");function yw(t,e=(t=>t)){return{query:e(t),ref:t}}let bw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new eo.d(o),this.keepUnstableUntilFirst=Object(eo.h)(this.schedulers);const c=Object(eo.g)(t,o,e);!co.a.auth&&u&&Object(eo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(eo.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!H(i)){const e=()=>{try{return Object(Et.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(xv){return"undefined"!=typeof console&&console.warn(xv),Object(Te.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Te.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=yw(n,e),o=this.schedulers.ngZone.run(()=>r);return new lw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new fw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new hw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(eo.c),r.Yb(eo.b,8),r.Yb(dw,8),r.Yb(gw,8),r.Yb(r.C),r.Yb(r.A),r.Yb(pw,8),r.Yb(mw,8),r.Yb(Jv,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(eo.c),Object(r.Yb)(eo.b,8),Object(r.Yb)(dw,8),Object(r.Yb)(gw,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(pw,8),Object(r.Yb)(mw,8),Object(r.Yb)(Jv,8))},token:t,providedIn:"any"}),t})(),vw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:dw,useValue:!0},{provide:pw,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[bw]}),t})();class ww{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new _w(t,this.dueTime,this.scheduler))}}class _w extends Ae.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ew,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ew(t){t.debouncedNext()}var Ow="firebasestorage.googleapis.com",Cw=function(t){function e(n,r){var i=t.call(this,Sw(n),"Firebase Storage: "+r+" ("+Sw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(gc.c)(e,t),e.prototype._codeEquals=function(t){return Sw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(fo.c);function Sw(t){return"storage/"+t}function Tw(){return new Cw("unknown","An unknown error occurred, please check the error payload for server response.")}function Iw(){return new Cw("canceled","User canceled the upload/download.")}function xw(){return new Cw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Aw(t){return new Cw("invalid-argument",t)}function kw(){return new Cw("app-deleted","The Firebase app was deleted.")}function Rw(t){return new Cw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jw(t,e){return new Cw("invalid-format","String does not match format '"+t+"': "+e)}function Nw(t){throw new Cw("internal-error","Internal error: "+t)}var Dw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Pw=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Mw(t,e){switch(t){case Dw.RAW:return new Pw(Lw(e));case Dw.BASE64:case Dw.BASE64URL:return new Pw(Fw(t,e));case Dw.DATA_URL:return new Pw((n=new Vw(e)).base64?Fw(Dw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(xv){throw jw(Dw.DATA_URL,"Malformed data URL.")}return Lw(e)}(n.rest),new Vw(e).contentType)}var n;throw Tw()}function Lw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Fw(t,e){switch(t){case Dw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw jw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Dw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw jw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(xv){throw jw(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Vw=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw jw(Dw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Uw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qw(t){switch(t){case"running":case"pausing":case"canceling":return Uw.RUNNING;case"paused":return Uw.PAUSED;case"success":return Uw.SUCCESS;case"canceled":return Uw.CANCELED;case"error":default:return Uw.ERROR}}var Bw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Hw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Bw.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Bw.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Bw.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Nw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Nw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Nw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(xv){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Nw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),zw=function(){function t(){}return t.prototype.createXhrIo=function(){return new Hw},t}(),Gw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(xv){return new t(e,"")}if(""===n.path)return n;throw new Cw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Ow.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Cw("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),Qw=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function $w(t){return"string"==typeof t||t instanceof String}function Ww(t){return Kw()&&t instanceof Blob}function Kw(){return"undefined"!=typeof Blob}function Yw(t,e,n,r){if(r<e)throw Aw("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Aw("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Jw(t){return"https://"+Ow+"/v0"+t}function Xw(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Zw=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(xv){o(xv)}else null!==s?((r=Tw()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?kw():Iw():new Cw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new t_(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new t_(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Bw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new t_(s,n))}else{var a=n.getErrorCode()===Bw.ABORT;e(!1,new t_(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(gc.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(gc.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),t_=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function e_(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function n_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=e_();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Kw())return new Blob(t);throw new Cw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var r_=function(){function t(t,e){var n=0,r="";Ww(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ww(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Kw()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(n_.apply(null,r))}var i=e.map(function(t){return $w(t)?Mw(Dw.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function i_(t){var e,n;try{e=JSON.parse(t)}catch(xv){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function o_(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function s_(t,e){return e}var a_=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||s_}}(),u_=null;function c_(){if(u_)return u_;var t=[];t.push(new a_("bucket")),t.push(new a_("generation")),t.push(new a_("metageneration")),t.push(new a_("name","fullPath",!0));var e=new a_("name");e.xform=function(t,e){return function(t){return!$w(t)||t.length<2?t:o_(t)}(e)},t.push(e);var n=new a_("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new a_("timeCreated")),t.push(new a_("updated")),t.push(new a_("md5Hash",null,!0)),t.push(new a_("cacheControl",null,!0)),t.push(new a_("contentDisposition",null,!0)),t.push(new a_("contentEncoding",null,!0)),t.push(new a_("contentLanguage",null,!0)),t.push(new a_("contentType",null,!0)),t.push(new a_("metadata","customMetadata",!0)),u_=t}function l_(t,e,n){var r=i_(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Gw(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function h_(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var f_=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function d_(t){if(!t)throw Tw()}function p_(t,e){return function(n,r){var i=l_(t,r,e);return d_(null!==i),i}}function g_(t){return function(e,n){var r;return(r=401===e.getStatus()?new Cw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Cw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Cw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function m_(t){var e=g_(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Cw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function y_(t,e,n){var r=Jw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new f_(r,"GET",p_(t,n),i);return o.errorHandler=m_(e),o}function b_(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var v_=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function w_(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(xv){d_(!1)}return d_(!!n&&-1!==(e||["active"]).indexOf(n)),n}var __=262144,E_=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function O_(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var C_=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=c_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=b_(e,r,i),a={name:s.fullPath},u=Jw(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=h_(s,n),h=new f_(u,"POST",function(t){var e;w_(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(xv){d_(!1)}return d_($w(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=g_(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new f_(n,"POST",function(t){var e=w_(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(xv){d_(!1)}n||d_(!1);var i=Number(n);return d_(!isNaN(i)),new v_(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=g_(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=__*this._chunkMultiplier,n=new v_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new v_(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Cw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw xw();var p=new f_(n,"POST",function(t,n){var i,s=w_(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?p_(e,o)(t,n):null,new v_(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=g_(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(xv){return t._error=xv,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){__*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=y_(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=b_(e,r,i),c=h_(u,n),l=r_.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw xw();var h={name:u.fullPath},f=Jw(o),d=t.maxUploadRetryTime,p=new f_(f,"POST",p_(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=g_(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Iw(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=qw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new E_(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(qw(this._state)){case Uw.SUCCESS:O_(this._resolve.bind(null,this.snapshot))();break;case Uw.CANCELED:case Uw.ERROR:O_(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(qw(this._state)){case Uw.RUNNING:case Uw.PAUSED:t.next&&O_(t.next.bind(t,this.snapshot))();break;case Uw.SUCCESS:t.complete&&O_(t.complete.bind(t))();break;case Uw.CANCELED:case Uw.ERROR:t.error&&O_(t.error.bind(t,this._error))();break;default:t.error&&O_(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),S_=function(){function t(t,e){this._service=t,this._location=e instanceof Gw?e:Gw.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Gw(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Gw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Rw(t)},t}();function T_(t){var e={prefixes:[],items:[]};return I_(t,e).then(function(){return e})}function I_(t,e,n){return Object(gc.b)(this,void 0,void 0,function(){var r,i,o;return Object(gc.d)(this,function(s){switch(s.label){case 0:return[4,x_(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,I_(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function x_(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r,i;return Object(gc.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Yw("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Jw(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new f_(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=i_(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new Gw(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new Gw(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return d_(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=g_(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function A_(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Gw(t._location.bucket,n);return new S_(t.storage,r)}function k_(t){return/^[A-Za-z]+:\/\//.test(t)}function R_(t,e){if(t instanceof N_){var n=t;if(null==n._bucket)throw new Cw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new S_(n,n._bucket);return null!=e?R_(r,e):r}if(void 0!==e){if(e.includes(".."))throw Aw('`path` param cannot contain ".."');return A_(t,e)}return t}function j_(t,e){if(e&&k_(e)){if(t instanceof N_)return new S_(t,e);throw Aw("To use ref(service, url), the first argument must be a Storage instance.")}return R_(t,e)}var N_=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Gw.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:Gw.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Yw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Yw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(gc.b)(this,void 0,void 0,function(){var t,e;return Object(gc.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new S_(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Qw(kw());var r=function(t,e,n,r,i){var o=Xw(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new Zw(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function D_(t,e){return j_(t,e)}var P_,M_,L_=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),F_=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new L_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new L_(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new L_(t,i,i._ref))}:{next:e.next?function(t){return e.next(new L_(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),V_=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new U_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new U_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),U_=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return A_(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new F_(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new C_(t,new r_(e),n)}(t,e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Dw.RAW),this._throwIfRoot("putString");var r=Mw(e,t),i=Object(gc.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new F_(new C_(this._delegate,new r_(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,T_(t)).then(function(t){return new V_(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return x_(t,e)}(this._delegate,t||void 0).then(function(t){return new V_(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=y_(t.storage,t._location,c_()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(gc.b)(this,void 0,void 0,function(){var n,r;return Object(gc.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Jw(e.fullServerUrl()),o=h_(n,r),s=t.maxOperationRetryTime,a=new f_(i,"PATCH",p_(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=m_(e),a}(t.storage,t._location,e,c_()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t,e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Jw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new f_(r,"GET",function(t,e){return function(n,r){var i=l_(t,r,e);return d_(null!==i),function(t,e){var n=i_(e);if(null===n)return null;if(!$w(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return Jw("/b/"+i(t.bucket)+"/o/"+i(n))+Xw({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=m_(e),o}(t.storage,t._location,c_()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Cw("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(gc.b)(this,void 0,void 0,function(){var e,n;return Object(gc.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Jw(e.fullServerUrl()),r=new f_(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=m_(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Rw(t)},t}(),q_=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(k_(t))throw Aw("ref() expected a child path but got a URL, use refFromURL instead.");return new U_(D_(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!k_(t))throw Aw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gw.makeFromUrl(t)}catch(xv){throw Aw("refFromUrl() expected a valid full URL but got an invalid one.")}return new U_(D_(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function B_(t){const e=function(t){return new Ot.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=yn.a){return n=>n.lift(new ww(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(St.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function H_(t,e,n){return{getDownloadURL:()=>Object(Te.a)(void 0).pipe(Object(uo.b)(e.outsideAngular),tr(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Te.a)(void 0).pipe(Object(uo.b)(e.outsideAngular),tr(()=>t.getMetadata()),n),delete:()=>Object(Et.a)(t.delete()),child:r=>H_(t.child(r),e,n),updateMetadata:e=>Object(Et.a)(t.updateMetadata(e)),put:(e,n)=>B_(t.put(e,n)),putString:(e,n,r)=>B_(t.putString(e,n,r)),listAll:()=>Object(Et.a)(t.listAll())}}M_={TaskState:Uw,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Dw,Storage:N_,Reference:U_},(P_=lo.a).INTERNAL.registerComponent(new Rv.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new q_(r,new N_(r,i,new zw,n,lo.a.SDK_VERSION))},"PUBLIC").setServiceProps(M_).setMultipleInstances(!0)),P_.registerVersion("@firebase/storage","0.4.5");const z_=new r.r("angularfire2.storageBucket"),G_=new r.r("angularfire2.storage.maxUploadRetryTime"),Q_=new r.r("angularfire2.storage.maxOperationRetryTime");let $_=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new eo.d(i),this.keepUnstableUntilFirst=Object(eo.h)(this.schedulers);const a=Object(eo.g)(t,i,e);this.storage=Object(eo.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return H_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return H_(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return H_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(eo.c),r.Yb(eo.b,8),r.Yb(z_,8),r.Yb(r.C),r.Yb(r.A),r.Yb(G_,8),r.Yb(Q_,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(eo.c),Object(r.Yb)(eo.b,8),Object(r.Yb)(z_,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(G_,8),Object(r.Yb)(Q_,8))},token:t,providedIn:"any"}),t})(),W_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),K_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[$_],imports:[W_]}),t})();const Y_={apiKey:"AIzaSyDI2ZnE3VmRGtE79iXzesWYlqUlyBsEje0",authDomain:"pizza-196b2.firebaseapp.com",projectId:"pizza-196b2",storageBucket:"pizza-196b2.appspot.com",messagingSenderId:"420393772386",appId:"1:420393772386:web:fcccd1cf6f95cc41df783b"};function J_(t){return new Ot.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Et.a)(n):Object(fn.b)()).subscribe(e)})}var X_=n("EQ5u");function Z_(t){return function(e){const n=new tE(t),r=e.lift(n);return n.caught=r}}class tE{constructor(t){this.selector=t}call(t,e){return e.subscribe(new eE(t,this.selector,this.caught))}}class eE extends Dn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Dn.a(this);this.add(r);const i=Object(Dn.c)(n,r);i!==r&&this.add(i)}}}function nE(t){return function(e){return 0===t?Object(fn.b)():e.lift(new rE(t))}}class rE{constructor(t){if(this.total=t,this.total<0)throw new $n}call(t,e){return e.subscribe(new iE(t,this.total))}}class iE extends Ae.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var oE=n("x+ZX");class sE{constructor(t){this.callback=t}call(t,e){return e.subscribe(new aE(t,this.callback))}}class aE extends Ae.a{constructor(t,e){super(t),this.add(new Dv.a(e))}}class uE{constructor(t,e){this.id=t,this.url=e}}class cE extends uE{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lE extends uE{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hE extends uE{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fE extends uE{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dE extends uE{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pE extends uE{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gE extends uE{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mE extends uE{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yE extends uE{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bE{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vE{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wE{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _E{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EE{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OE{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CE{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const SE="primary";class TE{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function IE(t){return new TE(t)}function xE(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function AE(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kE(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!RE(t[i],e[i]))return!1;return!0}function RE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function jE(t){return Array.prototype.concat.apply([],t)}function NE(t){return t.length>0?t[t.length-1]:null}function DE(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function PE(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Et.a)(Promise.resolve(t)):Object(Te.a)(t)}function ME(t,e,n){return n?function(t,e){return kE(t,e)}(t.queryParams,e.queryParams)&&LE(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>RE(t[n],e[n]))}(t.queryParams,e.queryParams)&&FE(t.root,e.root)}function LE(t,e){if(!HE(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!LE(t.children[n],e.children[n]))return!1}return!0}function FE(t,e){return VE(t,e,e.segments)}function VE(t,e,n){if(t.segments.length>n.length)return!!HE(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!HE(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!FE(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!HE(t.segments,r)&&!!t.children.primary&&VE(t.children.primary,e,i)}}class UE{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=IE(this.queryParams)),this._queryParamMap}toString(){return QE.serialize(this)}}class qE{constructor(t,e){this.segments=t,this.children=e,this.parent=null,DE(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $E(this)}}class BE{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=IE(this.parameters)),this._parameterMap}toString(){return tO(this)}}function HE(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class zE{}class GE{parse(t){const e=new oO(t);return new UE(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${WE(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${YE(e)}=${YE(t)}`).join("&"):`${YE(e)}=${YE(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const QE=new GE;function $E(t){return t.segments.map(t=>tO(t)).join("/")}function WE(t,e){if(!t.hasChildren())return $E(t);if(e){const e=t.children.primary?WE(t.children.primary,!1):"",n=[];return DE(t.children,(t,e)=>{e!==SE&&n.push(`${e}:${WE(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return DE(t.children,(t,r)=>{r===SE&&(n=n.concat(e(t,r)))}),DE(t.children,(t,r)=>{r!==SE&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===SE?[WE(t.children.primary,!1)]:[`${n}:${WE(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${$E(t)}/${e[0]}`:`${$E(t)}/(${e.join("//")})`}}function KE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function YE(t){return KE(t).replace(/%3B/gi,";")}function JE(t){return KE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function XE(t){return decodeURIComponent(t)}function ZE(t){return XE(t.replace(/\+/g,"%20"))}function tO(t){return`${JE(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${JE(t)}=${JE(e[t])}`).join("")}`;var e}const eO=/^[^\/()?;=#]+/;function nO(t){const e=t.match(eO);return e?e[0]:""}const rO=/^[^=?&#]+/,iO=/^[^?&#]+/;class oO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qE([],{}):new qE([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new qE(t,e)),n}parseSegment(){const t=nO(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new BE(XE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=nO(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=nO(this.remaining);t&&(n=t,this.capture(n))}t[XE(e)]=XE(n)}parseQueryParam(t){const e=function(t){const e=t.match(rO);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(iO);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ZE(e),i=ZE(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=nO(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=SE);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new qE([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class sO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=aO(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=aO(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=uO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return uO(t,this._root).map(t=>t.value)}}function aO(t,e){if(t===e.value)return e;for(const n of e.children){const e=aO(t,n);if(e)return e}return null}function uO(t,e){if(t===e.value)return[e];for(const n of e.children){const r=uO(t,n);if(r.length)return r.unshift(e),r}return[]}class cO{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function lO(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class hO extends sO{constructor(t,e){super(t),this.snapshot=e,yO(this,t)}toString(){return this.snapshot.toString()}}function fO(t,e){const n=function(t,e){const n=new gO([],{},{},"",{},SE,e,null,t.root,-1,{});return new mO("",new cO(n,[]))}(t,e),r=new An([new BE("",{})]),i=new An({}),o=new An({}),s=new An({}),a=new An(""),u=new dO(r,i,s,a,o,SE,e,n.root);return u.snapshot=n.root,new hO(new cO(u,[]),n)}class dO{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(St.a)(t=>IE(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(St.a)(t=>IE(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class gO{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=IE(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=IE(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mO extends sO{constructor(t,e){super(e),this.url=t,yO(this,e)}toString(){return bO(this._root)}}function yO(t,e){e.value._routerState=t,e.children.forEach(e=>yO(t,e))}function bO(t){const e=t.children.length>0?` { ${t.children.map(bO).join(", ")} } `:"";return`${t.value}${e}`}function vO(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kE(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kE(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kE(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kE(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wO(t,e){return kE(t.params,e.params)&&function(t,e){return HE(t,e)&&t.every((t,n)=>kE(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||wO(t.parent,e.parent))}function _O(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return _O(t,e,r);return _O(t,e)})}(t,e,n);return new cO(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return EO(e,t),t}{const n=new dO(new An((r=e.value).url),new An(r.params),new An(r.queryParams),new An(r.fragment),new An(r.data),r.outlet,r.component,r),i=e.children.map(e=>_O(t,e));return new cO(n,i)}}var r}function EO(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)EO(t.children[n],e.children[n])}function OO(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function CO(t){return"object"==typeof t&&null!=t&&t.outlets}function SO(t,e,n,r,i){let o={};return r&&DE(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new UE(n.root===t?e:TO(n.root,t,e),o,i)}function TO(t,e,n){const r={};return DE(t.children,(t,i)=>{r[i]=t===e?n:TO(t,e,n)}),new qE(t.segments,r)}class IO{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&OO(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(CO);if(r&&r!==NE(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xO{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function AO(t,e,n){if(t||(t=new qE([],{})),0===t.segments.length&&t.hasChildren())return kO(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(CO(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!DO(a,u,e))return o;r+=2}else{if(!DO(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new qE(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new qE(t.segments.slice(r.pathIndex),t.children),kO(e,0,i)}return r.match&&0===i.length?new qE(t.segments,{}):r.match&&!t.hasChildren()?RO(t,e,n):r.match?kO(t,0,i):RO(t,e,n)}function kO(t,e,n){if(0===n.length)return new qE(t.segments,{});{const r=function(t){return CO(t[0])?t[0].outlets:{[SE]:t}}(n),i={};return DE(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=AO(t.children[r],e,n))}),DE(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new qE(t.segments,i)}}function RO(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(CO(o)){const t=jO(o.outlets);return new qE(r,t)}if(0===i&&OO(n[0])){r.push(new BE(t.segments[e].path,NO(n[0]))),i++;continue}const s=CO(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&OO(a)?(r.push(new BE(s,NO(a))),i+=2):(r.push(new BE(s,{})),i++)}return new qE(r,{})}function jO(t){const e={};return DE(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=RO(new qE([],{}),0,t))}),e}function NO(t){const e={};return DE(t,(t,n)=>e[n]=`${t}`),e}function DO(t,e,n){return t==n.path&&kE(e,n.parameters)}class PO{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),vO(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=lO(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),DE(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=lO(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=lO(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new OE(t.value.snapshot))}),t.children.length&&this.forwardEvent(new _E(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(vO(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),MO(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function MO(t){vO(t.value),t.children.forEach(MO)}class LO{constructor(t,e){this.routes=t,this.module=e}}function FO(t){return"function"==typeof t}function VO(t){return t instanceof UE}const UO=Symbol("INITIAL_VALUE");function qO(){return tr(t=>function(...t){let e,n;return Object(vn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ct.a)(t[0])&&(t=t[0]),Object(_n.a)(t,n).lift(new Rn(e))}(t.map(t=>t.pipe(Wn(1),Jn(UO)))).pipe(oo((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==UO)return t;if(r===UO&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||VO(r))return r}return t},t)},UO),ke(t=>t!==UO),Object(St.a)(t=>VO(t)?t:!0===t),Wn(1)))}let BO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[LC]},encapsulation:2}),t})();function HO(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];zO(r,GO(e,r))}}function zO(t,e){t.children&&HO(t.children,e)}function GO(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function QO(t){const e=t.children&&t.children.map(QO),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==SE&&(n.component=BO),n}function $O(t){return t.outlet||SE}function WO(t,e){const n=t.filter(t=>$O(t)===e);return n.push(...t.filter(t=>$O(t)!==e)),n}const KO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function YO(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},KO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||AE)(n,t,e);if(!i)return Object.assign({},KO);const o={};DE(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function JO(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>XO(t,e,n)&&$O(n)!==SE)}(t,n,r)){const i=new qE(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&$O(o)!==SE){const n=new qE([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[$O(o)]=n}return i}(t,e,r,new qE(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>XO(t,e,n))}(t,n,r)){const o=new qE(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(XO(t,n,a)&&!i[$O(a)]){const n=new qE([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[$O(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new qE(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function XO(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ZO(t,e,n,r){return!!($O(t)===r||r!==SE&&XO(e,n,t))&&("**"===t.path||YO(e,t,n).matched)}function tC(t,e,n){return 0===e.length&&!t.children[n]}class eC{constructor(t){this.segmentGroup=t||null}}class nC{constructor(t){this.urlTree=t}}function rC(t){return new Ot.a(e=>e.error(new eC(t)))}function iC(t){return new Ot.a(e=>e.error(new nC(t)))}function oC(t){return new Ot.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class sC{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=JO(this.urlTree.root,[],[],this.config).segmentGroup,e=new qE(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,SE).pipe(Object(St.a)(t=>this.createUrlTree(aC(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Z_(t=>{if(t instanceof nC)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof eC)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,SE).pipe(Object(St.a)(e=>this.createUrlTree(aC(e),t.queryParams,t.fragment))).pipe(Z_(t=>{if(t instanceof eC)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new qE([],{[SE]:t}):t;return new UE(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(St.a)(t=>new qE([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Et.a)(r).pipe(xe(r=>{const i=n.children[r],o=WO(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(St.a)(t=>({segment:t,outlet:r})))}),oo((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ke((e,n)=>t(e,n,r)):$v.a,nE(1),n?Uv(e):Hv(()=>new Vv))}())}expandSegment(t,e,n,r,i,o){return Object(Et.a)(n).pipe(xe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Z_(t=>{if(t instanceof eC)return Object(Te.a)(null);throw t}))),Wv(t=>!!t),Z_((t,n)=>{if(t instanceof Vv||"EmptyError"===t.name){if(tC(e,r,i))return Object(Te.a)(new qE([],{}));throw new eC(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ZO(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):rC(e):rC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?iC(i):this.lineralizeSegments(n,i).pipe(Object(Ie.a)(n=>{const i=new qE(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=YO(e,r,i);if(!s)return rC(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?iC(l):this.lineralizeSegments(r,l).pipe(Object(Ie.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Te.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(St.a)(t=>(n._loadedConfig=t,new qE(r,{})))):Object(Te.a)(new qE(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=YO(e,n,r);if(!o)return rC(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Ie.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=JO(e,s,u,o),l=new qE(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(St.a)(t=>new qE(s,t)));if(0===o.length&&0===c.length)return Object(Te.a)(new qE(s,{}));const h=$O(n)===i;return this.expandSegment(r,l,o,c,h?SE:i,!0).pipe(Object(St.a)(t=>new qE(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Te.a)(new LO(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Te.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ie.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(St.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ot.a(e=>e.error(xE(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Te.a)(new LO([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Te.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&FO(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!FO(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return PE(o)});return Object(Te.a)(i).pipe(qO(),Object(rr.a)(t=>{if(!VO(t))return;const e=xE(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(St.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Te.a)(n);if(r.numberOfChildren>1||!r.children.primary)return oC(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new UE(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return DE(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return DE(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new qE(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function aC(t){const e={};for(const n of Object.keys(t.children)){const r=aC(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new qE(t.segments.concat(e.segments),e.children)}return t}(new qE(t.segments,e))}class uC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cC{constructor(t,e){this.component=t,this.route=e}}function lC(t,e,n){const r=t._root;return fC(r,e?e._root:null,n,[r.value])}function hC(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fC(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=lO(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!HE(t.url,e.url);case"pathParamsOrQueryParamsChange":return!HE(t.url,e.url)||!kE(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wO(t,e)||!kE(t.queryParams,e.queryParams);case"paramsChange":default:return!wO(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uC(r)):(o.data=s.data,o._resolvedData=s._resolvedData),fC(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cC(a.outlet.component,s))}else s&&dC(e,a,i),i.canActivateChecks.push(new uC(r)),fC(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),DE(o,(t,e)=>dC(t,n.getContext(e),i)),i}function dC(t,e,n){const r=lO(t),i=t.value;DE(r,(t,r)=>{dC(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new cC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class pC{}function gC(t){return new Ot.a(e=>e.error(t))}class mC{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=JO(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,SE);if(null===e)return null;const n=new gO([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},SE,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new cO(n,e),i=new mO(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=pO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=WO(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!yC(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===SE?-1:e.value.outlet===SE?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return tC(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ZO(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?NE(n).parameters:{};i=new gO(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wC(t),$O(t),t.component,t,bC(e),vC(e)+n.length,_C(t))}else{const r=YO(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new gO(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wC(t),$O(t),t.component,t,bC(e),vC(e)+o.length,_C(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=JO(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new cO(i,t)]}if(0===a.length&&0===c.length)return[new cO(i,[])];const l=$O(t)===r,h=this.processSegment(a,u,c,l?SE:r);return null===h?null:[new cO(i,h)]}}function yC(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bC(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vC(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function wC(t){return t.data||{}}function _C(t){return t.resolve||{}}function EC(t){return tr(e=>{const n=t(e);return n?Object(Et.a)(n).pipe(Object(St.a)(()=>e)):Object(Te.a)(e)})}class OC extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const CC=new r.r("ROUTES");class SC{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(St.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new LO(jE(i.injector.get(CC,void 0,r.q.Self|r.q.Optional)).map(QO),i)}),Z_(t=>{throw e._loader$=void 0,t}));return e._loader$=new X_.a(n,()=>new dn.a).pipe(Object(oE.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Et.a)(this.loader.load(t)):PE(t()).pipe(Object(Ie.a)(t=>t instanceof r.w?Object(Te.a)(t):Object(Et.a)(this.compiler.compileModuleAsync(t))))}}class TC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new IC,this.attachRef=null}}class IC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new TC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class xC{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function AC(t){throw t}function kC(t,e,n){return e.parse("/")}function RC(t,e){return Object(Te.a)(null)}let jC=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new dn.a,this.errorHandler=AC,this.malformedUriErrorHandler=kC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:RC,afterPreactivation:RC},this.urlHandlingStrategy=new xC,this.routeReuseStrategy=new OC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new UE(new qE([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new SC(s,a,t=>this.triggerEvent(new bE(t)),t=>this.triggerEvent(new vE(t))),this.routerState=fO(this.currentUrlTree,this.rootComponentType),this.transitions=new An({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ke(t=>0!==t.id),Object(St.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),tr(t=>{let n=!1,r=!1;return Object(Te.a)(t).pipe(Object(rr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),tr(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Te.a)(t).pipe(tr(t=>{const n=this.transitions.getValue();return e.next(new cE(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?fn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,tr(t=>function(t,e,n,r,i){return new sC(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(St.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(rr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Ie.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new mC(t,e,n,r,i,o).recognize();return null===s?gC(new pC):Object(Te.a)(s)}catch(xv){return gC(xv)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(St.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(rr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new dE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new cE(n,this.serializeUrl(r),i,o);e.next(a);const u=fO(r,this.rootComponentType).snapshot;return Object(Te.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),fn.a}),EC(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(rr.a)(t=>{const e=new pE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(St.a)(t=>Object.assign(Object.assign({},t),{guards:lC(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Ie.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Te.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Et.a)(t).pipe(Object(Ie.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Te.a)(!0);const s=o.map(o=>{const s=hC(o,e,i);let a;if(function(t){return t&&FO(t.canDeactivate)}(s))a=PE(s.canDeactivate(t,e,n,r));else{if(!FO(s))throw new Error("Invalid CanDeactivate guard");a=PE(s(t,e,n,r))}return a.pipe(Wv())});return Object(Te.a)(s).pipe(qO())}(t.component,t.route,n,e,r)),Wv(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Ie.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Et.a)(e).pipe(xe(e=>Hn(function(t,e){return null!==t&&e&&e(new wE(t)),Object(Te.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new EE(t)),Object(Te.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>J_(()=>{const i=e.guards.map(i=>{const o=hC(i,e.node,n);let s;if(function(t){return t&&FO(t.canActivateChild)}(o))s=PE(o.canActivateChild(r,t));else{if(!FO(o))throw new Error("Invalid CanActivateChild guard");s=PE(o(r,t))}return s.pipe(Wv())});return Object(Te.a)(i).pipe(qO())}));return Object(Te.a)(i).pipe(qO())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Te.a)(!0);const i=r.map(r=>J_(()=>{const i=hC(r,e,n);let o;if(function(t){return t&&FO(t.canActivate)}(i))o=PE(i.canActivate(e,t));else{if(!FO(i))throw new Error("Invalid CanActivate guard");o=PE(i(e,t))}return o.pipe(Wv())}));return Object(Te.a)(i).pipe(qO())}(t,e.route,n))),Wv(t=>!0!==t,!0))}(r,o,t,e):Object(Te.a)(n)),Object(St.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(rr.a)(t=>{if(VO(t.guardsResult)){const e=xE(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new gE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ke(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new hE(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),EC(t=>{if(t.guards.canActivateChecks.length)return Object(Te.a)(t).pipe(Object(rr.a)(t=>{const e=new mE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),tr(t=>{let n=!1;return Object(Te.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Ie.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Te.a)(t);let o=0;return Object(Et.a)(n).pipe(xe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Te.a)({});const o={};return Object(Et.a)(i).pipe(Object(Ie.a)(i=>function(t,e,n,r){const i=hC(t,e,r);return PE(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(rr.a)(t=>{o[i]=t}))),nE(1),Object(Ie.a)(()=>Object.keys(o).length===i.length?Object(Te.a)(o):fn.a))}(t._resolve,t,e,r).pipe(Object(St.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),pO(t,n).resolve),null)))}(t.route,e,r,i)),Object(rr.a)(()=>o++),nE(1),Object(Ie.a)(e=>o===n.length?Object(Te.a)(t):fn.a))})),Object(rr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new hE(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(rr.a)(t=>{const e=new yE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),EC(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(St.a)(t=>{const e=function(t,e,n){const r=_O(t,e._root,n?n._root:void 0);return new hO(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(rr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(St.a)(t=>(new PO(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(rr.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new hE(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new sE(i))),Z_(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=VO(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new hE(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new fE(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Yl){t.reject(Yl)}}var i;return fn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){HO(t),this.config=t.map(QO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return SO(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new IO(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return DE(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new IO(n,e,r)}(n);if(o.toRoot())return SO(e.root,new qE([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new xO(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new xO(t,t===e.root,0)}const r=OO(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new xO(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?kO(s.segmentGroup,s.index,o.commands):AO(s.segmentGroup,s.index,o.commands);return SO(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=VO(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(xv){e=this.malformedUriErrorHandler(xv,this.urlSerializer,t)}return e}isActive(t,e){if(VO(t))return ME(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ME(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new lE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.N),r.Yb(zE),r.Yb(IC),r.Yb(_),r.Yb(r.s),r.Yb(r.x),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),NC=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new dn.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:PC(this.skipLocationChange),replaceUrl:PC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:PC(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(jC),r.Mb(dO),r.Zb("tabindex"),r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})(),DC=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new dn.a,this.subscription=t.events.subscribe(t=>{t instanceof lE&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:PC(this.skipLocationChange),replaceUrl:PC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:PC(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(jC),r.Mb(dO),r.Mb(m))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ub("href",e.href,r.vc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function PC(t){return""===t||!!t}let MC=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof lE&&this.update()})}ngAfterContentInit(){Object(Te.a)(this.links.changes,this.linksWithHrefs.changes,Object(Te.a)(null)).pipe(Object(Bn.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Et.a)(e).pipe(Object(Bn.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(jC),r.Mb(r.l),r.Mb(r.E),r.Mb(r.h),r.Mb(NC,8),r.Mb(DC,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,NC,1),r.Fb(n,DC,1)),2&t){let t;r.rc(t=r.cc())&&(e.links=t),r.rc(t=r.cc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.yb]}),t})(),LC=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||SE,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new FC(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(IC),r.Mb(r.Q),r.Mb(r.j),r.Zb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class FC{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===dO?this.route:t===IC?this.childContexts:this.parent.get(t,e)}}class VC{}class UC{preload(t,e){return Object(Te.a)(null)}}let qC=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new SC(e,n,e=>t.triggerEvent(new bE(e)),e=>t.triggerEvent(new vE(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ke(t=>t instanceof lE),xe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Et.a)(n).pipe(Object(Bn.a)(),Object(St.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Te.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Ie.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(jC),r.Yb(r.x),r.Yb(r.i),r.Yb(r.s),r.Yb(VC))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),BC=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lE&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof CE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new CE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(jC),r.Yb(z),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const HC=new r.r("ROUTER_CONFIGURATION"),zC=new r.r("ROUTER_FORROOT_GUARD"),GC=[_,{provide:zE,useClass:GE},{provide:jC,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new jC(null,t,e,n,r,i,s,jE(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[zE,IC,_,r.s,r.x,r.i,CC,HC,[class{},new r.B],[class{},new r.B]]},IC,{provide:dO,useFactory:function(t){return t.routerState.root},deps:[jC]},{provide:r.x,useClass:r.K},qC,UC,class{preload(t,e){return e().pipe(Z_(()=>Object(Te.a)(null)))}},{provide:HC,useValue:{enableTracing:!1}}];function QC(){return new r.z("Router",jC)}let $C=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[GC,JC(e),{provide:zC,useFactory:YC,deps:[[jC,new r.B,new r.J]]},{provide:HC,useValue:n||{}},{provide:m,useFactory:KC,deps:[a,[new r.p(b),new r.B],HC]},{provide:BC,useFactory:WC,deps:[jC,z,HC]},{provide:VC,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:UC},{provide:r.z,multi:!0,useFactory:QC},[XC,{provide:r.d,multi:!0,useFactory:ZC,deps:[XC]},{provide:eS,useFactory:tS,deps:[XC]},{provide:r.b,multi:!0,useExisting:eS}]]}}static forChild(e){return{ngModule:t,providers:[JC(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(zC,8),r.Yb(jC,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function WC(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new BC(t,e,n)}function KC(t,e,n={}){return n.useHash?new w(t,e):new v(t,e)}function YC(t){return"guarded"}function JC(t){return[{provide:r.a,multi:!0,useValue:t},{provide:CC,multi:!0,useValue:t}]}let XC=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new dn.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(jC),r=this.injector.get(HC);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Te.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(HC),n=this.injector.get(qC),i=this.injector.get(BC),o=this.injector.get(jC),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ZC(t){return t.appInitializer.bind(t)}function tS(t){return t.bootstrapListener.bind(t)}const eS=new r.r("Router Initializer");let nS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.Ac(1,"home works!"),r.Qb())},styles:[""]}),t})(),rS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-products"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.Ac(1,"products works!"),r.Qb())},styles:[""]}),t})(),iS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-blog"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.Ac(1,"blog works!"),r.Qb())},styles:[""]}),t})(),oS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-about"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.Ac(1,"about works!"),r.Qb())},styles:[""]}),t})();const sS=function(){return["categories"]},aS=function(){return["products"]},uS=function(){return["blog"]};let cS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-admin"]],decls:13,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"d-flex","align-items-start"],[1,"nav","nav-dard","flex-column","nav-pills","me-3","col-2"],["type","button","routerLinkActive","active",1,"nav-link",3,"routerLink"],["id","v-pills-tabContent",1,"tab-content","col-9"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"button",5),r.Ac(6,"Categories"),r.Qb(),r.Rb(7,"button",5),r.Ac(8,"Products"),r.Qb(),r.Rb(9,"button",5),r.Ac(10,"Blogs"),r.Qb(),r.Qb(),r.Rb(11,"div",6),r.Nb(12,"router-outlet"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(5),r.kc("routerLink",r.nc(3,sS)),r.Ab(2),r.kc("routerLink",r.nc(4,aS)),r.Ab(2),r.kc("routerLink",r.nc(5,uS)))},directives:[MC,NC,LC],styles:[""]}),t})();class lS{constructor(t,e){this.name=t,this.id=e}}let hS=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000/categories"}getJSONCategories(){return this.http.get(this.url)}postJSONCategory(t){return this.http.post(this.url,t)}deleteJSONCategory(t){return this.http.delete(`${this.url}/${t}`)}updateJSONCategory(t){return this.http.put(`${this.url}/${t.id}`,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ke))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fS=(()=>{class t{transform(t,e){return t?e?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):t:[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"search",type:t,pure:!0}),t})();function dS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"tr"),r.Rb(1,"th",16),r.Ac(2),r.Qb(),r.Rb(3,"td"),r.Ac(4),r.Qb(),r.Rb(5,"td"),r.Rb(6,"button",17),r.bc("click",function(){r.uc(t);const e=r.dc(),n=r.sc(28);return e.openModalWithInputs(n,!0)})("click",function(){r.uc(t);const n=e.$implicit;return r.dc().saveCurrentCategory(n)}),r.Ac(7,"Edit"),r.Qb(),r.Qb(),r.Rb(8,"td"),r.Rb(9,"button",17),r.bc("click",function(){r.uc(t);const e=r.dc(),n=r.sc(30);return e.openConfirmModal(n)})("click",function(){r.uc(t);const n=e.$implicit;return r.dc().saveCurrentCategory(n)}),r.Ac(10,"Delete"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.Bc(n+1),r.Ab(2),r.Bc(t.name)}}function pS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",27),r.bc("click",function(){return r.uc(t),r.dc(2).addAdminCategory()}),r.Ac(1,"Add"),r.Qb()}if(2&t){const t=r.dc(2);r.kc("disabled",t.isFieldEmpty)}}function gS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",17),r.bc("click",function(){return r.uc(t),r.dc(2).editAdminCategory()}),r.Ac(1,"Save edit"),r.Qb()}}function mS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",18),r.Rb(1,"h4",19),r.Ac(2,"Add category"),r.Qb(),r.Rb(3,"button",20),r.bc("click",function(){return r.uc(t),r.dc().closeModalWithInputs()}),r.Rb(4,"span"),r.Ac(5,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",21),r.Rb(7,"input",22),r.bc("ngModelChange",function(e){return r.uc(t),r.dc().name=e})("keyup",function(){r.uc(t);const e=r.dc();return e.checkEmptyField(e.name)}),r.Qb(),r.Qb(),r.Rb(8,"div",23),r.Rb(9,"button",24),r.bc("click",function(){return r.uc(t),r.dc().closeModalWithInputs()}),r.Ac(10,"Close"),r.Qb(),r.yc(11,pS,2,1,"button",25),r.yc(12,gS,2,0,"button",26),r.Qb()}if(2&t){const t=r.dc();r.Ab(7),r.kc("ngModel",t.name),r.Ab(4),r.kc("ngIf",t.isAddButton),r.Ab(1),r.kc("ngIf",!t.isAddButton)}}function yS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",28),r.Rb(1,"button",29),r.bc("click",function(){return r.uc(t),r.dc().closeConfirmModal()}),r.Ac(2,"Dismiss"),r.Qb(),r.Rb(3,"button",30),r.bc("click",function(){r.uc(t);const e=r.dc();return e.deleteAdminCategory(e.categoryID)})("click",function(){return r.uc(t),r.dc().closeConfirmModal()}),r.Ac(4,"Delete"),r.Qb(),r.Qb()}}let bS=(()=>{class t{constructor(t,e){this.modalService=t,this.categoryService=e,this.adminCategories=[]}ngOnInit(){this.getAdminCategories(),this.checkEmptyField(this.name)}getAdminCategories(){this.categoryService.getJSONCategories().subscribe(t=>{this.adminCategories=t},t=>{console.log(t)})}addAdminCategory(){const t=new lS(this.name);this.categoryService.postJSONCategory(t).subscribe(()=>{this.getAdminCategories()},t=>{console.log(t)}),this.closeModalWithInputs()}deleteAdminCategory(t){this.categoryService.deleteJSONCategory(t).subscribe(()=>{this.getAdminCategories()},t=>{console.log(t)})}editAdminCategory(){const t=new lS(this.name,this.categoryID);this.categoryService.updateJSONCategory(t).subscribe(()=>{this.getAdminCategories()},t=>{console.log(t)}),this.closeModalWithInputs()}saveCurrentCategory(t){this.currentCategory=t,this.name=t.name,this.categoryID=t.id}resetField(){this.name="",this.categoryID=""}checkEmptyField(t){this.isFieldEmpty=!t}showEditButton(){this.isAddButton=!1}openModalWithInputs(t,e=!1){this.modalRef=this.modalService.show(t),this.isAddButton=!e}closeModalWithInputs(){this.modalRef.hide(),this.resetField()}openConfirmModal(t){this.modalRef=this.modalService.show(t,{class:"modal-dialog-centered modal-sm"})}closeConfirmModal(){this.modalRef.hide(),this.resetField()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Zi),r.Mb(hS))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-admin-categories"]],decls:31,vars:5,consts:[[1,"container"],[1,"content","border","rounded"],[1,"content__header","p-4","pt-3","pb-3","bg-light"],[1,"row","d-flex","justify-content-between","align-items-center"],[1,"col-10","text-left","d-flex","align-items-center"],[1,"col-2"],["type","button",1,"btn","btn-dark","w-100",3,"click"],[1,"content__main","border-top","p-3"],["type","text","placeholder","filter categories...","name","field",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[1,"table-secondary"],[1,"th-col-1"],[1,"col"],[4,"ngFor","ngForOf"],["add",""],["confirmation",""],["scope","row"],["type","button",1,"btn","btn-dark",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button",1,"close","pull-right",3,"click"],[1,"modal-body"],["type","text","placeholder","name here...","name","name",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-dark",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-dark",3,"click",4,"ngIf"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"modal-body","p-3","d-flex","justify-content-around"],["type","button",1,"btn","btn-dark","col-5",3,"click"],["type","button",1,"btn","btn-danger","col-5",3,"click"]],template:function(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"span"),r.Ac(6,"Categories"),r.Qb(),r.Qb(),r.Rb(7,"div",5),r.Rb(8,"button",6),r.bc("click",function(){r.uc(t);const n=r.sc(28);return e.openModalWithInputs(n)}),r.Ac(9,"Add"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(10,"div",7),r.Rb(11,"input",8),r.bc("ngModelChange",function(t){return e.field=t}),r.Qb(),r.Nb(12,"hr"),r.Rb(13,"table",9),r.Rb(14,"thead",10),r.Rb(15,"tr"),r.Rb(16,"th",11),r.Ac(17,"#"),r.Qb(),r.Rb(18,"th",12),r.Ac(19,"Name"),r.Qb(),r.Rb(20,"th",12),r.Ac(21,"Edit"),r.Qb(),r.Rb(22,"th",12),r.Ac(23,"Delete"),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"tbody"),r.yc(25,dS,11,2,"tr",13),r.ec(26,"search"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.yc(27,mS,13,3,"ng-template",null,14,r.zc),r.yc(29,yS,5,0,"ng-template",null,15,r.zc)}2&t&&(r.Ab(11),r.kc("ngModel",e.field),r.Ab(14),r.kc("ngForOf",r.gc(26,2,e.adminCategories,e.field)))},directives:[jt,$t,fe,k,j],pipes:[fS],styles:[".th-col-1[_ngcontent-%COMP%]{width:10px}"]}),t})();class vS{constructor(t,e,n,r,i,o){this.category=t,this.name=e,this.description=n,this.price=r,this.image=i,this.id=o}}let wS=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000/products"}getJSONProducts(){return this.http.get(this.url)}postJSONProduct(t){return this.http.post(this.url,t)}deleteJSONProduct(t){return this.http.delete(`${this.url}/${t}`)}updateJSONProduct(t){return this.http.put(`${this.url}/${t.id}`,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ke))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _S(t,e){if(1&t){const t=r.Sb();r.Rb(0,"tr"),r.Rb(1,"th",15),r.Ac(2),r.Qb(),r.Rb(3,"td"),r.Ac(4),r.Qb(),r.Rb(5,"td"),r.Ac(6),r.Qb(),r.Rb(7,"td"),r.Ac(8),r.ec(9,"slice"),r.Qb(),r.Rb(10,"td"),r.Ac(11),r.Qb(),r.Rb(12,"td"),r.Nb(13,"img",16),r.Qb(),r.Rb(14,"td"),r.Rb(15,"button",17),r.bc("click",function(){r.uc(t);const e=r.dc(),n=r.sc(36);return e.openModalWithInputs(n,!0)})("click",function(){r.uc(t);const n=e.$implicit;return r.dc().saveCurrentProduct(n)}),r.Ac(16," Edit "),r.Qb(),r.Qb(),r.Rb(17,"td"),r.Rb(18,"button",17),r.bc("click",function(){r.uc(t);const e=r.dc(),n=r.sc(38);return e.openConfirmModal(n)})("click",function(){r.uc(t);const n=e.$implicit;return r.dc().saveCurrentProduct(n)}),r.Ac(19," Delete "),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.Bc(n+1),r.Ab(2),r.Bc(t.category),r.Ab(2),r.Bc(t.name),r.Ab(2),r.Cc("",r.hc(9,6,t.description,0,30),"..."),r.Ab(3),r.Bc(t.price),r.Ab(2),r.kc("src",t.image,r.vc)}}function ES(t,e){if(1&t&&(r.Rb(0,"option"),r.Ac(1),r.Qb()),2&t){const t=e.$implicit;r.Ab(1),r.Bc(t.name)}}function OS(t,e){1&t&&(r.Rb(0,"div",43),r.Ac(1," File uploaded. Now you can add product. "),r.Qb())}function CS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",44),r.bc("click",function(){return r.uc(t),r.dc(2).addAdminProducts()}),r.Ac(1," Add "),r.Qb()}if(2&t){const t=r.dc(2);r.kc("disabled",t.isFieldEmpty)}}function SS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",17),r.bc("click",function(){return r.uc(t),r.dc(2).editAdminProduct()}),r.Ac(1," Save edit "),r.Qb()}}function TS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",18),r.Rb(1,"h4",19),r.Ac(2,"Add product"),r.Qb(),r.Rb(3,"button",20),r.bc("click",function(){return r.uc(t),r.dc().closeModalWithInputs()}),r.Rb(4,"span",21),r.Ac(5,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",22),r.bc("keyup",function(){return r.uc(t),r.dc().checkEmptyField()}),r.Rb(7,"div",23),r.Rb(8,"label",24),r.Ac(9,"Category:"),r.Qb(),r.Rb(10,"div",25),r.Rb(11,"select",26),r.bc("ngModelChange",function(e){return r.uc(t),r.dc().category=e}),r.Nb(12,"option",27),r.yc(13,ES,2,1,"option",12),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",23),r.Rb(15,"label",28),r.Ac(16,"Name:"),r.Qb(),r.Rb(17,"div",25),r.Rb(18,"input",29),r.bc("ngModelChange",function(e){return r.uc(t),r.dc().name=e}),r.Qb(),r.Qb(),r.Qb(),r.Rb(19,"div",23),r.Rb(20,"label",30),r.Ac(21,"Description:"),r.Qb(),r.Rb(22,"div",25),r.Rb(23,"textarea",31),r.bc("ngModelChange",function(e){return r.uc(t),r.dc().description=e}),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"div",23),r.Rb(25,"label",32),r.Ac(26,"Price:"),r.Qb(),r.Rb(27,"div",25),r.Rb(28,"input",33),r.bc("ngModelChange",function(e){return r.uc(t),r.dc().price=e}),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",34),r.Rb(30,"input",35),r.bc("change",function(e){return r.uc(t),r.dc().uploadFile(e)}),r.Qb(),r.Qb(),r.Rb(31,"div",36),r.Nb(32,"div",37),r.ec(33,"async"),r.Qb(),r.yc(34,OS,2,0,"div",38),r.Qb(),r.Rb(35,"div",39),r.Rb(36,"button",40),r.bc("click",function(){return r.uc(t),r.dc().closeModalWithInputs()}),r.Ac(37," Close "),r.Qb(),r.yc(38,CS,2,1,"button",41),r.yc(39,SS,2,0,"button",42),r.Qb()}if(2&t){const t=r.dc();r.Ab(11),r.kc("ngModel",t.category),r.Ab(2),r.kc("ngForOf",t.adminCategories),r.Ab(5),r.kc("ngModel",t.name),r.Ab(5),r.kc("ngModel",t.description),r.Ab(5),r.kc("ngModel",t.price),r.Ab(4),r.xc("width",r.fc(33,10,t.uploadPercent)+"%"),r.Ab(2),r.kc("ngIf",t.isSuccess),r.Ab(4),r.kc("ngIf",t.isAddButton),r.Ab(1),r.kc("ngIf",!t.isAddButton)}}function IS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",45),r.Rb(1,"button",46),r.bc("click",function(){return r.uc(t),r.dc().closeConfirmModal()}),r.Ac(2," Dismiss "),r.Qb(),r.Rb(3,"button",47),r.bc("click",function(){r.uc(t);const e=r.dc();return e.deleteAdminProduct(e.productID)})("click",function(){return r.uc(t),r.dc().closeConfirmModal()}),r.Ac(4," Delete "),r.Qb(),r.Qb()}}const xS=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:nS},{path:"products",component:rS},{path:"blog",component:iS},{path:"about",component:oS},{path:"admin",component:cS,children:[{path:"",pathMatch:"full",redirectTo:"categories"},{path:"categories",component:bS},{path:"products",component:(()=>{class t{constructor(t,e,n,r){this.modalService=t,this.productService=e,this.categoryService=n,this.storage=r,this.adminCategories=[],this.adminProducts=[]}ngOnInit(){this.getAdminCategories(),this.getAdminProducts(),this.checkEmptyField()}getAdminCategories(){this.categoryService.getJSONCategories().subscribe(t=>{this.adminCategories=t},t=>{console.log(t)})}getAdminProducts(){this.productService.getJSONProducts().subscribe(t=>{this.adminProducts=t},t=>{console.log(t)})}addAdminProducts(){const t=new vS(this.category,this.name,this.description,this.price,this.image);this.productService.postJSONProduct(t).subscribe(()=>{this.getAdminProducts()},t=>{console.log(t)}),this.closeModalWithInputs()}deleteAdminProduct(t){this.productService.deleteJSONProduct(t).subscribe(()=>{this.getAdminProducts()},t=>{console.log(t)})}editAdminProduct(){const t=new vS(this.category,this.name,this.description,this.price,this.image,this.productID);this.productService.updateJSONProduct(t).subscribe(()=>{this.getAdminProducts()},t=>{console.log(t)}),this.closeModalWithInputs()}saveCurrentProduct(t){this.currentProduct=t,this.category=t.category,this.name=t.name,this.description=t.description,this.price=t.price,this.image=t.image,this.productID=t.id}resetField(){this.category=null,this.name="",this.description="",this.price=null,this.image="",this.productID="",this.isSuccess=!1,this.isFieldEmpty=!0}checkEmptyField(){this.isFieldEmpty=!(this.category&&this.name&&this.description&&this.price)}openModalWithInputs(t,e=!1){this.modalRef=this.modalService.show(t),this.isAddButton=!e}closeModalWithInputs(){this.modalRef.hide(),this.resetField()}uploadFile(t){const e=t.target.files[0],n=this.storage.upload(`images/${e.name}`,e);this.uploadPercent=n.percentageChanges(),n.then(t=>{this.storage.ref(`images/${t.metadata.name}`).getDownloadURL().subscribe(t=>{this.image=t,this.uploadPercent=null,this.isSuccess=!0})})}openConfirmModal(t){this.modalRef=this.modalService.show(t,{class:"modal-dialog-centered modal-sm"})}closeConfirmModal(){this.modalRef.hide(),this.resetField()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Zi),r.Mb(wS),r.Mb(hS),r.Mb($_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-admin-products"]],decls:39,vars:5,consts:[[1,"container"],[1,"content","border","rounded"],[1,"content__header","p-4","pt-3","pb-3","bg-light"],[1,"row","d-flex","justify-content-between","align-items-center"],[1,"col-10","text-left","d-flex","align-items-center"],[1,"col-2"],["type","button",1,"btn","btn-dark","w-100",3,"click"],[1,"content__main","border-top","p-3"],["type","text","placeholder","filter products...","name","field",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[1,"table-secondary"],[1,"col"],[4,"ngFor","ngForOf"],["template",""],["confirmation",""],["scope","row"],["width","38px","alt","image",3,"src"],["type","button",1,"btn","btn-dark",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"keyup"],[1,"mb-3","row"],["for","category",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","category","name","category",1,"form-select",3,"ngModel","ngModelChange"],["selected","","disabled",""],["for","name",1,"col-sm-2","col-form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","description",1,"col-sm-2","col-form-label"],["id","description","name","description",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],["for","price",1,"col-sm-2","col-form-label"],["type","number","id","price","name","price",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],["type","file","id","formFile","required","",1,"form-control",3,"change"],[1,"progress","mt-3","mb-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-success"],["class","alert alert-dark",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-dark",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-dark",3,"click",4,"ngIf"],[1,"alert","alert-dark"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"modal-body","p-3","d-flex","justify-content-around"],["type","button",1,"btn","btn-dark","col-5",3,"click"],["type","button",1,"btn","btn-danger","col-5",3,"click"]],template:function(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"span"),r.Ac(6,"Products"),r.Qb(),r.Qb(),r.Rb(7,"div",5),r.Rb(8,"button",6),r.bc("click",function(){r.uc(t);const n=r.sc(36);return e.openModalWithInputs(n)}),r.Ac(9," Add "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(10,"div",7),r.Rb(11,"input",8),r.bc("ngModelChange",function(t){return e.field=t}),r.Qb(),r.Nb(12,"hr"),r.Rb(13,"table",9),r.Rb(14,"thead",10),r.Rb(15,"tr"),r.Rb(16,"th",11),r.Ac(17,"#"),r.Qb(),r.Rb(18,"th",11),r.Ac(19,"Category"),r.Qb(),r.Rb(20,"th",11),r.Ac(21,"Name"),r.Qb(),r.Rb(22,"th",11),r.Ac(23,"Description"),r.Qb(),r.Rb(24,"th",11),r.Ac(25,"Price"),r.Qb(),r.Rb(26,"th",11),r.Ac(27,"Image"),r.Qb(),r.Rb(28,"th",11),r.Ac(29,"Edit"),r.Qb(),r.Rb(30,"th",11),r.Ac(31,"Delete"),r.Qb(),r.Qb(),r.Qb(),r.Rb(32,"tbody"),r.yc(33,_S,20,10,"tr",12),r.ec(34,"search"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.yc(35,TS,40,12,"ng-template",null,13,r.zc),r.yc(37,IS,5,0,"ng-template",null,14,r.zc)}2&t&&(r.Ab(11),r.kc("ngModel",e.field),r.Ab(22),r.kc("ngForOf",r.gc(34,2,e.adminProducts,e.field)))},directives:[jt,$t,fe,k,be,ve,Oe,pe,j],pipes:[fS,q,U],styles:["thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:10px}"]}),t})()},{path:"blog",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-admin-blog"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.Ac(1,"admin-blog works!"),r.Qb())},styles:[""]}),t})()}]},{path:"**",component:nS}];let AS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[$C.forRoot(xS)],$C]}),t})();const kS=function(){return["/home"]},RS=function(){return["/products"]},jS=function(){return["/blog"]},NS=function(){return["/about"]},DS=function(){return["/admin"]};let PS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-header"]],decls:21,vars:12,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","mb-3"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(t,e){1&t&&(r.Rb(0,"nav",0),r.Rb(1,"div",1),r.Rb(2,"a",2),r.Ac(3,"Pizza"),r.Qb(),r.Rb(4,"div",3),r.Rb(5,"ul",4),r.Rb(6,"li",5),r.Rb(7,"a",6),r.Ac(8,"Home"),r.Qb(),r.Qb(),r.Rb(9,"li",5),r.Rb(10,"a",6),r.Ac(11,"Products"),r.Qb(),r.Qb(),r.Rb(12,"li",5),r.Rb(13,"a",6),r.Ac(14,"Blog"),r.Qb(),r.Qb(),r.Rb(15,"li",5),r.Rb(16,"a",6),r.Ac(17,"About"),r.Qb(),r.Qb(),r.Rb(18,"li",5),r.Rb(19,"a",6),r.Ac(20,"Admin"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(2),r.kc("routerLink",r.nc(6,kS)),r.Ab(5),r.kc("routerLink",r.nc(7,kS)),r.Ab(3),r.kc("routerLink",r.nc(8,RS)),r.Ab(3),r.kc("routerLink",r.nc(9,jS)),r.Ab(3),r.kc("routerLink",r.nc(10,NS)),r.Ab(3),r.kc("routerLink",r.nc(11,DS)))},directives:[Tr,DC,MC],styles:[""]}),t})(),MS=(()=>{class t{constructor(){this.title="pizza"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Nb(0,"app-header"),r.Nb(1,"router-outlet"))},directives:[PS,LC],styles:[""]}),t})(),LS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[MS]}),t.\u0275inj=r.Jb({providers:[],imports:[[_t,AS,Yr,Se,hn,to.forRoot(),eo.a.initializeApp(Y_),vw,K_]]}),t})();Object(r.T)(),vt().bootstrapModule(LS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);